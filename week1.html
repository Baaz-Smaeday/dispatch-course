<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Week 1 ‚Äî Dispatch Foundation | Eagle Academy</title>
<link rel="stylesheet" href="assets/style.css"/>
<style>
/* ‚îÄ‚îÄ Page-specific styles ‚îÄ‚îÄ */
body { background: var(--navy-deep); }

.week-hero {
  background: linear-gradient(135deg, var(--navy-dark) 0%, var(--navy) 60%, rgba(244,121,32,0.12) 100%);
  border-bottom: 1px solid rgba(244,121,32,0.2);
  padding: 40px 24px 32px;
  position: relative;
  overflow: hidden;
}
.week-hero::before {
  content: '1';
  position: absolute;
  right: 5%;
  top: -20px;
  font-size: 220px;
  font-weight: 900;
  color: rgba(244,121,32,0.04);
  line-height: 1;
  pointer-events: none;
}
.week-hero-inner { max-width: 1200px; margin: 0 auto; }

.week-progress-bar { margin-top: 20px; }
.week-progress-bar .label { display: flex; justify-content: space-between; font-size: 12px; color: var(--grey); margin-bottom: 6px; }

/* Day Tabs */
.day-tabs-wrap {
  background: rgba(8,7,48,0.8);
  border-bottom: 1px solid rgba(244,121,32,0.15);
  position: sticky;
  top: 68px;
  z-index: 100;
  backdrop-filter: blur(12px);
}
.day-tabs {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 24px;
  display: flex;
  gap: 4px;
  overflow-x: auto;
  scrollbar-width: none;
}
.day-tabs::-webkit-scrollbar { display: none; }
.day-tab {
  padding: 14px 22px;
  border: none;
  background: transparent;
  color: var(--grey);
  font-family: var(--font-main);
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
  border-bottom: 3px solid transparent;
  white-space: nowrap;
  flex-shrink: 0;
}
.day-tab:hover { color: var(--white); }
.day-tab.active { color: var(--orange); border-bottom-color: var(--orange); }
.day-tab .check { color: var(--green); margin-left: 5px; }

/* Main content */
.main-wrap { max-width: 1200px; margin: 0 auto; padding: 32px 24px; }

/* Day panel */
.day-panel { display: none; }
.day-panel.active { display: block; animation: fadeUp 0.4s ease; }

.day-hero {
  background: linear-gradient(135deg, rgba(244,121,32,0.1), rgba(30,27,139,0.3));
  border: 1px solid rgba(244,121,32,0.25);
  border-radius: var(--radius-xl);
  padding: 28px 32px;
  margin-bottom: 28px;
  display: flex;
  align-items: flex-start;
  gap: 20px;
}
.day-num-big {
  width: 64px; height: 64px;
  border-radius: 16px;
  background: linear-gradient(135deg, var(--orange), var(--orange-dark));
  display: flex; align-items: center; justify-content: center;
  font-size: 26px; font-weight: 900;
  flex-shrink: 0;
  box-shadow: var(--shadow-orange);
}
.day-info h2 { font-size: 24px; font-weight: 800; margin-bottom: 4px; }
.day-info .hindi-title { color: var(--orange); font-family: var(--font-hindi); font-size: 15px; }
.day-info .day-meta { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 10px; }

/* Section headers */
.section-header {
  display: flex; align-items: center; gap: 12px;
  margin: 28px 0 18px;
}
.section-header h3 { font-size: 18px; font-weight: 800; }
.section-line { flex: 1; height: 1px; background: rgba(244,121,32,0.2); }

/* Video box */
.video-box {
  margin-bottom: 28px;
  border-radius: var(--radius-lg);
  overflow: hidden;
  border: 2px solid rgba(244,121,32,0.25);
  box-shadow: 0 12px 40px rgba(0,0,0,0.4);
}
.video-header {
  background: linear-gradient(90deg, var(--navy-dark), var(--navy));
  padding: 12px 18px;
  display: flex; align-items: center; gap: 10px;
  border-bottom: 1px solid rgba(244,121,32,0.2);
}
.video-header .dot { width: 10px; height: 10px; border-radius: 50%; }
.video-iframe-wrap { position: relative; padding-bottom: 56.25%; background: #000; }
.video-iframe-wrap iframe { position: absolute; top:0; left:0; width:100%; height:100%; border:none; }
.video-placeholder-box {
  aspect-ratio: 16/9;
  background: linear-gradient(135deg, var(--navy-dark), rgba(30,27,139,0.6));
  display: flex; flex-direction: column;
  align-items: center; justify-content: center; gap: 14px;
  cursor: pointer;
  transition: var(--transition);
}
.video-placeholder-box:hover { background: rgba(244,121,32,0.08); }
.play-circle {
  width: 80px; height: 80px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--orange), var(--orange-dark));
  display: flex; align-items: center; justify-content: center;
  font-size: 32px;
  box-shadow: 0 0 40px rgba(244,121,32,0.4);
  animation: pulseOrange 2.5s ease infinite;
}
.video-info { text-align: center; }
.video-info .title { font-size: 16px; font-weight: 700; margin-bottom: 6px; }
.video-info .meta  { font-size: 12px; color: var(--grey); font-family: var(--font-mono); }
.video-add-note {
  padding: 10px 18px;
  background: rgba(244,121,32,0.07);
  border-top: 1px solid rgba(244,121,32,0.15);
  font-size: 12px; color: var(--orange);
  display: flex; align-items: center; gap: 8px;
}

/* Topic cards */
.topic-card {
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(244,121,32,0.15);
  border-radius: var(--radius-lg);
  margin-bottom: 18px;
  overflow: hidden;
  transition: var(--transition);
}
.topic-card.done { border-color: rgba(34,197,94,0.35); }
.topic-toggle {
  width: 100%;
  background: none; border: none;
  padding: 18px 22px;
  cursor: pointer;
  display: flex; align-items: center; gap: 14px;
  transition: var(--transition);
  text-align: left;
}
.topic-toggle:hover { background: rgba(244,121,32,0.05); }
.t-num {
  width: 38px; height: 38px; border-radius: 10px; flex-shrink: 0;
  background: linear-gradient(135deg, var(--orange), var(--orange-dark));
  display: flex; align-items: center; justify-content: center;
  font-size: 15px; font-weight: 900; color: white;
}
.t-num.done-num { background: linear-gradient(135deg, var(--green), #16a34a); }
.t-titles { flex: 1; }
.t-en { font-size: 15px; font-weight: 700; color: var(--white); }
.t-hi { font-size: 12px; color: var(--orange); font-family: var(--font-hindi); margin-top: 2px; }
.t-arrow { font-size: 18px; color: var(--grey); transition: transform 0.3s; }
.topic-toggle.open .t-arrow { transform: rotate(90deg); color: var(--orange); }

.topic-content { display: none; padding: 0 22px 22px; }
.topic-content.open { display: block; animation: fadeUp 0.3s ease; }

/* Audio bar */
.audio-bar {
  display: flex; align-items: center; gap: 8px; flex-wrap: wrap;
  padding: 10px 14px;
  background: rgba(30,27,139,0.5);
  border: 1px solid rgba(244,121,32,0.2);
  border-radius: var(--radius-md);
  margin-bottom: 16px;
}
.audio-label { font-size: 11px; color: var(--grey); text-transform: uppercase; letter-spacing: 1px; font-weight: 600; margin-right: 4px; }
.a-btn {
  display: inline-flex; align-items: center; gap: 5px;
  padding: 6px 14px; border-radius: 999px; border: none; cursor: pointer;
  font-size: 12px; font-weight: 600; font-family: var(--font-main);
  transition: var(--transition);
}
.a-en { background: rgba(244,121,32,0.15); color: var(--orange); border: 1px solid rgba(244,121,32,0.3); }
.a-en:hover, .a-en.on { background: var(--orange); color: white; }
.a-hi { background: rgba(251,191,36,0.15); color: var(--gold); border: 1px solid rgba(251,191,36,0.3); font-family: var(--font-hindi); }
.a-hi:hover, .a-hi.on { background: var(--gold); color: var(--navy-deep); }
.a-stop { background: rgba(239,68,68,0.12); color: var(--red); border: 1px solid rgba(239,68,68,0.3); }
.a-stop:hover { background: var(--red); color: white; }
.a-btn.on { animation: pulse-glow 1.2s ease-in-out infinite; }
@keyframes pulse-glow {
  0%,100% { box-shadow: 0 0 0 0 rgba(244,121,32,0.4); }
  50% { box-shadow: 0 0 0 6px rgba(244,121,32,0); }
}
.dot-pulse {
  display:inline-block; width:6px; height:6px; border-radius:50%;
  background:var(--orange); animation: dotBounce 0.8s ease-in-out infinite;
}
@keyframes dotBounce {
  0%,80%,100% { transform:scale(0.6); opacity:0.4; }
  40% { transform:scale(1); opacity:1; }
}

/* Content blocks */
.content-en-block {
  font-size: 14px; line-height: 1.9; color: rgba(255,255,255,0.85);
}
.content-hi-block {
  font-size: 15px; line-height: 2; color: rgba(255,220,120,0.92);
  font-family: var(--font-hindi); display: none;
}
.content-hi-block.show { display: block; animation: fadeIn 0.3s ease; }

.highlight-box {
  background: rgba(244,121,32,0.08);
  border-left: 3px solid var(--orange);
  padding: 14px 18px; border-radius: 0 var(--radius-md) var(--radius-md) 0;
  margin: 12px 0; font-size: 13px; color: rgba(255,255,255,0.8);
  line-height: 1.8;
}
.info-box {
  background: rgba(6,182,212,0.08);
  border: 1px solid rgba(6,182,212,0.25);
  border-radius: var(--radius-md);
  padding: 14px 18px; margin: 12px 0;
  font-size: 13px; line-height: 1.8;
}
.example-box {
  background: rgba(34,197,94,0.07);
  border: 1px solid rgba(34,197,94,0.25);
  border-radius: var(--radius-md);
  padding: 14px 18px; margin: 12px 0;
  font-size: 13px; line-height: 1.8;
}
.warning-box {
  background: rgba(239,68,68,0.08);
  border: 1px solid rgba(239,68,68,0.25);
  border-radius: var(--radius-md);
  padding: 14px 18px; margin: 12px 0;
  font-size: 13px; line-height: 1.8;
}

/* Key terms */
.key-terms { display: flex; flex-wrap: wrap; gap: 8px; margin: 12px 0; }
.key-term {
  background: rgba(30,27,139,0.6);
  border: 1px solid rgba(99,102,241,0.3);
  border-radius: var(--radius-full);
  padding: 4px 14px;
  font-size: 12px; font-weight: 600; color: #a5b4fc;
  font-family: var(--font-mono);
}

/* Practical activities */
.practical-list { list-style: none; padding: 0; margin: 0; }
.practical-list li {
  display: flex; gap: 12px; align-items: flex-start;
  padding: 12px 0;
  border-bottom: 1px solid rgba(255,255,255,0.06);
  font-size: 13px; line-height: 1.7;
}
.practical-list li:last-child { border-bottom: none; }
.p-num {
  width: 26px; height: 26px; border-radius: 50%;
  background: rgba(244,121,32,0.2); color: var(--orange);
  display: flex; align-items: center; justify-content: center;
  font-size: 12px; font-weight: 700; flex-shrink: 0; margin-top: 1px;
}

/* Homework box */
.hw-box {
  background: linear-gradient(135deg, rgba(30,27,139,0.5), rgba(244,121,32,0.08));
  border: 1px solid rgba(244,121,32,0.25);
  border-radius: var(--radius-lg); padding: 22px 24px;
}
.hw-box h4 { font-size: 16px; font-weight: 800; margin-bottom: 8px; display: flex; align-items: center; gap: 10px; }
.hw-text { font-size: 14px; line-height: 1.8; color: rgba(255,255,255,0.82); }

/* Topic Quiz */
.topic-quiz {
  margin-top: 24px;
  background: rgba(30,27,139,0.4);
  border: 1px solid rgba(99,102,241,0.3);
  border-radius: var(--radius-lg);
  overflow: hidden;
}
.quiz-header {
  padding: 14px 20px;
  background: rgba(30,27,139,0.6);
  display: flex; align-items: center; gap: 10px;
  border-bottom: 1px solid rgba(255,255,255,0.06);
}
.quiz-header h4 { font-size: 15px; font-weight: 700; }
.quiz-body { padding: 20px; }

.q-item { margin-bottom: 22px; }
.q-item:last-child { margin-bottom: 0; }
.q-text { font-size: 14px; font-weight: 600; margin-bottom: 10px; line-height: 1.6; }
.q-opts { display: flex; flex-direction: column; gap: 8px; }
.q-opt {
  width: 100%; padding: 10px 16px; text-align: left;
  background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.1);
  border-radius: var(--radius-md); cursor: pointer; font-size: 13px;
  color: var(--white); font-family: var(--font-main);
  transition: var(--transition);
}
.q-opt:hover { border-color: var(--orange); background: rgba(244,121,32,0.08); }
.q-opt.correct { border-color: var(--green) !important; background: rgba(34,197,94,0.15) !important; color: var(--green); }
.q-opt.wrong   { border-color: var(--red)   !important; background: rgba(239,68,68,0.15)   !important; color: var(--red); }
.q-opt:disabled { cursor: default; }

.quiz-result {
  display: none; padding: 16px 20px;
  background: rgba(255,255,255,0.04);
  border-top: 1px solid rgba(255,255,255,0.08);
  text-align: center;
}
.quiz-result.show { display: block; animation: fadeUp 0.3s ease; }
.quiz-score { font-size: 32px; font-weight: 900; }
.quiz-retake { margin-top: 12px; }

/* Nav between days */
.day-nav {
  display: flex; justify-content: space-between; align-items: center;
  margin-top: 40px; padding-top: 24px;
  border-top: 1px solid rgba(244,121,32,0.15);
}

/* Responsive */
@media(max-width: 640px) {
  .day-hero { flex-direction: column; padding: 20px; }
  .main-wrap { padding: 20px 16px; }
  .week-hero { padding: 24px 16px 20px; }
}

/* ‚ïê‚ïê‚ïê XP BAR ‚ïê‚ïê‚ïê */
.xp-bar-wrap {
  background: rgba(8,7,48,0.9);
  border-bottom: 1px solid rgba(244,121,32,0.12);
  padding: 6px 24px;
  position: sticky; top: 116px; z-index: 99;
  backdrop-filter: blur(12px);
}
.xp-bar-inner {
  max-width: 1200px; margin: 0 auto;
  display: flex; align-items: center; gap: 12px;
}
.xp-level-badge {
  font-size: 11px; font-weight: 700; color: var(--orange);
  font-family: var(--font-mono); white-space: nowrap;
  display: flex; align-items: center; gap: 5px;
}
.xp-track {
  flex: 1; height: 6px; background: rgba(255,255,255,0.07);
  border-radius: 999px; overflow: hidden;
}
#xp-fill {
  height: 100%; width: 0%; background: var(--orange);
  border-radius: 999px;
  transition: width 0.8s cubic-bezier(.22,1,.36,1), background 0.4s;
}
.xp-num { font-size: 11px; color: var(--grey); font-family: var(--font-mono); white-space: nowrap; }
.streak-pill {
  display: none; align-items: center; gap: 4px;
  background: rgba(244,121,32,0.15); border: 1px solid rgba(244,121,32,0.3);
  border-radius: 999px; padding: 2px 10px;
  font-size: 11px; font-weight: 700; color: var(--orange);
}

/* ‚ïê‚ïê‚ïê DAILY STREAK BANNER ‚ïê‚ïê‚ïê */
.streak-banner {
  display: none;
  background: linear-gradient(90deg, rgba(244,121,32,0.15), rgba(245,158,11,0.1));
  border-bottom: 1px solid rgba(244,121,32,0.2);
  padding: 8px 24px;
  align-items: center; justify-content: center; gap: 10px;
  font-size: 13px; font-weight: 600;
}
.streak-banner .streak-days { color: var(--orange); font-weight: 900; font-size: 16px; }

/* ‚ïê‚ïê‚ïê DAY TAB COLOUR HOVER ‚ïê‚ïê‚ïê */
.day-tab:nth-child(1):hover { border-bottom-color: var(--orange) !important; color: var(--orange) !important; }
.day-tab:nth-child(2):hover { border-bottom-color: var(--cyan) !important; color: var(--cyan) !important; }
.day-tab:nth-child(3):hover { border-bottom-color: var(--green) !important; color: var(--green) !important; }
.day-tab:nth-child(4):hover { border-bottom-color: var(--gold) !important; color: var(--gold) !important; }
.day-tab:nth-child(5):hover { border-bottom-color: #a855f7 !important; color: #a855f7 !important; }
.day-tab.active { position: relative; }
.day-tab.active::after {
  content: ''; position: absolute; bottom: -3px; left: 0;
  width: 100%; height: 3px; background: var(--orange);
  animation: slideIn 0.25s ease;
}
@keyframes slideIn { from { transform: scaleX(0); } to { transform: scaleX(1); } }

/* ‚ïê‚ïê‚ïê TOPIC CARD HOVER ‚ïê‚ïê‚ïê */
.topic-card {
  transition: box-shadow 0.2s, border-color 0.2s, transform 0.18s !important;
  cursor: pointer;
}
.topic-card:hover {
  box-shadow: 0 0 0 2px rgba(244,121,32,0.45), 0 8px 32px rgba(244,121,32,0.15) !important;
  border-color: rgba(244,121,32,0.5) !important;
  transform: translateY(-3px) !important;
}
.topic-card.done:hover {
  box-shadow: 0 0 0 2px rgba(34,197,94,0.45), 0 8px 28px rgba(34,197,94,0.12) !important;
  border-color: rgba(34,197,94,0.5) !important;
}

/* ‚ïê‚ïê‚ïê QUIZ ANSWER ANIMATIONS ‚ïê‚ïê‚ïê */
@keyframes correctFlash {
  0%   { box-shadow: 0 0 0 0 rgba(34,197,94,0.8); }
  30%  { box-shadow: 0 0 0 8px rgba(34,197,94,0.4); }
  60%  { box-shadow: 0 0 0 14px rgba(34,197,94,0.1); }
  100% { box-shadow: 0 0 0 0 transparent; }
}
@keyframes shake {
  0%,100% { transform: translateX(0); }
  15%     { transform: translateX(-6px); }
  30%     { transform: translateX(6px); }
  45%     { transform: translateX(-5px); }
  60%     { transform: translateX(5px); }
  75%     { transform: translateX(-3px); }
  90%     { transform: translateX(3px); }
}
@keyframes toastUp {
  0%   { opacity:0; transform:translateX(-50%) translateY(20px); }
  15%  { opacity:1; transform:translateX(-50%) translateY(0); }
  75%  { opacity:1; transform:translateX(-50%) translateY(0); }
  100% { opacity:0; transform:translateX(-50%) translateY(-12px); }
}
@keyframes starPop {
  0%   { transform: scale(0) rotate(-20deg); opacity: 0; }
  60%  { transform: scale(1.3) rotate(5deg); opacity: 1; }
  100% { transform: scale(1) rotate(0); opacity: 1; }
}
.q-opt.correct { animation: correctFlash 0.6s ease forwards !important; }
.q-opt.wrong   { animation: shake 0.4s ease !important; }
.q-opt:not(:disabled):hover {
  transform: translateX(5px) !important;
  border-color: rgba(244,121,32,0.6) !important;
  background: rgba(244,121,32,0.1) !important;
  box-shadow: -3px 0 0 var(--orange) !important;
}

/* ‚ïê‚ïê‚ïê SPEED ROUND ‚ïê‚ïê‚ïê */
.speed-btn {
  margin-left: auto; padding: 4px 12px;
  background: rgba(244,121,32,0.1); border: 1px solid rgba(244,121,32,0.3);
  border-radius: 999px; color: var(--orange); font-size: 11px; font-weight: 700;
  cursor: pointer; font-family: var(--font-main); transition: all 0.15s;
  white-space: nowrap;
}
.speed-btn:hover { background: rgba(244,121,32,0.2); }

/* ‚ïê‚ïê‚ïê T/F BLITZ ‚ïê‚ïê‚ïê */
.tf-blitz {
  background: rgba(14,14,74,0.6);
  border: 1px solid rgba(245,158,11,0.3);
  border-radius: var(--radius-lg);
  overflow: hidden;
  margin-bottom: 16px;
}
.tf-header {
  display: flex; align-items: center; gap: 12px;
  padding: 14px 18px;
  background: rgba(245,158,11,0.08);
  border-bottom: 1px solid rgba(245,158,11,0.15);
}
.tf-icon { font-size: 20px; }
.tf-title { font-size: 14px; font-weight: 700; color: var(--gold); }
.tf-sub { font-size: 11px; color: var(--grey); margin-top: 2px; }
.tf-start-btn {
  margin-left: auto; padding: 6px 16px;
  background: rgba(245,158,11,0.2); border: 1px solid rgba(245,158,11,0.4);
  border-radius: 999px; color: var(--gold); font-size: 12px; font-weight: 700;
  cursor: pointer; font-family: var(--font-main); transition: all 0.15s;
}
.tf-start-btn:hover { background: rgba(245,158,11,0.35); }
.tf-body { padding: 16px 18px; }
.tf-q-wrap { display: flex; flex-direction: column; gap: 10px; }
.tf-progress { display: flex; justify-content: space-between; align-items: center; }
.tf-timer-bar-wrap { height: 4px; background: rgba(255,255,255,0.07); border-radius: 99px; overflow: hidden; }
.tf-timer-bar { height: 100%; background: var(--gold); border-radius: 99px; transition: width 1s linear; }
.tf-question { font-size: 15px; font-weight: 600; line-height: 1.5; padding: 8px 0; }
.tf-btns { display: flex; gap: 10px; }
.tf-btn {
  flex: 1; padding: 12px; border-radius: var(--radius-md);
  font-size: 15px; font-weight: 700; cursor: pointer;
  font-family: var(--font-main); transition: all 0.15s;
  border: 2px solid transparent;
}
.tf-true  { background: rgba(34,197,94,0.12); color: var(--green); border-color: rgba(34,197,94,0.3); }
.tf-false { background: rgba(239,68,68,0.12); color: var(--red); border-color: rgba(239,68,68,0.3); }
.tf-true:hover:not(:disabled)  { background: rgba(34,197,94,0.25); }
.tf-false:hover:not(:disabled) { background: rgba(239,68,68,0.25); }
.tf-feedback { padding: 8px 12px; border-radius: var(--radius-sm); background: rgba(255,255,255,0.05); font-size: 13px; font-weight: 600; }

/* ‚ïê‚ïê‚ïê MINI-GAMES ‚ïê‚ïê‚ïê */
.mg-unlock { padding: 0 0 16px; }
.mg-unlock-btn {
  width: 100%; padding: 14px 18px;
  background: linear-gradient(135deg, rgba(43,43,168,0.15), rgba(79,70,229,0.1));
  border: 1px dashed rgba(43,43,168,0.4);
  border-radius: var(--radius-md);
  color: #c4b5fd; font-size: 14px; font-weight: 700;
  cursor: pointer; font-family: var(--font-main);
  display: flex; align-items: center; justify-content: space-between;
  transition: all 0.18s;
}
.mg-unlock-btn:hover {
  background: linear-gradient(135deg, rgba(43,43,168,0.25), rgba(79,70,229,0.2));
  border-color: rgba(43,43,168,0.6);
  transform: translateY(-2px);
  box-shadow: 0 4px 20px rgba(43,43,168,0.2);
}
.mg-type-badge {
  font-size: 11px; font-weight: 600; color: #a78bfa;
  background: rgba(43,43,168,0.2); border-radius: 999px; padding: 2px 10px;
}
.mg-game-area { padding: 0 0 16px; }
.mg-card {
  background: rgba(14,14,74,0.7);
  border: 1px solid rgba(43,43,168,0.3);
  border-radius: var(--radius-lg);
  padding: 18px;
}
.mg-header {
  display: flex; align-items: flex-start; gap: 10px;
  margin-bottom: 16px;
}
.mg-title { font-size: 14px; font-weight: 700; color: #c4b5fd; }
.mg-hint  { font-size: 11px; color: var(--grey); margin-top: 2px; flex: 1; }

/* Scramble */
.mg-answer-slots {
  display: flex; gap: 6px; flex-wrap: wrap;
  margin-bottom: 14px; min-height: 44px;
  background: rgba(255,255,255,0.03); border-radius: var(--radius-md);
  padding: 8px; border: 1px solid rgba(255,255,255,0.07);
}
.sc-slot {
  width: 36px; height: 36px; border-radius: 8px;
  display: flex; align-items: center; justify-content: center;
  font-size: 16px; font-weight: 900; font-family: var(--font-mono);
}
.sc-slot.filled {
  background: rgba(43,43,168,0.25); border: 1px solid rgba(43,43,168,0.5);
  color: #e9d5ff; cursor: pointer; transition: all 0.12s;
}
.sc-slot.filled:hover { background: rgba(239,68,68,0.2); border-color: var(--red); }
.sc-slot.empty {
  background: rgba(255,255,255,0.04); border: 1px dashed rgba(255,255,255,0.15);
  color: rgba(255,255,255,0.2);
}
.mg-letters { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 12px; }
.sc-letter {
  width: 38px; height: 38px; border-radius: 8px;
  background: rgba(244,121,32,0.15); border: 1px solid rgba(244,121,32,0.35);
  color: var(--orange); font-size: 16px; font-weight: 900;
  cursor: pointer; font-family: var(--font-mono);
  transition: all 0.12s;
}
.sc-letter:hover:not(.used) { background: rgba(244,121,32,0.3); transform: scale(1.1); }
.sc-letter.used { opacity: 0.25; cursor: default; }
.mg-btn-clear {
  padding: 8px 18px; border-radius: 999px;
  background: #f4f6fb; border: 1px solid rgba(255,255,255,0.12);
  color: var(--grey); font-size: 12px; font-weight: 600;
  cursor: pointer; font-family: var(--font-main); transition: all 0.12s;
}
.mg-btn-check {
  padding: 8px 20px; border-radius: 999px;
  background: rgba(43,43,168,0.2); border: 1px solid rgba(43,43,168,0.4);
  color: #c4b5fd; font-size: 12px; font-weight: 700;
  cursor: pointer; font-family: var(--font-main); transition: all 0.12s;
}
.mg-btn-check:hover { background: rgba(43,43,168,0.35); transform: scale(1.04); }

/* Match pairs */
.match-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 4px; }
.match-col  { display: flex; flex-direction: column; gap: 7px; }
.match-card {
  padding: 10px 14px; border-radius: var(--radius-md); text-align: center;
  background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.1);
  color: var(--white); font-size: 12px; font-weight: 600; cursor: pointer;
  font-family: var(--font-main); transition: all 0.15s; line-height: 1.4;
}
.match-card:hover:not(:disabled) {
  border-color: rgba(43,43,168,0.5); background: rgba(43,43,168,0.12);
  transform: scale(1.03);
}
.match-card.selected {
  border-color: var(--orange); background: rgba(244,121,32,0.15); color: var(--orange);
  box-shadow: 0 0 0 2px rgba(244,121,32,0.3);
}
.match-card.matched {
  border-color: var(--green); background: rgba(34,197,94,0.15); color: var(--green);
  animation: correctFlash 0.5s ease;
}

/* Sort steps */
.sort-list { display: flex; flex-direction: column; gap: 7px; margin-bottom: 4px; }
.sort-item {
  display: flex; align-items: center; gap: 10px;
  padding: 10px 14px; border-radius: var(--radius-md);
  background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.1);
  transition: all 0.15s;
}
.sort-num {
  width: 24px; height: 24px; border-radius: 50%; flex-shrink: 0;
  background: rgba(244,121,32,0.2); color: var(--orange);
  display: flex; align-items: center; justify-content: center;
  font-size: 11px; font-weight: 700;
}
.sort-text { flex: 1; font-size: 13px; line-height: 1.4; }
.sort-arrows { display: flex; flex-direction: column; gap: 2px; }
.sort-arrows button {
  padding: 1px 6px; background: rgba(255,255,255,0.07); border: none;
  color: var(--grey); cursor: pointer; border-radius: 4px; font-size: 10px;
  transition: all 0.12s;
}
.sort-arrows button:hover:not(:disabled) { background: rgba(244,121,32,0.2); color: var(--orange); }
.sort-arrows button:disabled { opacity: 0.2; cursor: default; }

/* ‚ïê‚ïê‚ïê DAY SUMMARY ‚ïê‚ïê‚ïê */
.day-summary {
  position: fixed; inset: 0; z-index: 9999;
  background: rgba(0,0,0,0.85); backdrop-filter: blur(8px);
  display: flex; align-items: center; justify-content: center;
  padding: 20px; animation: fadeIn 0.3s ease;
}
.day-summary-inner {
  background: linear-gradient(135deg, rgba(14,14,74,0.98), rgba(22,22,106,0.98));
  border: 1px solid rgba(244,121,32,0.35);
  border-radius: 24px; padding: 36px 32px; max-width: 440px; width: 100%;
  text-align: center; box-shadow: 0 24px 80px rgba(0,0,0,0.6);
}
.ds-badge {
  display: inline-block; padding: 4px 16px;
  background: rgba(244,121,32,0.2); border: 1px solid rgba(244,121,32,0.4);
  border-radius: 999px; font-size: 11px; font-weight: 700;
  color: var(--orange); letter-spacing: 1px; margin-bottom: 14px;
  font-family: var(--font-mono);
}
.ds-title { font-size: 20px; font-weight: 800; margin-bottom: 20px; }
.ds-scores { display: flex; justify-content: center; gap: 16px; margin-bottom: 20px; }
.ds-xp { font-size: 18px; color: var(--gold); margin-bottom: 8px; }
.ds-msg { font-size: 13px; color: var(--grey); margin-bottom: 20px; line-height: 1.6; }
.ds-btn {
  padding: 12px 32px; background: var(--orange);
  border: none; border-radius: 999px; color: white;
  font-size: 15px; font-weight: 700; cursor: pointer;
  font-family: var(--font-main); transition: all 0.15s;
}
.ds-btn:hover { filter: brightness(1.1); transform: translateY(-2px); }
</style>
<style id="ea-light-theme">
/* ‚ïê‚ïê‚ïê EAGLE ACADEMY CLASSROOM LIGHT THEME ‚ïê‚ïê‚ïê */

/* BASE */
html, body { background: #f0f2f8 !important; color: #1a1a5e !important; }
.page-bg   { background: #f0f2f8 !important; }

/* HEADER ‚Äî stays Eagle Navy */
.ea-header, .site-header {
  background: #2B2BA8 !important;
  border-bottom: 4px solid #F47920 !important;
}
.ea-header *, .site-header * { color: #ffffff !important; }
.ea-nav-btn.active, .nav-tab.active { background: #F47920 !important; color: #ffffff !important; }
.ea-logo-text .sub, .logo-text-sub { color: #F47920 !important; }

/* TICKER ‚Äî stays dark navy */
.ticker-wrap { background: #16166a !important; }
.ticker-item { color: rgba(255,255,255,0.90) !important; }

/* STREAK BANNER */
.streak-banner { background: linear-gradient(135deg, #1e1e8f, #2B2BA8) !important; color: #ffffff !important; }
.streak-banner * { color: #ffffff !important; }

/* WEEK HERO ‚Äî stays navy */
.week-hero, .day-hero-header {
  background: linear-gradient(135deg, #2B2BA8 0%, #1e1e8f 100%) !important;
  color: #ffffff !important;
}
.week-hero * { color: #ffffff !important; }
.week-hero .week-hero-hi { color: #F47920 !important; }
.week-hero .tag { color: #ffffff !important; }

/* DAY TABS BAR */
.day-tabs-wrap, [class*="day-tabs"] {
  background: #2B2BA8 !important;
  border: none !important;
}
.day-tab { color: rgba(255,255,255,0.75) !important; background: transparent !important; }
.day-tab:hover { background: rgba(255,255,255,0.12) !important; color: #ffffff !important; }
.day-tab.active { background: #F47920 !important; color: #ffffff !important; border-color: #d4661a !important; }
.day-tab.complete { background: rgba(22,197,94,0.25) !important; color: #16a34a !important; }

/* XP BAR */
.xp-bar-wrap { background: #ffffff !important; border: 1px solid rgba(43,43,168,0.15) !important; }
.xp-label { color: #F47920 !important; }
.xp-val   { color: #2B2BA8 !important; }
.xp-track { background: rgba(43,43,168,0.12) !important; }
.xp-fill  { background: linear-gradient(90deg, #F47920, #2B2BA8) !important; }

/* ALL CARDS ‚Äî white with readable dark text */
.card, .topic-card, .tool-card, .cc, .pdw,
[class*="-card"], .quiz-wrap, .day-section,
.lesson-box, .info-box-wrap, .result-card,
div[style*="border-radius"][style*="background"] {
  background: #ffffff !important;
  color: #1a1a5e !important;
}

/* FORCE ALL TEXT DARK IN CONTENT AREA */
.main-wrap *,
.main-wrap h1, .main-wrap h2, .main-wrap h3, .main-wrap h4, .main-wrap h5,
.main-wrap p, .main-wrap span, .main-wrap li, .main-wrap td, .main-wrap th,
.main-wrap label, .main-wrap div {
  color: #1a1a5e;
}

/* EXCEPTIONS ‚Äî things that should stay coloured */
.main-wrap .tag-orange, .main-wrap .tag-orange * { color: #c45e10 !important; }
.main-wrap .tag-green,  .main-wrap .tag-green  * { color: #16a34a !important; }
.main-wrap .tag-cyan,   .main-wrap .tag-cyan   * { color: #0891b2 !important; }
.main-wrap .tag-red,    .main-wrap .tag-red    * { color: #dc2626 !important; }
.main-wrap .text-orange, .main-wrap [style*="color: #F47920"], .main-wrap [style*="color:#F47920"] { color: #F47920 !important; }
.main-wrap .btn-primary, .main-wrap .btn-primary * { color: #ffffff !important; }
.main-wrap .btn-navy,    .main-wrap .btn-navy *    { color: #ffffff !important; }
.main-wrap .btn-listen * { color: #0891b2 !important; }
.main-wrap .btn-stop *   { color: #dc2626 !important; }

/* Hindi text */
.main-wrap [lang="hi"], .main-wrap .hi-text, .main-wrap span[style*="color: #F47920"],
.main-wrap span[style*="color:#F47920"] { color: #F47920 !important; }

/* Secondary/muted text */
.main-wrap .text-muted, .main-wrap .text-grey,
.main-wrap small { color: #6666aa !important; }

/* Topic card letter icons A B C D */
.topic-icon, .day-icon, .lesson-icon,
[class*="topic-icon"], [class*="day-icon"],
div[style*="width:44px"][style*="height:44px"],
div[style*="width: 44px"][style*="height: 44px"],
div[style*="border-radius:10px"][style*="font-weight:800"] { color: #ffffff !important; }

/* Quiz options */
.q-opt, .quiz-opt {
  background: #f8f9ff !important;
  color: #1a1a5e !important;
  border-color: rgba(43,43,168,0.18) !important;
}
.q-opt:hover, .quiz-opt:hover { background: rgba(244,121,32,0.08) !important; border-color: rgba(244,121,32,0.50) !important; }
.q-opt.correct { background: rgba(22,163,74,0.12) !important; color: #16a34a !important; border-color: #16a34a !important; }
.q-opt.wrong   { background: rgba(220,38,38,0.10) !important; color: #dc2626 !important; border-color: #dc2626 !important; }

/* Madam JI popup */
#mj-popup {
  background: #ffffff !important;
  border: 1px solid rgba(43,43,168,0.20) !important;
  box-shadow: 0 8px 40px rgba(43,43,168,0.20) !important;
}
#mj-popup .mj-hdr {
  background: linear-gradient(135deg, #2B2BA8, #1e1e8f) !important;
}
#mj-popup .mj-hdr * { color: #ffffff !important; }
#mj-popup .mj-msg.bot { background: #f4f6fb !important; color: #1a1a5e !important; border: 1px solid rgba(43,43,168,0.12) !important; }
#mj-popup .mj-msg.user { background: #2B2BA8 !important; color: #ffffff !important; }
#mj-popup #mj-input { background: #f8f9ff !important; color: #1a1a5e !important; border: 1px solid rgba(43,43,168,0.20) !important; }
#mj-popup #mj-input::placeholder { color: #8888aa !important; }
#mj-popup * { color: #1a1a5e; }
#mj-popup .mj-hdr *, #mj-popup .mj-msg.user * { color: #ffffff !important; }
#mj-popup .mj-chip { color: #2B2BA8 !important; background: rgba(43,43,168,0.08) !important; border-color: rgba(43,43,168,0.25) !important; }
#mj-popup .mj-chip-hi { color: #F47920 !important; background: rgba(244,121,32,0.08) !important; }

/* Tools popup */
#tools-popup { background: #ffffff !important; color: #1a1a5e !important; border: 1px solid rgba(43,43,168,0.18) !important; }
#tools-popup * { color: #1a1a5e !important; }
#tools-popup .tools-hdr, #tools-popup .tools-hdr * { color: #ffffff !important; }

/* PROGRESS BARS */
.progress-track { background: rgba(43,43,168,0.12) !important; }
.progress-fill  { background: linear-gradient(90deg, #F47920, #2B2BA8) !important; }

/* INPUTS */
input, textarea, select {
  background: #f8f9ff !important;
  color: #1a1a5e !important;
  border: 1px solid rgba(43,43,168,0.20) !important;
}
input::placeholder, textarea::placeholder { color: #8888aa !important; }

/* FOOTER */
.site-footer { background: #ffffff !important; border-top: 1px solid rgba(43,43,168,0.12) !important; color: #6666aa !important; }

/* TOAST */
.toast { background: #ffffff !important; color: #1a1a5e !important; border-color: rgba(43,43,168,0.20) !important; }

/* SCROLLBAR */
::-webkit-scrollbar-track { background: #eef0f8 !important; }
::-webkit-scrollbar-thumb { background: #2B2BA8 !important; }
</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HEADER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<header class="ea-header">
  <div class="ea-header-inner">
    <a href="index.html" class="ea-logo">
      <img src="assets/logo.png" alt="Eagle Academy" onerror="this.style.display='none';this.nextElementSibling.textContent='ü¶Ö'"/>
      <div class="ea-logo-text">
        <div class="brand">EAGLE ACADEMY</div>
        <div class="sub">Freight Dispatcher Certification</div>
      </div>
    </a>
    <nav class="ea-nav">
      <a href="index.html"    class="ea-nav-btn">üè† Home</a>
      <a href="week1.html"    class="ea-nav-btn active">Week 1</a>
      <a href="week2.html"    class="ea-nav-btn">Week 2</a>
      <a href="week3.html"    class="ea-nav-btn">Week 3</a>
      <a href="week4.html"    class="ea-nav-btn">Week 4</a>
      <a href="eagle-exchange.html" target="_blank" rel="noopener" class="ea-nav-btn" style="color:#F47920;font-weight:700">ü¶Ö Eagle Exchange</a>
      <a href="tools.html"    class="ea-nav-btn">üßÆ Tools</a>
      <a href="madam-ji.html" class="ea-nav-btn">üéì Madam JI</a>
      <a href="exam.html"     class="ea-nav-btn">üìù Final Exam</a>
    </nav>
    <div class="lang-toggle">
      <button class="lang-btn active" data-lang="en" onclick="setLang('en',this)">EN</button>
      <button class="lang-btn" data-lang="hi" onclick="setLang('hi',this)">‡§π‡§ø‡§Ç</button>
    </div>
  </div>
</header>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TICKER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="ticker-wrap">
  <div class="ticker-inner" id="ticker_inner">
    <span>üöõ Week 1: Dispatch Foundations</span><span>‚ö° UK CPM Target: ¬£1.80+ per mile</span>
    <span>üìû ICAR Broker Call Method</span><span>üìÑ BOL = Most Important Document</span>
    <span>üéØ Always verify carrier O-Licence on DVSA</span><span>‚è∞ UK HOS: 9 hrs max driving/day</span>
    <span>üåç IST = GMT + 5 hours 30 minutes</span><span>üí∞ 8 UK Trucks = ¬£9,600/month potential</span>
    <span>üèÜ Eagle Academy Certified Dispatcher</span><span>üìä Keep Deadhead Miles under 15%</span>
    <span>üöõ Week 1: Dispatch Foundations</span><span>‚ö° UK CPM Target: ¬£1.80+ per mile</span>
    <span>üìû ICAR Broker Call Method</span><span>üìÑ BOL = Most Important Document</span>
    <span>üéØ Always verify carrier O-Licence on DVSA</span><span>‚è∞ UK HOS: 9 hrs max driving/day</span>
    <span>üåç IST = GMT + 5 hours 30 minutes</span><span>üí∞ 8 UK Trucks = ¬£9,600/month potential</span>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STREAK BANNER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="streak-banner" id="streak-banner">
  üî• You've studied <span class="streak-days">0</span> days in a row ‚Äî keep going!
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê WEEK HERO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section class="week-hero">
  <div class="week-hero-inner">
    <div style="display:flex;align-items:center;gap:14px;margin-bottom:16px;">
      <span class="tag tag-orange">Week 1 of 4</span>
      <span class="tag tag-cyan">40 Hours</span>
      <span class="tag tag-green">5 Days</span>
    </div>
    <h1 style="font-size:clamp(24px,4vw,42px);font-weight:900;margin-bottom:8px;">
      Dispatch Foundation
    </h1>
    <p style="font-size:15px;color:var(--grey);margin-bottom:4px;">
      Master freight types, UK geography, Courier Exchange, CPM calculation and Hours of Service rules
    </p>
    <p style="font-size:14px;color:var(--orange);font-family:var(--font-hindi);">
      ‡§°‡§ø‡§∏‡•ç‡§™‡•à‡§ö ‡§ï‡•Ä ‡§®‡•Ä‡§Ç‡§µ ‚Äî ‡§Æ‡§æ‡§≤ ‡§¢‡•Å‡§≤‡§æ‡§à ‡§ï‡•á ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞, UK ‡§≠‡•Ç‡§ó‡•ã‡§≤, Courier Exchange, CPM ‡§ó‡§£‡§®‡§æ ‡§î‡§∞ HOS ‡§®‡§ø‡§Ø‡§Æ
    </p>
    <div class="week-progress-bar" style="margin-top:20px;max-width:500px;">
      <div class="label"><span>Week Progress</span><span id="week_pct">0%</span></div>
      <div class="progress-track"><div class="progress-fill" id="week_prog" style="width:0%"></div></div>
    </div>
  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DAY TABS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="day-tabs-wrap">
  <div class="day-tabs">
    <button class="day-tab active" onclick="showDay(1,this)">
      Day 1 <span id="d1_check" class="check" style="display:none">‚úì</span>
    </button>
    <button class="day-tab" onclick="showDay(2,this)">
      Day 2 <span id="d2_check" class="check" style="display:none">‚úì</span>
    </button>
    <button class="day-tab" onclick="showDay(3,this)">
      Day 3 <span id="d3_check" class="check" style="display:none">‚úì</span>
    </button>
    <button class="day-tab" onclick="showDay(4,this)">
      Day 4 <span id="d4_check" class="check" style="display:none">‚úì</span>
    </button>
    <button class="day-tab" onclick="showDay(5,this)">
      Day 5 <span id="d5_check" class="check" style="display:none">‚úì</span>
    </button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê XP BAR ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="xp-bar-wrap">
  <div class="xp-bar-inner">
    <div class="xp-level-badge"><span id="xp-icon">üìã</span><span id="xp-label">Rookie</span></div>
    <div class="xp-track"><div id="xp-fill"></div></div>
    <div class="xp-num" id="xp-num">0 XP</div>
    <div class="streak-pill" id="streak-pill">üî• <span id="streak-count">0</span></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MAIN CONTENT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<main class="main-wrap">

<!-- ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó -->
<!-- ‚ïë  DAY 1 ‚Äî Welcome to Dispatch World       ‚ïë -->
<!-- ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù -->
<div class="day-panel active" id="day1">

  <!-- Day Hero -->
  <div class="day-hero fade-up">
    <div class="day-num-big">D1</div>
    <div class="day-info">
      <h2>Welcome to Dispatch World</h2>
      <div class="hindi-title">‡§°‡§ø‡§∏‡•ç‡§™‡•à‡§ö ‡§ï‡•Ä ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§</div>
      <div class="day-meta">
        <span class="tag tag-orange">2hrs Theory</span>
        <span class="tag tag-cyan">2hrs Practical</span>
        <span class="tag tag-green">3 Topics</span>
        <span class="tag tag-gold">Foundation Day</span>
      </div>
    </div>
  </div>

  <!-- VIDEO -->
  <div class="video-box fade-up delay-1">
    <div class="video-header">
      <div class="dot" style="background:#ef4444"></div>
      <div class="dot" style="background:#fbbf24;margin:0 4px"></div>
      <div class="dot" style="background:#22c55e"></div>
      <span style="font-size:13px;font-weight:600;margin-left:10px;">üìπ Day 1 ‚Äî Introduction Video</span>
      <span style="margin-left:auto;font-size:11px;color:var(--grey);font-family:var(--font-mono);">~10 min</span>
    </div>
    <!-- Replace src below with your YouTube embed URL -->
    <div class="video-iframe-wrap">
      <iframe
        src="https://www.youtube.com/embed/xG8VKXGSzPA?rel=0&modestbranding=1&color=white"
        title="Eagle Academy ‚Äî Course Introduction"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen loading="lazy">
      </iframe>
    </div>
  </div>

  <!-- TOPICS -->
  <div class="section-header">
    <h3>üìñ Theory Topics</h3>
    <div class="section-line"></div>
    <span class="tag tag-orange">3 Topics</span>
  </div>

  <!-- ‚îÄ‚îÄ TOPIC 1 ‚îÄ‚îÄ -->
  <div class="topic-card" id="tc_1_1">
    <button class="topic-toggle" onclick="toggleTopic('tc_1_1',this)">
      <div class="t-num" id="tn_1_1">A</div>
      <div class="t-titles">
        <div class="t-en">What is Freight Dispatch?</div>
        <div class="t-hi">‡§Æ‡§æ‡§≤ ‡§¢‡•Å‡§≤‡§æ‡§à ‡§∏‡§Ç‡§ö‡§æ‡§≤‡§® (Freight Dispatch) ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?</div>
      </div>
      <span class="t-arrow">‚Ä∫</span>
    </button>
    <div class="topic-content" id="body_1_1">

      <div class="audio-bar">
        <span class="audio-label">üîä Listen:</span>
        <button class="a-btn a-en" id="btn_en_1_1" onclick="speakTopic('en','text_en_1_1','btn_en_1_1')">‚ñ∂ English</button>
        <button class="a-btn a-hi" id="btn_hi_1_1" onclick="speakTopic('hi','text_hi_1_1','btn_hi_1_1')">‚ñ∂ ‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
        <button class="a-btn a-stop" onclick="stopAudio('btn_en_1_1','btn_hi_1_1')">‚èπ Stop</button>
        <button class="a-btn" style="background:rgba(251,191,36,0.1);color:var(--gold);border:1px solid rgba(251,191,36,0.3);" onclick="toggleHindi('text_hi_1_1')">‡§π‡§ø‡§Ç Toggle</button>
      </div>

      <div class="content-en-block" id="text_en_1_1">
        <p>A <strong style="color:var(--orange)">freight dispatcher</strong> is the person who acts as the brain behind truck movement in the logistics industry. Think of yourself as a highly skilled matchmaker ‚Äî you connect <em>shippers</em> (companies that have cargo to move) with <em>carriers</em> (truck owners and drivers).</p>

        <div class="highlight-box">
          üí° <strong>Simple way to understand it:</strong> A haulier in Birmingham has a full curtainsider load of automotive parts that need to reach a factory in Glasgow by 7:00 AM tomorrow. You find the right vehicle, negotiate the rate on Courier Exchange, handle all the paperwork, and track the load until it is delivered. For this service, you charge a <strong>7‚Äì10% service fee</strong> on the load value.
        </div>

        <p style="margin-top:12px;">As a dispatcher working from India for <strong style="color:var(--orange)">Xeagle Ltd</strong>, you manage UK freight operations remotely from Sriganganagar. You communicate with UK carriers and brokers by phone and email, use <strong>Courier Exchange (CX)</strong> to find loads, and keep drivers updated via WhatsApp and email. You are running real UK freight operations ‚Äî from your desk in Rajasthan.</p>

        <div class="example-box">
          <strong style="color:var(--green)">üéØ Real Xeagle Example:</strong><br/>
          Load: Birmingham ‚Üí Glasgow (305 miles)<br/>
          Carrier rate: ¬£1,850 ‚Äî Xeagle service fee at 8%: <strong>¬£148 for this load</strong><br/>
          5 vehicles, 4 loads/week = 20 loads √ó ¬£148 avg = <strong>¬£2,960/week for Xeagle</strong><br/>
          <em style="color:var(--grey);font-size:12px;">This course teaches you the skills to find, negotiate and manage these loads professionally.</em>
        </div>

        <p style="margin-top:12px;">The UK road freight industry carries <strong>¬£1.2 trillion</strong> of goods every year. Over <strong>76% of all UK freight</strong> moves by road. This industry needs skilled remote dispatchers ‚Äî and Xeagle is already operating in this space from India.</p>

        <div class="key-terms">
          <span class="key-term">Shipper</span>
          <span class="key-term">Carrier / Haulier</span>
          <span class="key-term">Dispatcher</span>
          <span class="key-term">Service Fee</span>
          <span class="key-term">Courier Exchange</span>
          <span class="key-term">O-Licence</span>
          <span class="key-term">HGV</span>
        </div>
      </div>

      <div class="content-hi-block" id="text_hi_1_1">
        <p>‡§è‡§ï <strong style="color:var(--orange)">‡§´‡•ç‡§∞‡•á‡§ü ‡§°‡§ø‡§∏‡•ç‡§™‡•à‡§ö‡§∞</strong> ‡§µ‡§π ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§π‡•ã‡§§‡§æ ‡§π‡•à ‡§ú‡•ã ‡§≤‡•â‡§ú‡§ø‡§∏‡•ç‡§ü‡§ø‡§ï‡•ç‡§∏ ‡§â‡§¶‡•ç‡§Ø‡•ã‡§ó ‡§Æ‡•á‡§Ç ‡§ü‡•ç‡§∞‡§ï ‡§ï‡•Ä ‡§Ü‡§µ‡§æ‡§ú‡§æ‡§π‡•Ä ‡§ï‡§æ ‡§™‡•Ç‡§∞‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ ‡§á‡§∏‡•á ‡§Ü‡§∏‡§æ‡§® ‡§≠‡§æ‡§∑‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§ù‡•á‡§Ç ‚Äî ‡§Ü‡§™ ‡§è‡§ï ‡§¨‡§π‡•Å‡§§ ‡§ï‡•Å‡§∂‡§≤ <em>‡§Æ‡§ß‡•ç‡§Ø‡§∏‡•ç‡§•</em> ‡§π‡•à‡§Ç‡•§ ‡§Ü‡§™ ‡§â‡§® ‡§ï‡§Ç‡§™‡§®‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§ú‡•ã‡§°‡§º‡§§‡•á ‡§π‡•à‡§Ç ‡§ú‡§ø‡§®‡§ï‡•á ‡§™‡§æ‡§∏ ‡§Æ‡§æ‡§≤ ‡§π‡•à (<em>‡§∂‡§ø‡§™‡§∞</em>) ‡§î‡§∞ ‡§â‡§® ‡§ü‡•ç‡§∞‡§ï ‡§Æ‡§æ‡§≤‡§ø‡§ï‡•ã‡§Ç ‡§ï‡•ã (<em>‡§ï‡•à‡§∞‡§ø‡§Ø‡§∞</em>) ‡§ú‡•ã ‡§Æ‡§æ‡§≤ ‡§™‡§π‡•Å‡§Å‡§ö‡§æ‡§§‡•á ‡§π‡•à‡§Ç‡•§</p>

        <div class="highlight-box">
          üí° <strong>‡§Ü‡§∏‡§æ‡§® ‡§â‡§¶‡§æ‡§π‡§∞‡§£:</strong> ‡§∂‡§ø‡§ï‡§æ‡§ó‡•ã ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§ï‡§Ç‡§™‡§®‡•Ä ‡§ï‡•á ‡§™‡§æ‡§∏ 20 ‡§™‡•à‡§≤‡•á‡§ü ‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•â‡§®‡§ø‡§ï‡•ç‡§∏ ‡§∏‡§æ‡§Æ‡§æ‡§® ‡§π‡•à ‡§ú‡•ã ‡§ï‡§≤ ‡§§‡§ï ‡§Ö‡§ü‡§≤‡§æ‡§Ç‡§ü‡§æ ‡§™‡§π‡•Å‡§Å‡§ö‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§ ‡§Ü‡§™ ‡§∏‡§π‡•Ä ‡§ü‡•ç‡§∞‡§ï ‡§¢‡•Ç‡§Å‡§¢‡§§‡•á ‡§π‡•à‡§Ç, ‡§∞‡•á‡§ü ‡§§‡§Ø ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§∏‡§æ‡§∞‡•á ‡§ï‡§æ‡§ó‡§ú‡§æ‡§§ ‡§∏‡§Ç‡§≠‡§æ‡§≤‡§§‡•á ‡§π‡•à‡§Ç, ‡§î‡§∞ ‡§ú‡§¨ ‡§§‡§ï ‡§∏‡§æ‡§Æ‡§æ‡§® ‡§™‡§π‡•Å‡§Å‡§ö ‡§® ‡§ú‡§æ‡§è, ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§á‡§∏‡§ï‡•á ‡§¨‡§¶‡§≤‡•á ‡§Ü‡§™‡§ï‡•ã <strong>5‚Äì10% ‡§ï‡§Æ‡•Ä‡§∂‡§®</strong> ‡§Æ‡§ø‡§≤‡§§‡§æ ‡§π‡•à‡•§
        </div>

        <p style="margin-top:12px;"><strong style="color:var(--orange)">Xeagle Ltd</strong> ‡§ï‡•á ‡§≤‡§ø‡§è ‡§≠‡§æ‡§∞‡§§ ‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡•á ‡§π‡•Å‡§è, ‡§Ü‡§™ UK ‡§´‡•ç‡§∞‡•á‡§ü ‡§ë‡§™‡§∞‡•á‡§∂‡§® ‡§¶‡•Ç‡§∞ ‡§∏‡•á ‡§∏‡§Ç‡§≠‡§æ‡§≤‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§Ü‡§™ UK ‡§ï‡•à‡§∞‡§ø‡§Ø‡§∞ ‡§î‡§∞ ‡§¨‡•ç‡§∞‡•ã‡§ï‡§∞ ‡§ï‡•ã ‡§´‡•ã‡§® ‡§î‡§∞ ‡§à‡§Æ‡•á‡§≤ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, <strong>Courier Exchange (CX)</strong> ‡§™‡§∞ ‡§≤‡•ã‡§° ‡§ñ‡•ã‡§ú‡§§‡•á ‡§π‡•à‡§Ç, ‡§î‡§∞ WhatsApp ‡§∏‡•á ‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§∞‡•ã‡§Ç ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡•á ‡§∞‡§π‡§§‡•á ‡§π‡•à‡§Ç‡•§</p>

        <div class="example-box">
          <strong style="color:var(--green)">üéØ Xeagle ‡§ï‡§æ ‡§Ö‡§∏‡§≤‡•Ä ‡§â‡§¶‡§æ‡§π‡§∞‡§£:</strong><br/>
          ‡§≤‡•ã‡§°: ‡§¨‡§∞‡•ç‡§Æ‡§ø‡§Ç‡§ò‡§Æ ‚Üí ‡§ó‡•ç‡§≤‡§æ‡§∏‡§ó‡•ã (305 ‡§Æ‡•Ä‡§≤)<br/>
          ‡§ï‡•à‡§∞‡§ø‡§Ø‡§∞ ‡§∞‡•á‡§ü: ¬£1,850<br/>
          8% ‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏ ‡§´‡•Ä‡§∏: <strong>¬£148 ‡§è‡§ï ‡§≤‡•ã‡§° ‡§™‡§∞</strong><br/>
          5 ‡§ó‡§æ‡§°‡§º‡§ø‡§Ø‡§æ‡§Å, ‡§π‡§∞ ‡§π‡§´‡•ç‡§§‡•á 4 ‡§≤‡•ã‡§° = <strong>¬£2,960 ‡§™‡•ç‡§∞‡§§‡§ø ‡§∏‡§™‡•ç‡§§‡§æ‡§π Xeagle ‡§ï‡•ã</strong><br/>
          <em style="font-size:12px;color:var(--grey)">‡§Ø‡§π ‡§ï‡•ã‡§∞‡•ç‡§∏ ‡§Ü‡§™‡§ï‡•ã ‡§Ø‡§π ‡§ï‡§æ‡§Æ ‡§™‡•á‡§∂‡•á‡§µ‡§∞ ‡§§‡§∞‡•Ä‡§ï‡•á ‡§∏‡•á ‡§ï‡§∞‡§®‡§æ ‡§∏‡§ø‡§ñ‡§æ‡§§‡§æ ‡§π‡•à‡•§</em>
        </div>
      </div>

      <!-- Mini Quiz for Topic 1 -->
      <div class="topic-quiz" id="quiz_1_1">
        <div class="quiz-header">
          <span>üß†</span>
          <h4>Quick Check ‚Äî Topic A</h4>
          <span style="margin-left:auto;" class="tag tag-orange">3 Questions</span>
        </div>
        <div class="quiz-body" id="qb_1_1">
          <!-- Q1 -->
          <div class="q-item">
            <div class="q-text">1. What is the main role of a freight dispatcher?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_1_1','q1',false)">A. Drive trucks across America</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_1','q1',true)">B. Connect shippers with carriers and manage loads remotely</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_1','q1',false)">C. Pack cargo at warehouses</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_1','q1',false)">D. Issue truck licences</button>
            </div>
          </div>
          <!-- Q2 -->
          <div class="q-item">
            <div class="q-text">2. A UK load pays ¬£1,850. Your service fee is 8%. How much does Xeagle earn?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_1_1','q2',false)">A. ¬£18</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_1','q2',false)">B. ¬£96</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_1','q2',true)">C. ¬£148</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_1','q2',false)">D. ¬£225</button>
            </div>
          </div>
          <!-- Q3 -->
          <div class="q-item">
            <div class="q-text">3. What percentage of US freight moves by truck?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_1_1','q3',false)">A. 30%</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_1','q3',false)">B. 50%</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_1','q3',true)">C. 70%</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_1','q3',false)">D. 90%</button>
            </div>
          </div>
        </div>
        <div class="quiz-result" id="qr_1_1">
          <div class="quiz-score" id="qs_1_1"></div>
          <div id="qmsg_1_1" style="font-size:14px;color:var(--grey);margin:6px 0;"></div>
          <button class="btn btn-outline btn-sm quiz-retake" onclick="retakeQuiz('qb_1_1','qr_1_1','qs_1_1','qmsg_1_1')">‚Ü© Retake</button>
        </div>
      </div>

    </div>
  </div><!-- end topic 1 -->

  <!-- ‚îÄ‚îÄ TOPIC 2 ‚îÄ‚îÄ -->
  <div class="topic-card" id="tc_1_2">
    <button class="topic-toggle" onclick="toggleTopic('tc_1_2',this)">
      <div class="t-num" id="tn_1_2">B</div>
      <div class="t-titles">
        <div class="t-en">Logistics Industry Structure</div>
        <div class="t-hi">‡§≤‡•â‡§ú‡§ø‡§∏‡•ç‡§ü‡§ø‡§ï‡•ç‡§∏ ‡§â‡§¶‡•ç‡§Ø‡•ã‡§ó ‡§ï‡•Ä ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ</div>
      </div>
      <span class="t-arrow">‚Ä∫</span>
    </button>
    <div class="topic-content" id="body_1_2">
      <div class="audio-bar">
        <span class="audio-label">üîä Listen:</span>
        <button class="a-btn a-en" id="btn_en_1_2" onclick="speakTopic('en','text_en_1_2','btn_en_1_2')">‚ñ∂ English</button>
        <button class="a-btn a-hi" id="btn_hi_1_2" onclick="speakTopic('hi','text_hi_1_2','btn_hi_1_2')">‚ñ∂ ‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
        <button class="a-btn a-stop" onclick="stopAudio('btn_en_1_2','btn_hi_1_2')">‚èπ Stop</button>
        <button class="a-btn" style="background:rgba(251,191,36,0.1);color:var(--gold);border:1px solid rgba(251,191,36,0.3);" onclick="toggleHindi('text_hi_1_2')">‡§π‡§ø‡§Ç Toggle</button>
      </div>

      <div class="content-en-block" id="text_en_1_2">
        <p>The logistics industry has a clear chain of players. Understanding where YOU fit in this chain is critical to doing your job well and speaking professionally with all parties.</p>

        <div class="highlight-box">
          <strong>The Chain:</strong><br/>
          <strong style="color:var(--orange)">Shipper</strong> ‚Üí needs cargo moved<br/>
          <strong style="color:var(--cyan)">Freight Broker / Load Poster</strong> ‚Üí posts loads on Courier Exchange (CX)<br/>
          <strong style="color:var(--gold)">Dispatcher (YOU)</strong> ‚Üí works FOR the carrier, finds loads, negotiates rates<br/>
          <strong style="color:var(--green)">Carrier</strong> ‚Üí owns the truck, drives or has drivers<br/>
          <strong style="color:#a5b4fc">3PL</strong> ‚Üí manages the entire supply chain for big companies
        </div>

        <p style="margin-top:12px;"><strong style="color:var(--orange)">Carrier / Haulier:</strong> A carrier is a company or individual (owner-operator) that physically owns and operates trucks in the UK. They must hold a valid <strong>Operator's Licence (O-Licence)</strong> issued by the Traffic Commissioner and regulated by DVSA. You work FOR the carrier ‚Äî you represent their interests.</p>

        <p style="margin-top:10px;"><strong style="color:var(--cyan)">Freight Broker / Load Poster:</strong> In the UK, shippers and brokers post available loads on <strong>Courier Exchange (CX)</strong> ‚Äî the UK's primary load board. They pay the carrier after delivery. You negotiate on the carrier's behalf. Always check the poster's CX credit rating before booking ‚Äî never book with a company rated below 70.</p>

        <div class="info-box">
          <strong style="color:var(--cyan)">üîë Critical Distinction:</strong> You are a DISPATCHER working for the CARRIER. You are NOT a broker. A broker works for the shipper. A dispatcher works for the carrier. This affects everything ‚Äî your conversations, your legal position, and who pays you.
        </div>

        <p style="margin-top:10px;"><strong style="color:#a5b4fc">3PL (Third-Party Logistics):</strong> Large companies like Amazon, Walmart, and Target use 3PLs to manage their entire supply chain ‚Äî warehousing, last-mile delivery, customs, tracking. As you grow in the industry, you may work with 3PLs who have very high volume loads.</p>

        <div class="key-terms">
          <span class="key-term">Shipper</span><span class="key-term">Broker</span><span class="key-term">Carrier / Haulier</span>
          <span class="key-term">3PL</span><span class="key-term">O-Licence</span><span class="key-term">DVSA</span>
          <span class="key-term">Traffic Commissioner</span><span class="key-term">Owner-Operator</span>
        </div>
      </div>

      <div class="content-hi-block" id="text_hi_1_2">
        <p>‡§≤‡•â‡§ú‡§ø‡§∏‡•ç‡§ü‡§ø‡§ï‡•ç‡§∏ ‡§â‡§¶‡•ç‡§Ø‡•ã‡§ó ‡§Æ‡•á‡§Ç ‡§ï‡§à ‡§ñ‡§ø‡§≤‡§æ‡§°‡§º‡•Ä ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§Ø‡§π ‡§∏‡§Æ‡§ù‡§®‡§æ ‡§¨‡§π‡•Å‡§§ ‡§ú‡§º‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à ‡§ï‡§ø ‡§á‡§∏ ‡§ö‡•á‡§® ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§ú‡§ó‡§π ‡§ï‡§π‡§æ‡§Å ‡§π‡•à‡•§</p>
        <div class="highlight-box">
          <strong>‡§ö‡•á‡§® ‡§á‡§∏ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§π‡•à:</strong><br/>
          <strong style="color:var(--orange)">‡§∂‡§ø‡§™‡§∞ (Shipper)</strong> ‚Üí ‡§ú‡§ø‡§∏‡§ï‡•á ‡§™‡§æ‡§∏ ‡§Æ‡§æ‡§≤ ‡§π‡•à<br/>
          <strong style="color:var(--cyan)">‡§´‡•ç‡§∞‡•á‡§ü ‡§¨‡•ç‡§∞‡•ã‡§ï‡§∞</strong> ‚Üí Courier Exchange (CX) ‡§™‡§∞ ‡§≤‡•ã‡§° ‡§™‡•ã‡§∏‡•ç‡§ü ‡§ï‡§∞‡§§‡§æ ‡§π‡•à<br/>
          <strong style="color:var(--gold)">‡§°‡§ø‡§∏‡•ç‡§™‡•à‡§ö‡§∞ (‡§Ü‡§™)</strong> ‚Üí ‡§ï‡•à‡§∞‡§ø‡§Ø‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§≤‡•ã‡§° ‡§ñ‡•ã‡§ú‡§§‡•á ‡§π‡•à‡§Ç<br/>
          <strong style="color:var(--green)">‡§ï‡•à‡§∞‡§ø‡§Ø‡§∞</strong> ‚Üí ‡§ü‡•ç‡§∞‡§ï ‡§ï‡§æ ‡§Æ‡§æ‡§≤‡§ø‡§ï ‡§î‡§∞ ‡§ö‡§æ‡§≤‡§ï<br/>
          <strong style="color:#a5b4fc">3PL</strong> ‚Üí ‡§™‡•Ç‡§∞‡•Ä ‡§∏‡§™‡•ç‡§≤‡§æ‡§à ‡§ö‡•á‡§® ‡§ï‡•ã ‡§Æ‡•à‡§®‡•á‡§ú ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
        </div>
        <p style="margin-top:12px;">‡§Ø‡§æ‡§¶ ‡§∞‡§ñ‡•á‡§Ç: ‡§Ü‡§™ <strong>‡§ï‡•à‡§∞‡§ø‡§Ø‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è</strong> ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç ‚Äî ‡§ú‡§ø‡§∏‡§ï‡•á ‡§™‡§æ‡§∏ UK ‡§Æ‡•á‡§Ç valid O-Licence ‡§π‡•ã‡§®‡§æ ‡§ú‡§º‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à‡•§ ‡§π‡§Æ‡•á‡§∂‡§æ DVSA ‡§™‡§∞ O-Licence ‡§µ‡•á‡§∞‡§ø‡§´‡§æ‡§à ‡§ï‡§∞‡•á‡§Ç‡•§</p>
      </div>

      <div class="topic-quiz" id="quiz_1_2">
        <div class="quiz-header">
          <span>üß†</span><h4>Quick Check ‚Äî Topic B</h4>
          <span style="margin-left:auto;" class="tag tag-orange">3 Questions</span>
        </div>
        <div class="quiz-body" id="qb_1_2">
          <div class="q-item">
            <div class="q-text">1. A dispatcher works FOR whom?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_1_2','q1',false)">A. The shipper</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_2','q1',false)">B. The freight broker</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_2','q1',true)">C. The carrier</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_2','q1',false)">D. The 3PL company</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">2. What is the UK's primary load board where freight is posted?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_1_2','q2',false)">A. DAT Load Board</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_2','q2',true)">B. Courier Exchange (CX)</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_2','q2',false)">C. TruckersEdge</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_2','q2',false)">D. 123Loadboard</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">3. Which organisation regulates and issues O-Licences to UK carriers?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_1_2','q3',false)">A. FMCSA</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_2','q3',true)">B. DVSA (Driver and Vehicle Standards Agency)</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_2','q3',false)">C. Companies House</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_2','q3',false)">D. The freight broker</button>
            </div>
          </div>
        </div>
        <div class="quiz-result" id="qr_1_2">
          <div class="quiz-score" id="qs_1_2"></div>
          <div id="qmsg_1_2" style="font-size:14px;color:var(--grey);margin:6px 0;"></div>
          <button class="btn btn-outline btn-sm quiz-retake" onclick="retakeQuiz('qb_1_2','qr_1_2','qs_1_2','qmsg_1_2')">‚Ü© Retake</button>
        </div>
      </div>
    </div>
  </div><!-- end topic 2 -->

  <!-- ‚îÄ‚îÄ TOPIC 3 ‚îÄ‚îÄ -->
  <div class="topic-card" id="tc_1_3">
    <button class="topic-toggle" onclick="toggleTopic('tc_1_3',this)">
      <div class="t-num" id="tn_1_3">C</div>
      <div class="t-titles">
        <div class="t-en">Carrier vs Broker vs 3PL ‚Äî Key Differences</div>
        <div class="t-hi">‡§ï‡•à‡§∞‡§ø‡§Ø‡§∞, ‡§¨‡•ç‡§∞‡•ã‡§ï‡§∞ ‡§î‡§∞ 3PL ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§Ö‡§Ç‡§§‡§∞</div>
      </div>
      <span class="t-arrow">‚Ä∫</span>
    </button>
    <div class="topic-content" id="body_1_3">
      <div class="audio-bar">
        <span class="audio-label">üîä Listen:</span>
        <button class="a-btn a-en" id="btn_en_1_3" onclick="speakTopic('en','text_en_1_3','btn_en_1_3')">‚ñ∂ English</button>
        <button class="a-btn a-hi" id="btn_hi_1_3" onclick="speakTopic('hi','text_hi_1_3','btn_hi_1_3')">‚ñ∂ ‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
        <button class="a-btn a-stop" onclick="stopAudio('btn_en_1_3','btn_hi_1_3')">‚èπ Stop</button>
        <button class="a-btn" style="background:rgba(251,191,36,0.1);color:var(--gold);border:1px solid rgba(251,191,36,0.3);" onclick="toggleHindi('text_hi_1_3')">‡§π‡§ø‡§Ç Toggle</button>
      </div>
      <div class="content-en-block" id="text_en_1_3">
        <p>Knowing the difference between these three roles is essential ‚Äî you will be asked this in every interview and you need to speak about it confidently on every broker call.</p>

        <div class="highlight-box">
          <strong style="color:var(--orange)">CARRIER / HAULIER (‡§ï‡•à‡§∞‡§ø‡§Ø‡§∞)</strong><br/>
          ‚Ä¢ Owns and operates HGVs (Heavy Goods Vehicles) in the UK<br/>
          ‚Ä¢ Must hold a valid <strong>Operator's Licence (O-Licence)</strong> from the Traffic Commissioner<br/>
          ‚Ä¢ Regulated by <strong>DVSA</strong> ‚Äî must meet vehicle, premises and driver standards<br/>
          ‚Ä¢ Has goods-in-transit insurance (typically ¬£10,000‚Äì¬£100,000) and public liability cover<br/>
          ‚Ä¢ YOU work for the carrier ‚Äî you find their loads and manage operations
        </div>
        <div class="highlight-box" style="border-left-color:var(--cyan);margin-top:10px;">
          <strong style="color:var(--cyan)">FREIGHT BROKER / LOAD POSTER (‡§´‡•ç‡§∞‡•á‡§ü ‡§¨‡•ç‡§∞‡•ã‡§ï‡§∞)</strong><br/>
          ‚Ä¢ Posts available loads on <strong>Courier Exchange (CX)</strong> ‚Äî the UK's main load board<br/>
          ‚Ä¢ Also posts on Haulage Exchange and directly via email/phone<br/>
          ‚Ä¢ Earns a margin between what the shipper pays and what they pay the carrier<br/>
          ‚Ä¢ Has a <strong>CX Credit Rating</strong> ‚Äî ALWAYS check before booking, never below 70<br/>
          ‚Ä¢ YOU negotiate with load posters every single day
        </div>
        <div class="highlight-box" style="border-left-color:#a5b4fc;margin-top:10px;">
          <strong style="color:#a5b4fc">3PL ‚Äî THIRD PARTY LOGISTICS</strong><br/>
          ‚Ä¢ Manages entire supply chain for large UK shippers (Amazon UK, Tesco, M&S, etc.)<br/>
          ‚Ä¢ Handles warehousing, transportation, customs and last-mile delivery<br/>
          ‚Ä¢ Major UK 3PLs: <strong>DHL Supply Chain, XPO Logistics, Wincanton, Eddie Stobart</strong><br/>
          ‚Ä¢ Often has very high-volume, consistent loads ‚Äî excellent for Xeagle carriers<br/>
          ‚Ä¢ As you grow, subcontracting from these companies is very valuable
        </div>
        <div class="warning-box">
          <strong>‚ö†Ô∏è Never Confuse:</strong> A dispatcher works FOR the carrier. You represent the carrier in negotiations. You cannot legally take money from shippers directly without proper licensing. Always operate through your carrier client ‚Äî this is your legal and professional position.
        </div>
        <div class="key-terms">
          <span class="key-term">O-Licence</span><span class="key-term">Traffic Commissioner</span>
          <span class="key-term">DVSA</span><span class="key-term">Goods-in-Transit Insurance</span>
          <span class="key-term">CX Credit Rating</span><span class="key-term">Courier Exchange</span>
        </div>
      </div>
      <div class="content-hi-block" id="text_hi_1_3">
        <p>‡§á‡§® ‡§§‡•Ä‡§®‡•ã‡§Ç ‡§ï‡•Ä ‡§≠‡•Ç‡§Æ‡§ø‡§ï‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§Ö‡§Ç‡§§‡§∞ ‡§ú‡§æ‡§®‡§®‡§æ ‡§¨‡•á‡§π‡§¶ ‡§ú‡§º‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à ‚Äî ‡§π‡§∞ ‡§á‡§Ç‡§ü‡§∞‡§µ‡•ç‡§Ø‡•Ç ‡§î‡§∞ ‡§π‡§∞ ‡§¨‡•ç‡§∞‡•ã‡§ï‡§∞ ‡§ï‡•â‡§≤ ‡§Æ‡•á‡§Ç ‡§Ø‡§π ‡§™‡•Ç‡§õ‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§</p>
        <div class="highlight-box">
          <strong style="color:var(--orange)">‡§ï‡•à‡§∞‡§ø‡§Ø‡§∞ / ‡§π‡•â‡§≤‡§ø‡§Ø‡§∞:</strong> UK ‡§Æ‡•á‡§Ç HGV ‡§ü‡•ç‡§∞‡§ï ‡§ï‡§æ ‡§Æ‡§æ‡§≤‡§ø‡§ï‡•§ DVSA ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§ú‡§æ‡§∞‡•Ä ‡§µ‡•à‡§ß <strong>O-Licence</strong> ‡§π‡•ã‡§®‡§æ ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§π‡•à‡•§ ‡§Ü‡§™ ‡§â‡§®‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§
        </div>
        <div class="highlight-box" style="border-left-color:var(--cyan);margin-top:10px;">
          <strong style="color:var(--cyan)">‡§´‡•ç‡§∞‡•á‡§ü ‡§¨‡•ç‡§∞‡•ã‡§ï‡§∞:</strong> <strong>Courier Exchange (CX)</strong> ‡§™‡§∞ ‡§≤‡•ã‡§° ‡§™‡•ã‡§∏‡•ç‡§ü ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ ‡§∂‡§ø‡§™‡§∞ ‡§î‡§∞ ‡§ï‡•à‡§∞‡§ø‡§Ø‡§∞ ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§Æ‡§ß‡•ç‡§Ø‡§∏‡•ç‡§•‡•§ ‡§π‡§Æ‡•á‡§∂‡§æ CX ‡§ï‡•ç‡§∞‡•á‡§°‡§ø‡§ü ‡§∞‡•á‡§ü‡§ø‡§Ç‡§ó ‡§ö‡•á‡§ï ‡§ï‡§∞‡•á‡§Ç ‚Äî 70 ‡§∏‡•á ‡§®‡•Ä‡§ö‡•á ‡§ï‡§≠‡•Ä ‡§® ‡§¨‡•Å‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§
        </div>
        <div class="warning-box">
          <strong>‚ö†Ô∏è ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§∞‡§ñ‡•á‡§Ç:</strong> ‡§°‡§ø‡§∏‡•ç‡§™‡•à‡§ö‡§∞ ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§Ü‡§™ ‡§¨‡•ç‡§∞‡•ã‡§ï‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡§Ç‡•§ ‡§∂‡§ø‡§™‡§∞ ‡§∏‡•á ‡§∏‡•Ä‡§ß‡•á ‡§™‡•à‡§∏‡•á ‡§≤‡•á‡§®‡§æ ‡§ó‡•à‡§∞‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä ‡§π‡•à‡•§ ‡§π‡§Æ‡•á‡§∂‡§æ ‡§ï‡•à‡§∞‡§ø‡§Ø‡§∞ ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡•á‡§Ç‡•§
        </div>
      </div>

      <div class="topic-quiz" id="quiz_1_3">
        <div class="quiz-header">
          <span>üß†</span><h4>Quick Check ‚Äî Topic C</h4>
          <span style="margin-left:auto;" class="tag tag-orange">3 Questions</span>
        </div>
        <div class="quiz-body" id="qb_1_3">
          <div class="q-item">
            <div class="q-text">1. What is the UK's primary load board used by dispatchers?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_1_3','q1',false)">A. DAT</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_3','q1',true)">B. Courier Exchange (CX)</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_3','q1',false)">C. TruckersEdge</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_3','q1',false)">D. Haulage Hub</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">2. What licence must every UK carrier operating HGVs hold?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_1_3','q2',false)">A. MC Authority from FMCSA</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_3','q2',true)">B. Operator's Licence (O-Licence) from Traffic Commissioner</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_3','q2',false)">C. A Companies House registration only</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_3','q2',false)">D. A DVLA driving licence</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">3. Before booking a load on CX, what must you always check?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_1_3','q3',false)">A. The poster's Twitter account</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_3','q3',false)">B. Their VAT number only</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_3','q3',true)">C. Their CX Credit Rating (never below 70)</button>
              <button class="q-opt" onclick="checkAns(this,'qb_1_3','q3',false)">D. Their Companies House filing date</button>
            </div>
          </div>
        </div>
        <div class="quiz-result" id="qr_1_3">
          <div class="quiz-score" id="qs_1_3"></div>
          <div id="qmsg_1_3" style="font-size:14px;color:var(--grey);margin:6px 0;"></div>
          <button class="btn btn-outline btn-sm quiz-retake" onclick="retakeQuiz('qb_1_3','qr_1_3','qs_1_3','qmsg_1_3')">‚Ü© Retake</button>
        </div>
      </div>
    </div>
  </div><!-- end topic 3 -->

  <!-- PRACTICAL -->
  <div class="section-header" style="margin-top:32px;">
    <h3>‚ö° Practical Activities</h3>
    <div class="section-line"></div>
    <span class="tag tag-cyan">2 Hours</span>
  </div>
  <div class="card" style="padding:24px;margin-bottom:20px;">
    <ul class="practical-list">
      <li><div class="p-num">1</div><div><strong>Logistics Chain Drawing</strong> ‚Äî Draw the full chain on paper: Shipper ‚Üí Broker ‚Üí Dispatcher ‚Üí Carrier ‚Üí Delivery. Label each player's role and payment direction. Then explain it to a partner in 60 seconds.</div></li>
      <li><div class="p-num">2</div><div><strong>UK Introduction Role-Play</strong> ‚Äî Student A is a load poster on CX, Student B is a dispatcher. B must introduce themselves professionally: "Good morning, this is [Name] from Xeagle Logistics, dispatching for [Carrier Name] ‚Äî we have a curtainsider available in Birmingham today‚Ä¶" Switch roles after 3 rounds.</div></li>
      <li><div class="p-num">3</div><div><strong>UK Carrier Vetting Exercise</strong> ‚Äî Go to <strong>vehicle-operator-licensing.service.gov.uk</strong>. Look up 3 real UK carriers your instructor provides. For each note: O-Licence type (Restricted / Standard National / Standard International), number of authorised vehicles, traffic area, and licence expiry date. Would you dispatch for them?</div></li>
      <li><div class="p-num">4</div><div><strong>Madam JI Quiz</strong> ‚Äî Open the Madam JI chatbot and ask: "What is a freight dispatcher?" Compare her answer to your notes.</div></li>
    </ul>
  </div>

  <!-- HOMEWORK -->
  <div class="hw-box fade-up">
    <h4>üìù Tonight's Homework <span class="tag tag-gold" style="font-size:10px;">Due Tomorrow</span></h4>
    <p class="hw-text">Go to <strong>vehicle-operator-licensing.service.gov.uk</strong> ‚Äî the DVSA's official O-Licence public register. Look up 5 real UK haulage companies. For each note: Company name, O-Licence type (Restricted / Standard National / Standard International), number of authorised vehicles, traffic area covered, and whether their licence is valid. Bring your findings to class tomorrow.</p>
    <div style="margin-top:14px;padding:10px 14px;background:rgba(244,121,32,0.1);border-radius:var(--radius-md);font-size:12px;color:var(--orange);">
      üí° Tip from Madam JI: The DVSA O-Licence register is free and public ‚Äî bookmark it now. You will use it every time you vet a new UK carrier. A carrier without a valid O-Licence cannot legally carry freight. Never dispatch for them!
    </div>
  </div>


  <!-- EAGLE EXCHANGE BANNER -->
  <div style="margin:24px 0;background:linear-gradient(135deg,#1a1a5e,#2B2BA8);border-radius:14px;padding:24px 28px;display:flex;align-items:center;justify-content:space-between;gap:20px;flex-wrap:wrap;box-shadow:0 4px 24px rgba(43,43,168,0.25)">
    <div style="display:flex;align-items:center;gap:16px">
      <div style="width:56px;height:56px;background:linear-gradient(135deg,#F47920,#d4661a);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:28px;flex-shrink:0">ü¶Ö</div>
      <div>
        <div style="font-family:'Syne',sans-serif;font-weight:800;font-size:18px;color:#fff;letter-spacing:.3px">Ready to practise? Open Eagle Exchange</div>
        <div style="font-size:13px;color:rgba(255,255,255,0.75);margin-top:3px">Live UK load board simulator ¬∑ Real Baaz Sameday rates ¬∑ Negotiate, book & track loads</div>
        <div style="display:flex;gap:8px;margin-top:8px;flex-wrap:wrap">
          <span style="background:rgba(244,121,32,0.2);border:1px solid rgba(244,121,32,0.4);color:#F47920;font-size:10px;font-weight:700;padding:2px 8px;border-radius:10px">üì¶ 15 UK Loads</span>
          <span style="background:rgba(255,255,255,0.1);color:rgba(255,255,255,0.8);font-size:10px;font-weight:700;padding:2px 8px;border-radius:10px">üí¨ Live Negotiation</span>
          <span style="background:rgba(255,255,255,0.1);color:rgba(255,255,255,0.8);font-size:10px;font-weight:700;padding:2px 8px;border-radius:10px">üó∫Ô∏è UK Route Tracking</span>
          <span style="background:rgba(255,255,255,0.1);color:rgba(255,255,255,0.8);font-size:10px;font-weight:700;padding:2px 8px;border-radius:10px">üèÜ Leaderboard</span>
        </div>
      </div>
    </div>
    <a href="eagle-exchange.html" target="_blank" rel="noopener" style="background:linear-gradient(135deg,#F47920,#d4661a);color:#fff;font-family:'Syne',sans-serif;font-weight:800;font-size:14px;padding:14px 28px;border-radius:10px;text-decoration:none;white-space:nowrap;box-shadow:0 4px 16px rgba(244,121,32,0.4);flex-shrink:0;transition:all .2s" onmouseover="this.style.filter='brightness(1.1)'" onmouseout="this.style.filter=''">
      Open Eagle Exchange ‚Üí
    </a>
  </div>

  <div class="day-nav">
    <div></div>
    <button class="btn btn-primary" onclick="markDayDone(1);showDay(2,document.querySelectorAll('.day-tab')[1])">
      Day 2 ‚Üí
    </button>
  </div>
</div>
<!-- END DAY 1 -->


<!-- ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó -->
<!-- ‚ïë  DAY 2 ‚Äî Freight Types & Trailer Types  ‚ïë -->
<!-- ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù -->
<div class="day-panel" id="day2">
  <div class="day-hero fade-up">
    <div class="day-num-big">D2</div>
    <div class="day-info">
      <h2>Freight Types & Trailer Types</h2>
      <div class="hindi-title">‡§Æ‡§æ‡§≤ ‡§ï‡•á ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§î‡§∞ ‡§ü‡•ç‡§∞‡•á‡§≤‡§∞ ‡§ï‡•á ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞</div>
      <div class="day-meta">
        <span class="tag tag-orange">2hrs Theory</span>
        <span class="tag tag-cyan">2hrs Practical</span>
        <span class="tag tag-green">3 Topics</span>
        <span class="tag tag-gold">Equipment Day</span>
      </div>
    </div>
  </div>

  <div class="video-box fade-up delay-1">
    <div class="video-header">
      <div class="dot" style="background:#ef4444"></div>
      <div class="dot" style="background:#fbbf24;margin:0 4px"></div>
      <div class="dot" style="background:#22c55e"></div>
      <span style="font-size:13px;font-weight:600;margin-left:10px;">üìπ Day 2 ‚Äî Freight & Trailer Types</span>
      <span style="margin-left:auto;font-size:11px;color:var(--grey);font-family:var(--font-mono);">~12 min</span>
    </div>
    <div class="video-placeholder-box" id="video_d2" onclick="loadVideo('d2','https://www.youtube.com/embed/YOUR_VIDEO_D2_ID')">
      <div class="play-circle">‚ñ∂</div>
      <div class="video-info">
        <div class="title">Day 2: Freight & Trailer Types</div>
        <div class="meta">üé¨ Add your YouTube video ID to activate</div>
      </div>
    </div>
    <div class="video-add-note">üí° Replace <code>YOUR_VIDEO_D2_ID</code> with your YouTube video ID</div>
  </div>

  <div class="section-header">
    <h3>üìñ Theory Topics</h3>
    <div class="section-line"></div>
    <span class="tag tag-orange">3 Topics</span>
  </div>

  <!-- TOPIC D2-A: FTL vs LTL -->
  <div class="topic-card" id="tc_2_1">
    <button class="topic-toggle" onclick="toggleTopic('tc_2_1',this)">
      <div class="t-num">A</div>
      <div class="t-titles">
        <div class="t-en">FTL vs LTL ‚Äî Full Truckload vs Less Than Truckload</div>
        <div class="t-hi">FTL ‡§¨‡§®‡§æ‡§Æ LTL ‚Äî ‡§™‡•Ç‡§∞‡§æ ‡§ü‡•ç‡§∞‡§ï ‡§¨‡§®‡§æ‡§Æ ‡§Ü‡§Ç‡§∂‡§ø‡§ï ‡§ü‡•ç‡§∞‡§ï</div>
      </div>
      <span class="t-arrow">‚Ä∫</span>
    </button>
    <div class="topic-content" id="body_2_1">
      <div class="audio-bar">
        <span class="audio-label">üîä Listen:</span>
        <button class="a-btn a-en" id="btn_en_2_1" onclick="speakTopic('en','text_en_2_1','btn_en_2_1')">‚ñ∂ English</button>
        <button class="a-btn a-hi" id="btn_hi_2_1" onclick="speakTopic('hi','text_hi_2_1','btn_hi_2_1')">‚ñ∂ ‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
        <button class="a-btn a-stop" onclick="stopAudio('btn_en_2_1','btn_hi_2_1')">‚èπ Stop</button>
        <button class="a-btn" style="background:rgba(251,191,36,0.1);color:var(--gold);border:1px solid rgba(251,191,36,0.3);" onclick="toggleHindi('text_hi_2_1')">‡§π‡§ø‡§Ç Toggle</button>
      </div>
      <div class="content-en-block" id="text_en_2_1">
        <p><strong style="color:var(--orange)">FTL (Full Truckload)</strong> means one shipper fills the entire trailer. The truck goes directly from pickup to delivery with no stops. This is the most common type of load dispatchers handle.</p>
        <div class="highlight-box">
          <strong>FTL Advantages:</strong><br/>
          ‚Ä¢ Higher pay per load (¬£1,200‚Äì¬£3,500+ depending on UK lane)<br/>
          ‚Ä¢ Simple ‚Äî one pickup, one delivery<br/>
          ‚Ä¢ Faster delivery (no multiple stops)<br/>
          ‚Ä¢ Less cargo handling = less damage<br/>
          ‚Ä¢ Best for new dispatchers to start with
        </div>
        <p style="margin-top:12px;"><strong style="color:var(--cyan)">LTL (Less Than Truckload)</strong> means multiple shippers share one truck. Each shipper pays for their portion of space. The truck makes multiple pickups and deliveries.</p>
        <div class="highlight-box" style="border-left-color:var(--cyan);">
          <strong>LTL Characteristics:</strong><br/>
          ‚Ä¢ Lower rate per shipper (they only pay for their space)<br/>
          ‚Ä¢ Complex routing ‚Äî multiple stops<br/>
          ‚Ä¢ Freight is palletised and measured by weight and cubic feet<br/>
          ‚Ä¢ Usually handled by LTL-specialist carriers (Old Dominion, XPO, FedEx Freight)<br/>
          ‚Ä¢ More complex for new dispatchers ‚Äî focus on FTL first!
        </div>
        <div class="example-box">
          <strong>üéØ Real Example:</strong><br/>
          FTL: Tesco needs 26 pallets of produce from Bristol depot to Glasgow distribution centre. One curtainsider, one trailer, no stops. Rate: ¬£1,920.<br/><br/>
          LTL: 4 different small companies each have 3‚Äì5 pallets going to cities in the same direction. They share one truck. Each pays their proportion.
        </div>
        <div class="key-terms">
          <span class="key-term">FTL</span><span class="key-term">LTL</span><span class="key-term">Pallet</span>
          <span class="key-term">Cubic Feet</span><span class="key-term">Direct Load</span><span class="key-term">Multi-Stop</span>
        </div>
      </div>
      <div class="content-hi-block" id="text_hi_2_1">
        <p><strong style="color:var(--orange)">FTL (‡§´‡•Å‡§≤ ‡§ü‡•ç‡§∞‡§ï‡§≤‡•ã‡§°):</strong> ‡§è‡§ï ‡§∂‡§ø‡§™‡§∞ ‡§™‡•Ç‡§∞‡§æ ‡§ü‡•ç‡§∞‡•á‡§≤‡§∞ ‡§≠‡§∞ ‡§¶‡•á‡§§‡§æ ‡§π‡•à‡•§ ‡§∏‡•Ä‡§ß‡•á ‡§™‡§ø‡§ï‡§Ö‡§™ ‡§∏‡•á ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä‡•§ ‡§Ø‡§π ‡§®‡§è ‡§°‡§ø‡§∏‡•ç‡§™‡•à‡§ö‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§‡•Ä ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§π‡•à‡•§</p>
        <div class="highlight-box">FTL ‡§Æ‡•á‡§Ç: ‡§Ö‡§ß‡§ø‡§ï ‡§™‡•à‡§∏‡•á, ‡§∏‡§∞‡§≤ ‡§ë‡§™‡§∞‡•á‡§∂‡§®, ‡§è‡§ï ‡§™‡§ø‡§ï‡§Ö‡§™, ‡§è‡§ï ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä‡•§ ¬£1,200‚Äì¬£3,500+ ‡§™‡•ç‡§∞‡§§‡§ø UK ‡§≤‡•ã‡§°‡•§</div>
        <p style="margin-top:12px;"><strong style="color:var(--cyan)">LTL (‡§≤‡•á‡§∏ ‡§¶‡•à‡§® ‡§ü‡•ç‡§∞‡§ï‡§≤‡•ã‡§°):</strong> ‡§ï‡§à ‡§∂‡§ø‡§™‡§∞ ‡§è‡§ï ‡§ü‡•ç‡§∞‡§ï ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§Ø‡§π ‡§ú‡§ü‡§ø‡§≤ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ ‡§®‡§è ‡§°‡§ø‡§∏‡•ç‡§™‡•à‡§ö‡§∞ ‡§ï‡•ã ‡§™‡§π‡§≤‡•á FTL ‡§™‡§∞ ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§¶‡•á‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§</p>
      </div>
      <div class="topic-quiz" id="quiz_2_1">
        <div class="quiz-header"><span>üß†</span><h4>Quick Check ‚Äî FTL vs LTL</h4><span style="margin-left:auto;" class="tag tag-orange">3 Questions</span></div>
        <div class="quiz-body" id="qb_2_1">
          <div class="q-item">
            <div class="q-text">1. Which type of load is best for a new dispatcher to start with?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_2_1','q1',true)">A. FTL ‚Äî Full Truckload</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_1','q1',false)">B. LTL ‚Äî Less Than Truckload</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_1','q1',false)">C. Both equally</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_1','q1',false)">D. Neither ‚Äî start with air freight</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">2. In FTL, how many shippers fill one trailer?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_2_1','q2',false)">A. Multiple shippers</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_1','q2',true)">B. One shipper</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_1','q2',false)">C. Depends on weight</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_1','q2',false)">D. Three shippers maximum</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">3. Which of these is an LTL specialist carrier in the USA?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_2_1','q3',false)">A. J.B. Hunt</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_1','q3',true)">B. Old Dominion Freight Line</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_1','q3',false)">C. Werner Enterprises</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_1','q3',false)">D. Schneider National</button>
            </div>
          </div>
        </div>
        <div class="quiz-result" id="qr_2_1"><div class="quiz-score" id="qs_2_1"></div><div id="qmsg_2_1" style="font-size:14px;color:var(--grey);margin:6px 0;"></div><button class="btn btn-outline btn-sm quiz-retake" onclick="retakeQuiz('qb_2_1','qr_2_1','qs_2_1','qmsg_2_1')">‚Ü© Retake</button></div>
      </div>
    </div>
  </div>

  <!-- TOPIC D2-B: USA Trailer Types -->
  <div class="topic-card" id="tc_2_2">
    <button class="topic-toggle" onclick="toggleTopic('tc_2_2',this)">
      <div class="t-num">B</div>
      <div class="t-titles">
        <div class="t-en">USA Trailer Types ‚Äî Dry Van, Reefer, Flatbed & More</div>
        <div class="t-hi">USA ‡§ü‡•ç‡§∞‡•á‡§≤‡§∞ ‡§ï‡•á ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‚Äî ‡§°‡•ç‡§∞‡§æ‡§Ø ‡§µ‡•à‡§®, ‡§∞‡•Ä‡§´‡§∞, ‡§´‡•ç‡§≤‡•à‡§ü‡§¨‡•á‡§° ‡§î‡§∞ ‡§Ö‡§ß‡§ø‡§ï</div>
      </div>
      <span class="t-arrow">‚Ä∫</span>
    </button>
    <div class="topic-content" id="body_2_2">
      <div class="audio-bar">
        <span class="audio-label">üîä Listen:</span>
        <button class="a-btn a-en" id="btn_en_2_2" onclick="speakTopic('en','text_en_2_2','btn_en_2_2')">‚ñ∂ English</button>
        <button class="a-btn a-hi" id="btn_hi_2_2" onclick="speakTopic('hi','text_hi_2_2','btn_hi_2_2')">‚ñ∂ ‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
        <button class="a-btn a-stop" onclick="stopAudio('btn_en_2_2','btn_hi_2_2')">‚èπ Stop</button>
        <button class="a-btn" style="background:rgba(251,191,36,0.1);color:var(--gold);border:1px solid rgba(251,191,36,0.3);" onclick="toggleHindi('text_hi_2_2')">‡§π‡§ø‡§Ç Toggle</button>
      </div>
      <div class="content-en-block" id="text_en_2_2">
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:16px;">
          <div class="highlight-box" style="margin:0;">
            <strong style="color:var(--orange)">üì¶ Dry Van (53ft)</strong><br/>
            Most common trailer. Fully enclosed. Used for general, non-perishable freight ‚Äî electronics, clothing, household goods, automotive parts.<br/>
            <strong>UK CPM Target: ¬£1.80‚Äì¬£2.50</strong>
          </div>
          <div class="highlight-box" style="margin:0;border-left-color:var(--cyan);">
            <strong style="color:var(--cyan)">‚ùÑÔ∏è Reefer (Refrigerated)</strong><br/>
            Temperature-controlled from -20¬∞F to +70¬∞F. Used for food, produce, pharmaceuticals, frozen goods. Requires monitoring of temperature logs.<br/>
            <strong>UK CPM Target: ¬£2.20‚Äì¬£3.00</strong>
          </div>
          <div class="highlight-box" style="margin:0;border-left-color:var(--gold);">
            <strong style="color:var(--gold)">üèóÔ∏è Flatbed</strong><br/>
            Open platform with no sides or roof. Used for machinery, steel coils, lumber, construction equipment, oversized loads. Requires tarping and load securement knowledge.<br/>
            <strong>UK CPM Target: ¬£2.50‚Äì¬£3.50</strong>
          </div>
          <div class="highlight-box" style="margin:0;border-left-color:#a5b4fc;">
            <strong style="color:#a5b4fc">üìê Step Deck</strong><br/>
            Two-level deck ‚Äî lower level for taller cargo that would exceed flatbed height restrictions. Used for heavy machinery, vehicles, tall equipment.<br/>
            <strong>UK CPM Target: ¬£2.80‚Äì¬£4.00</strong>
          </div>
          <div class="highlight-box" style="margin:0;border-left-color:var(--green);">
            <strong style="color:var(--green)">üíß Tanker</strong><br/>
            Cylindrical tank for liquid cargo ‚Äî fuel, chemicals, food-grade liquids. Driver needs special CDL-X endorsement. Complex but high-paying.<br/>
            <strong>UK CPM Target: ¬£2.20‚Äì¬£3.20</strong>
          </div>
          <div class="highlight-box" style="margin:0;border-left-color:var(--red);">
            <strong style="color:var(--orange-light)">‚ö° Hotshot</strong><br/>
            Small loads using pickup trucks + small trailers. Fast, time-sensitive, smaller LTL loads. Lower RPM but quick turnaround. Good for rural areas.<br/>
            <strong>UK CPM Target: ¬£1.60‚Äì¬£2.50</strong>
          </div>
        </div>
        <div class="key-terms">
          <span class="key-term">Dry Van</span><span class="key-term">Reefer</span><span class="key-term">Flatbed</span>
          <span class="key-term">Step Deck</span><span class="key-term">Tanker</span><span class="key-term">Hotshot</span>
          <span class="key-term">CDL-X</span><span class="key-term">Tarping</span>
        </div>
      </div>
      <div class="content-hi-block" id="text_hi_2_2">
        <p><strong style="color:var(--orange)">üì¶ ‡§°‡•ç‡§∞‡§æ‡§Ø ‡§µ‡•à‡§®:</strong> ‡§∏‡§¨‡§∏‡•á ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§ü‡•ç‡§∞‡•á‡§≤‡§∞‡•§ ‡§¨‡§Ç‡§¶ ‡§°‡§ø‡§¨‡•ç‡§¨‡§æ‡•§ ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§Æ‡§æ‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è‡•§ RPM: $2.50‚Äì3.50</p>
        <p style="margin-top:8px;"><strong style="color:var(--cyan)">‚ùÑÔ∏è ‡§∞‡•Ä‡§´‡§∞:</strong> ‡§§‡§æ‡§™‡§Æ‡§æ‡§®-‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§ø‡§§‡•§ ‡§ñ‡§æ‡§®‡§æ, ‡§¶‡§µ‡§æ‡§à, ‡§´‡§≤-‡§∏‡§¨‡•ç‡§ú‡•Ä‡•§ -20¬∞F ‡§∏‡•á +70¬∞F‡•§ RPM: $3.00‚Äì4.50</p>
        <p style="margin-top:8px;"><strong style="color:var(--gold)">üèóÔ∏è ‡§´‡•ç‡§≤‡•à‡§ü‡§¨‡•á‡§°:</strong> ‡§ñ‡•Å‡§≤‡§æ ‡§Æ‡§Ç‡§ö‡•§ ‡§Æ‡§∂‡•Ä‡§®‡§∞‡•Ä, ‡§∏‡•ç‡§ü‡•Ä‡§≤, ‡§≤‡§ï‡§°‡§º‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è‡•§ RPM: $3.00‚Äì5.00</p>
        <p style="margin-top:8px;"><strong style="color:#a5b4fc">üìê ‡§∏‡•ç‡§ü‡•á‡§™ ‡§°‡•á‡§ï:</strong> ‡§¶‡•ã ‡§∏‡•ç‡§§‡§∞‡•Ä‡§Ø‡•§ ‡§ä‡§Å‡§ö‡•á ‡§Æ‡§æ‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è‡•§ RPM: $3.50‚Äì5.50</p>
        <p style="margin-top:8px;"><strong style="color:var(--green)">üíß ‡§ü‡•à‡§Ç‡§ï‡§∞:</strong> ‡§§‡§∞‡§≤ ‡§Æ‡§æ‡§≤‡•§ CDL-X ‡§≤‡§æ‡§á‡§∏‡•á‡§Ç‡§∏ ‡§ú‡§º‡§∞‡•Ç‡§∞‡•Ä‡•§ RPM: $2.80‚Äì4.00</p>
        <p style="margin-top:8px;"><strong style="color:var(--orange-light)">‚ö° ‡§π‡•â‡§ü‡§∂‡•â‡§ü:</strong> ‡§õ‡•ã‡§ü‡•á ‡§≤‡•ã‡§°, ‡§ú‡§≤‡•ç‡§¶‡•Ä‡•§ RPM: $2.00‚Äì3.50</p>
      </div>
      <div class="topic-quiz" id="quiz_2_2">
        <div class="quiz-header"><span>üß†</span><h4>Quick Check ‚Äî Trailer Types</h4><span style="margin-left:auto;" class="tag tag-orange">4 Questions</span></div>
        <div class="quiz-body" id="qb_2_2">
          <div class="q-item">
            <div class="q-text">1. Which trailer type would you use to transport frozen ice cream across the USA?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q1',false)">A. Dry Van</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q1',true)">B. Reefer</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q1',false)">C. Flatbed</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q1',false)">D. Tanker</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">2. What RPM range should you target for a Flatbed load?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q2',false)">A. ¬£0.50‚Äì0.80</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q2',false)">B. ¬£1.00‚Äì1.50</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q2',true)">C. ¬£1.80‚Äì¬£3.00</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q2',false)">D. ¬£5.00‚Äì8.00</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">3. Which special licence endorsement does a tanker driver need?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q3',false)">A. CDL-A only</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q3',true)">B. CDL-X (Tanker + Hazmat)</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q3',false)">C. CDL-B</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q3',false)">D. No special licence needed</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">4. A Step Deck trailer is best for:</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q4',false)">A. Frozen foods</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q4',false)">B. Liquid chemicals</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q4',true)">C. Tall cargo exceeding flatbed height</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_2','q4',false)">D. Small parcels under 500 lbs</button>
            </div>
          </div>
        </div>
        <div class="quiz-result" id="qr_2_2"><div class="quiz-score" id="qs_2_2"></div><div id="qmsg_2_2" style="font-size:14px;color:var(--grey);margin:6px 0;"></div><button class="btn btn-outline btn-sm quiz-retake" onclick="retakeQuiz('qb_2_2','qr_2_2','qs_2_2','qmsg_2_2')">‚Ü© Retake</button></div>
      </div>
    </div>
  </div>

  <!-- TOPIC D2-C: Intermodal + UK Trailers -->
  <div class="topic-card" id="tc_2_3">
    <button class="topic-toggle" onclick="toggleTopic('tc_2_3',this)">
      <div class="t-num">C</div>
      <div class="t-titles">
        <div class="t-en">Intermodal, Drayage & UK/EU Trailers</div>
        <div class="t-hi">‡§á‡§Ç‡§ü‡§∞‡§Æ‡•ã‡§°‡§≤, ‡§°‡•ç‡§∞‡•á‡§Ø‡•á‡§ú ‡§î‡§∞ UK/EU ‡§ü‡•ç‡§∞‡•á‡§≤‡§∞</div>
      </div>
      <span class="t-arrow">‚Ä∫</span>
    </button>
    <div class="topic-content" id="body_2_3">
      <div class="audio-bar">
        <span class="audio-label">üîä Listen:</span>
        <button class="a-btn a-en" id="btn_en_2_3" onclick="speakTopic('en','text_en_2_3','btn_en_2_3')">‚ñ∂ English</button>
        <button class="a-btn a-hi" id="btn_hi_2_3" onclick="speakTopic('hi','text_hi_2_3','btn_hi_2_3')">‚ñ∂ ‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
        <button class="a-btn a-stop" onclick="stopAudio('btn_en_2_3','btn_hi_2_3')">‚èπ Stop</button>
        <button class="a-btn" style="background:rgba(251,191,36,0.1);color:var(--gold);border:1px solid rgba(251,191,36,0.3);" onclick="toggleHindi('text_hi_2_3')">‡§π‡§ø‡§Ç Toggle</button>
      </div>
      <div class="content-en-block" id="text_en_2_3">
        <p><strong style="color:var(--orange)">Intermodal</strong> freight uses multiple transport modes ‚Äî typically truck + rail + ship. A container is loaded onto a truck for the first mile, transferred to a train for the long haul, then a truck again for last-mile delivery.</p>
        <div class="highlight-box">
          <strong>Intermodal benefits:</strong> 30‚Äì40% cheaper than OTR trucking for long distances. More environmentally friendly. Rail is very efficient for Chicago ‚Üí West Coast lanes. As a dispatcher, intermodal loads typically use TOFC (Trailer On Flat Car) or COFC (Container On Flat Car) equipment.
        </div>
        <p style="margin-top:12px;"><strong style="color:var(--cyan)">Drayage</strong> is short-distance moves ‚Äî typically port-to-warehouse or rail yard-to-warehouse. These are high-volume, lower-rate loads. Common in Los Angeles (Port of LA, Port of Long Beach) and New York/New Jersey ports.</p>
        <p style="margin-top:12px;"><strong style="color:var(--gold)">UK/EU Trailer Types</strong> you should know for UK market:</p>
        <div class="highlight-box" style="border-left-color:var(--gold);">
          ‚Ä¢ <strong>Curtainsider:</strong> Flexible curtain sides for easy side-loading. Most common in UK/EU. Perfect for palletised goods.<br/>
          ‚Ä¢ <strong>Box Trailer:</strong> Enclosed ‚Äî similar to US Dry Van but to EU dimensions (13.6m long)<br/>
          ‚Ä¢ <strong>Low Loader:</strong> For very heavy construction machinery, abnormal loads<br/>
          ‚Ä¢ <strong>Mega Trailer:</strong> Higher capacity EU trailer ‚Äî 100 cubic metres<br/>
          ‚Ä¢ <strong>Skeletal Trailer:</strong> For shipping containers ‚Äî very common at UK ports
        </div>
        <div class="key-terms">
          <span class="key-term">Intermodal</span><span class="key-term">Drayage</span><span class="key-term">TOFC</span>
          <span class="key-term">Curtainsider</span><span class="key-term">Mega Trailer</span><span class="key-term">Skeletal</span>
        </div>
      </div>
      <div class="content-hi-block" id="text_hi_2_3">
        <p><strong style="color:var(--orange)">‡§á‡§Ç‡§ü‡§∞‡§Æ‡•ã‡§°‡§≤:</strong> ‡§ü‡•ç‡§∞‡§ï + ‡§ü‡•ç‡§∞‡•á‡§® + ‡§ú‡§π‡§æ‡§ú ‚Äî ‡§ï‡§à ‡§™‡§∞‡§ø‡§µ‡§π‡§® ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ‡•ã‡§Ç ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó‡•§ ‡§≤‡§Ç‡§¨‡•Ä ‡§¶‡•Ç‡§∞‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è 30-40% ‡§∏‡§∏‡•ç‡§§‡§æ‡•§</p>
        <p style="margin-top:8px;"><strong style="color:var(--cyan)">‡§°‡•ç‡§∞‡•á‡§Ø‡•á‡§ú:</strong> ‡§¨‡§Ç‡§¶‡§∞‡§ó‡§æ‡§π ‡§∏‡•á ‡§ó‡•ã‡§¶‡§æ‡§Æ ‡§§‡§ï ‡§ï‡•Ä ‡§õ‡•ã‡§ü‡•Ä ‡§¶‡•Ç‡§∞‡•Ä‡•§ ‡§≤‡•â‡§∏ ‡§è‡§Ç‡§ú‡§ø‡§≤‡§ø‡§∏ ‡§î‡§∞ ‡§®‡•ç‡§Ø‡•Ç ‡§Ø‡•â‡§∞‡•ç‡§ï ‡§Æ‡•á‡§Ç ‡§¨‡§π‡•Å‡§§ ‡§Ü‡§Æ‡•§</p>
        <p style="margin-top:8px;"><strong style="color:var(--gold)">UK/EU ‡§ü‡•ç‡§∞‡•á‡§≤‡§∞:</strong> ‡§ï‡§∞‡•ç‡§ü‡§®‡§∏‡§æ‡§á‡§°‡§∞ (UK ‡§Æ‡•á‡§Ç ‡§∏‡§¨‡§∏‡•á ‡§Ü‡§Æ), ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§ü‡•ç‡§∞‡•á‡§≤‡§∞, ‡§≤‡•ã ‡§≤‡•ã‡§°‡§∞, ‡§Æ‡•á‡§ó‡§æ ‡§ü‡•ç‡§∞‡•á‡§≤‡§∞‡•§</p>
      </div>
      <div class="topic-quiz" id="quiz_2_3">
        <div class="quiz-header"><span>üß†</span><h4>Quick Check ‚Äî Intermodal & UK</h4><span style="margin-left:auto;" class="tag tag-orange">3 Questions</span></div>
        <div class="quiz-body" id="qb_2_3">
          <div class="q-item">
            <div class="q-text">1. What is drayage?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_2_3','q1',false)">A. Long-haul cross-country trucking</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_3','q1',true)">B. Short-distance port or rail yard to warehouse moves</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_3','q1',false)">C. Air freight from airports</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_3','q1',false)">D. Overnight express delivery</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">2. What is the most common trailer type in the UK and EU?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_2_3','q2',false)">A. Dry Van</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_3','q2',true)">B. Curtainsider</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_3','q2',false)">C. Step Deck</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_3','q2',false)">D. Hotshot</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">3. Intermodal freight uses truck + rail. How much cheaper is it than pure trucking on long distances?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_2_3','q3',false)">A. 5‚Äì10% cheaper</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_3','q3',false)">B. 15‚Äì20% cheaper</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_3','q3',true)">C. 30‚Äì40% cheaper</button>
              <button class="q-opt" onclick="checkAns(this,'qb_2_3','q3',false)">D. 60‚Äì70% cheaper</button>
            </div>
          </div>
        </div>
        <div class="quiz-result" id="qr_2_3"><div class="quiz-score" id="qs_2_3"></div><div id="qmsg_2_3" style="font-size:14px;color:var(--grey);margin:6px 0;"></div><button class="btn btn-outline btn-sm quiz-retake" onclick="retakeQuiz('qb_2_3','qr_2_3','qs_2_3','qmsg_2_3')">‚Ü© Retake</button></div>
      </div>
    </div>
  </div>

  <div class="section-header" style="margin-top:32px;"><h3>‚ö° Practical Activities</h3><div class="section-line"></div><span class="tag tag-cyan">2 Hours</span></div>
  <div class="card" style="padding:24px;margin-bottom:20px;">
    <ul class="practical-list">
      <li><div class="p-num">1</div><div><strong>Trailer Matching Game</strong> ‚Äî 20 cargo items listed (e.g., frozen pizza, steel beams, clothing, chemicals). Match each to the correct trailer type. Mark ‚úì or ‚úó.</div></li>
      <li><div class="p-num">2</div><div><strong>UK CPM Calculation Drill</strong> ‚Äî Calculate Cost Per Mile (CPM) for these 5 UK loads: (1) ¬£840 for 420mi London‚ÜíManchester (2) ¬£1,260 for 620mi Birmingham‚ÜíEdinburgh (3) ¬£480 for 180mi Bristol‚ÜíCardiff (4) ¬£1,800 for 780mi London‚ÜíGlasgow (5) ¬£650 for 310mi Leeds‚ÜíSouthampton. Which is below the ¬£1.80 minimum target?</div></li>
      <li><div class="p-num">3</div><div><strong>FTL vs LTL Identification</strong> ‚Äî 8 load descriptions given. Identify each as FTL or LTL and explain why.</div></li>
    </ul>
  </div>
  <div class="hw-box">
    <h4>üìù Tonight's Homework <span class="tag tag-gold" style="font-size:10px;">Due Tomorrow</span></h4>
    <p class="hw-text">Draw all 6 USA trailer types from memory with labels and one example cargo for each. Write the RPM target range next to each trailer. Then research: What is a "refer breakdown" and why is it critical for a dispatcher to respond immediately?</p>
  </div>
  <div class="day-nav">
    <button class="btn btn-ghost" onclick="showDay(1,document.querySelectorAll('.day-tab')[0])">‚Üê Day 1</button>
    <button class="btn btn-primary" onclick="markDayDone(2);showDay(3,document.querySelectorAll('.day-tab')[2])">Day 3 ‚Üí</button>
  </div>
</div>
<!-- END DAY 2 -->


<!-- ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó -->
<!-- ‚ïë  DAY 3 ‚Äî Geography & Time Zones         ‚ïë -->
<!-- ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù -->
<div class="day-panel" id="day3">
  <div class="day-hero fade-up">
    <div class="day-num-big">D3</div>
    <div class="day-info">
      <h2>USA Geography & Time Zones</h2>
      <div class="hindi-title">‡§Ö‡§Æ‡•á‡§∞‡§ø‡§ï‡§æ ‡§ï‡§æ ‡§≠‡•Ç‡§ó‡•ã‡§≤ ‡§î‡§∞ ‡§∏‡§Æ‡§Ø ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞</div>
      <div class="day-meta">
        <span class="tag tag-orange">2hrs Theory</span>
        <span class="tag tag-cyan">2hrs Practical</span>
        <span class="tag tag-green">2 Topics</span>
        <span class="tag tag-gold">Geography Day</span>
      </div>
    </div>
  </div>
  <div class="video-box fade-up delay-1">
    <div class="video-header">
      <div class="dot" style="background:#ef4444"></div><div class="dot" style="background:#fbbf24;margin:0 4px"></div><div class="dot" style="background:#22c55e"></div>
      <span style="font-size:13px;font-weight:600;margin-left:10px;">üìπ Day 3 ‚Äî Geography & Time Zones</span>
      <span style="margin-left:auto;font-size:11px;color:var(--grey);font-family:var(--font-mono);">~10 min</span>
    </div>
    <div class="video-placeholder-box" onclick="loadVideo('d3','https://www.youtube.com/embed/YOUR_VIDEO_D3_ID')">
      <div class="play-circle">‚ñ∂</div>
      <div class="video-info"><div class="title">Day 3: USA Geography & Time Zones</div><div class="meta">üé¨ Add your YouTube video ID</div></div>
    </div>
    <div class="video-add-note">üí° Replace <code>YOUR_VIDEO_D3_ID</code> with your YouTube video ID</div>
  </div>

  <div class="section-header"><h3>üìñ Theory Topics</h3><div class="section-line"></div><span class="tag tag-orange">2 Topics</span></div>

  <div class="topic-card" id="tc_3_1">
    <button class="topic-toggle" onclick="toggleTopic('tc_3_1',this)">
      <div class="t-num">A</div>
      <div class="t-titles">
        <div class="t-en">USA Major Freight Lanes & Key Cities</div>
        <div class="t-hi">‡§Ö‡§Æ‡•á‡§∞‡§ø‡§ï‡§æ ‡§ï‡•á ‡§™‡•ç‡§∞‡§Æ‡•Å‡§ñ ‡§Æ‡§æ‡§≤ ‡§Æ‡§æ‡§∞‡•ç‡§ó ‡§î‡§∞ ‡§∂‡§π‡§∞</div>
      </div>
      <span class="t-arrow">‚Ä∫</span>
    </button>
    <div class="topic-content" id="body_3_1">
      <div class="audio-bar">
        <span class="audio-label">üîä Listen:</span>
        <button class="a-btn a-en" id="btn_en_3_1" onclick="speakTopic('en','text_en_3_1','btn_en_3_1')">‚ñ∂ English</button>
        <button class="a-btn a-hi" id="btn_hi_3_1" onclick="speakTopic('hi','text_hi_3_1','btn_hi_3_1')">‚ñ∂ ‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
        <button class="a-btn a-stop" onclick="stopAudio('btn_en_3_1','btn_hi_3_1')">‚èπ Stop</button>
        <button class="a-btn" style="background:rgba(251,191,36,0.1);color:var(--gold);border:1px solid rgba(251,191,36,0.3);" onclick="toggleHindi('text_hi_3_1')">‡§π‡§ø‡§Ç Toggle</button>
      </div>
      <div class="content-en-block" id="text_en_3_1">
        <p>Knowing US geography is not about memorising maps ‚Äî it is about knowing which freight lanes pay well, which routes are in high demand, and how long a load should realistically take.</p>
        <div class="highlight-box">
          <strong>üî• Top Freight Corridors (Memorise These!):</strong><br/>
          ‚Ä¢ <strong style="color:var(--orange)">Chicago (IL) ‚Üî Los Angeles (CA)</strong> ‚Äî Most active lane in USA. 2,000+ miles. Always has loads.<br/>
          ‚Ä¢ <strong style="color:var(--cyan)">Dallas (TX) ‚Üî Atlanta (GA)</strong> ‚Äî Southern freight belt. High volume manufacturing.<br/>
          ‚Ä¢ <strong style="color:var(--gold)">New York (NY) ‚Üî Miami (FL)</strong> ‚Äî East Coast corridor. Retail + food supply chain.<br/>
          ‚Ä¢ <strong style="color:var(--green)">Chicago (IL) ‚Üî Atlanta (GA)</strong> ‚Äî Midwest to Southeast. Very consistent loads.<br/>
          ‚Ä¢ <strong style="color:#a5b4fc">Seattle (WA) ‚Üî Phoenix (AZ)</strong> ‚Äî Western lane. Tech + automotive freight.
        </div>
        <div class="example-box">
          <strong>üéØ Triangle Routing Example:</strong><br/>
          Instead of Chicago ‚Üí LA ‚Üí (empty back) ‚Üí Chicago<br/>
          Find: Chicago ‚Üí LA ‚Üí Phoenix ‚Üí Dallas ‚Üí Chicago<br/>
          Result: 3 loaded legs instead of 1 loaded + 1 empty = <strong>much higher monthly revenue!</strong>
        </div>
        <div class="highlight-box" style="border-left-color:var(--cyan);">
          <strong>Key Hub Cities to Know:</strong><br/>
          Birmingham ‚Äî UK's freight crossroads. M6, M5, M42 all meet here.<br/>
          Los Angeles CA ‚Äî Largest port. West Coast gateway.<br/>
          Atlanta GA ‚Äî Southeast distribution centre.<br/>
          Dallas TX ‚Äî South-Central hub. Oil, manufacturing, retail.<br/>
          Memphis TN ‚Äî FedEx hub. Major overnight freight centre.<br/>
          Louisville KY ‚Äî UPS WorldPort. Amazon distribution.<br/>
          Columbus OH ‚Äî Retail distribution (Limited Brands, Victoria's Secret).<br/>
          Newark NJ ‚Äî East Coast port. New York area freight.
        </div>
        <div class="key-terms">
          <span class="key-term">Freight Lane</span><span class="key-term">Deadhead</span><span class="key-term">Triangle Route</span>
          <span class="key-term">Hub City</span><span class="key-term">Origin/Destination</span>
        </div>
      </div>
      <div class="content-hi-block" id="text_hi_3_1">
        <p>‡§Ö‡§Æ‡•á‡§∞‡§ø‡§ï‡•Ä ‡§≠‡•Ç‡§ó‡•ã‡§≤ ‡§ú‡§æ‡§®‡§®‡§æ ‡§á‡§∏‡§≤‡§ø‡§è ‡§ú‡§º‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à ‡§§‡§æ‡§ï‡§ø ‡§Ü‡§™ ‡§ú‡§æ‡§® ‡§∏‡§ï‡•á‡§Ç ‡§ï‡§ø ‡§ï‡•å‡§® ‡§∏‡•á ‡§∞‡•Ç‡§ü ‡§™‡§∞ ‡§Ö‡§ß‡§ø‡§ï ‡§™‡•à‡§∏‡•á ‡§Æ‡§ø‡§≤‡§§‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§ï‡•å‡§® ‡§∏‡•á ‡§≤‡•á‡§® ‡§Æ‡•á‡§Ç ‡§Æ‡§æ‡§≤ ‡§ï‡•Ä ‡§Æ‡§æ‡§Å‡§ó ‡§Ö‡§ß‡§ø‡§ï ‡§π‡•à‡•§</p>
        <div class="highlight-box">
          <strong>üî• ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§Æ‡§æ‡§≤ ‡§Æ‡§æ‡§∞‡•ç‡§ó:</strong><br/>
          ‚Ä¢ ‡§∂‡§ø‡§ï‡§æ‡§ó‡•ã ‚Üî ‡§≤‡•â‡§∏ ‡§è‡§Ç‡§ú‡§ø‡§≤‡§ø‡§∏ ‚Äî ‡§Ö‡§Æ‡•á‡§∞‡§ø‡§ï‡§æ ‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§µ‡•ç‡§Ø‡§∏‡•ç‡§§ ‡§Æ‡§æ‡§∞‡•ç‡§ó<br/>
          ‚Ä¢ ‡§°‡§≤‡§æ‡§∏ ‚Üî ‡§Ö‡§ü‡§≤‡§æ‡§Ç‡§ü‡§æ ‚Äî ‡§¶‡§ï‡•ç‡§∑‡§ø‡§£‡•Ä ‡§Æ‡§æ‡§≤ ‡§™‡§ü‡•ç‡§ü‡•Ä<br/>
          ‚Ä¢ ‡§®‡•ç‡§Ø‡•Ç ‡§Ø‡•â‡§∞‡•ç‡§ï ‚Üî ‡§Æ‡§æ‡§Ø‡§æ‡§Æ‡•Ä ‚Äî ‡§™‡•Ç‡§∞‡•ç‡§µ‡•Ä ‡§§‡§ü<br/>
          ‚Ä¢ ‡§∂‡§ø‡§ï‡§æ‡§ó‡•ã ‚Üî ‡§Ö‡§ü‡§≤‡§æ‡§Ç‡§ü‡§æ ‚Äî ‡§Æ‡§ß‡•ç‡§Ø-‡§™‡§∂‡•ç‡§ö‡§ø‡§Æ ‡§∏‡•á ‡§¶‡§ï‡•ç‡§∑‡§ø‡§£-‡§™‡•Ç‡§∞‡•ç‡§µ
        </div>
        <div class="example-box">
          <strong>üéØ ‡§§‡•ç‡§∞‡§ø‡§ï‡•ã‡§£ ‡§Æ‡§æ‡§∞‡•ç‡§ó ‡§â‡§¶‡§æ‡§π‡§∞‡§£:</strong><br/>
          ‡§∂‡§ø‡§ï‡§æ‡§ó‡•ã ‚Üí LA ‚Üí ‡§´‡•Ä‡§®‡§ø‡§ï‡•ç‡§∏ ‚Üí ‡§°‡§≤‡§æ‡§∏ ‚Üí ‡§∂‡§ø‡§ï‡§æ‡§ó‡•ã<br/>
          ‡§§‡•Ä‡§® ‡§≤‡•ã‡§°‡•á‡§° ‡§≤‡•á‡§ó = ‡§ñ‡§æ‡§≤‡•Ä ‡§Æ‡§æ‡§á‡§≤ ‡§ï‡§Æ, ‡§Ü‡§Ø ‡§Ö‡§ß‡§ø‡§ï!
        </div>
      </div>
      <div class="topic-quiz" id="quiz_3_1">
        <div class="quiz-header"><span>üß†</span><h4>Quick Check ‚Äî Freight Lanes</h4><span style="margin-left:auto;" class="tag tag-orange">3 Questions</span></div>
        <div class="quiz-body" id="qb_3_1">
          <div class="q-item">
            <div class="q-text">1. Which is the most active freight lane in the entire USA?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_3_1','q1',false)">A. Dallas TX ‚Üî Atlanta GA</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_1','q1',true)">B. Chicago IL ‚Üî Los Angeles CA</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_1','q1',false)">C. New York NY ‚Üî Miami FL</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_1','q1',false)">D. Seattle WA ‚Üî Phoenix AZ</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">2. What is "deadhead" in trucking?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_3_1','q2',false)">A. A damaged shipment</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_1','q2',true)">B. Miles driven with no cargo (empty truck)</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_1','q2',false)">C. Night-time driving</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_1','q2',false)">D. A late delivery</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">3. Which UK city sits at the junction of the M6, M5 and M42 motorways ‚Äî often called the UK freight crossroads?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_3_1','q3',true)">A. Chicago, Illinois</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_1','q3',false)">B. Atlanta, Georgia</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_1','q3',false)">C. Dallas, Texas</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_1','q3',false)">D. Los Angeles, California</button>
            </div>
          </div>
        </div>
        <div class="quiz-result" id="qr_3_1"><div class="quiz-score" id="qs_3_1"></div><div id="qmsg_3_1" style="font-size:14px;color:var(--grey);margin:6px 0;"></div><button class="btn btn-outline btn-sm quiz-retake" onclick="retakeQuiz('qb_3_1','qr_3_1','qs_3_1','qmsg_3_1')">‚Ü© Retake</button></div>
      </div>
    </div>
  </div>

  <div class="topic-card" id="tc_3_2">
    <button class="topic-toggle" onclick="toggleTopic('tc_3_2',this)">
      <div class="t-num">B</div>
      <div class="t-titles">
        <div class="t-en">USA Time Zones & IST Conversion ‚Äî Critical for Dispatch</div>
        <div class="t-hi">‡§Ö‡§Æ‡•á‡§∞‡§ø‡§ï‡§æ ‡§ï‡•á ‡§∏‡§Æ‡§Ø ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ‡§î‡§∞ IST ‚Äî ‡§°‡§ø‡§∏‡•ç‡§™‡•à‡§ö ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§§‡•ç‡§Ø‡§Ç‡§§ ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£</div>
      </div>
      <span class="t-arrow">‚Ä∫</span>
    </button>
    <div class="topic-content" id="body_3_2">
      <div class="audio-bar">
        <span class="audio-label">üîä Listen:</span>
        <button class="a-btn a-en" id="btn_en_3_2" onclick="speakTopic('en','text_en_3_2','btn_en_3_2')">‚ñ∂ English</button>
        <button class="a-btn a-hi" id="btn_hi_3_2" onclick="speakTopic('hi','text_hi_3_2','btn_hi_3_2')">‚ñ∂ ‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
        <button class="a-btn a-stop" onclick="stopAudio('btn_en_3_2','btn_hi_3_2')">‚èπ Stop</button>
        <button class="a-btn" style="background:rgba(251,191,36,0.1);color:var(--gold);border:1px solid rgba(251,191,36,0.3);" onclick="toggleHindi('text_hi_3_2')">‡§π‡§ø‡§Ç Toggle</button>
      </div>
      <div class="content-en-block" id="text_en_3_2">
        <p>This is one of the most practically important topics working at Xeagle. You are in Sriganganagar ‚Äî your carriers and load posters are in the UK. Calling at the wrong time means missed loads and missed emergencies.</p>
        <div class="highlight-box" style="border-left-color:var(--orange);">
          <strong>üåç Your Working Hours at Xeagle (Sriganganagar):</strong><br/>
          UK opens for business: 9:00 AM GMT = <strong style="color:var(--orange)">2:30 PM IST</strong><br/>
          UK close of business: 5:30 PM GMT = <strong style="color:var(--orange)">11:00 PM IST</strong><br/>
          Your shift: <strong>2:30 PM ‚Äì 11:00 PM IST</strong> (normal India afternoon/evening)<br/>
          No night shifts ‚Äî UK freight runs during UK daytime which is your afternoon!
        </div>
        <div class="highlight-box">
          <strong>USA Time Zones (IST Offset):</strong><br/>
          <span style="font-family:var(--font-mono)">EST (Eastern)  ‚Äî New York, Miami, Atlanta, Boston ‚Üí IST + 10h 30m (or IST - 10h 30m for EST‚ÜíIST)</span><br/>
          <span style="font-family:var(--font-mono)">CST (Central)  ‚Äî Chicago, Dallas, Houston        ‚Üí IST + 11h 30m</span><br/>
          <span style="font-family:var(--font-mono)">MST (Mountain) ‚Äî Denver, Phoenix, Salt Lake City  ‚Üí IST + 12h 30m</span><br/>
          <span style="font-family:var(--font-mono)">PST (Pacific)  ‚Äî Los Angeles, Seattle, Vegas      ‚Üí IST + 13h 30m</span><br/>
          <span style="font-family:var(--font-mono)">GMT (London)   ‚Äî UK clients                       ‚Üí IST - 5h 30m</span>
        </div>
        <div class="example-box">
          <strong>üïê Practical Examples:</strong><br/>
          If it is 7:30 PM IST in India:<br/>
          ‚Üí It is 9:00 AM EST in New York ‚úÖ Call Eastern brokers NOW<br/>
          ‚Üí It is 8:00 AM CST in Chicago ‚úÖ Call Central brokers NOW<br/>
          ‚Üí It is 7:00 AM MST in Denver ‚úÖ Just opening<br/>
          ‚Üí It is 6:00 AM PST in LA ‚ö†Ô∏è Too early ‚Äî wait 1 hour<br/><br/>
          <strong>Best IST hours for broker calls: 6:30 PM ‚Äì 11:30 PM IST</strong><br/>
          (covers 8 AM ‚Äì 1 PM EST ‚Äî prime broker hours)
        </div>
        <div class="warning-box">
          <strong>‚ö†Ô∏è USA Daylight Saving Time (DST):</strong> USA clocks change in March (spring forward) and November (fall back). This shifts the offset by 1 hour for about 7 months of the year. Always verify current time using Google: "Current time in Chicago" before calling.
        </div>
        <div class="key-terms">
          <span class="key-term">EST</span><span class="key-term">CST</span><span class="key-term">MST</span>
          <span class="key-term">PST</span><span class="key-term">IST</span><span class="key-term">DST</span><span class="key-term">GMT</span>
        </div>
      </div>
      <div class="content-hi-block" id="text_hi_3_2">
        <p>‡§Ø‡§π ‡§µ‡§ø‡§∑‡§Ø ‡§∞‡§ø‡§Æ‡•ã‡§ü ‡§°‡§ø‡§∏‡•ç‡§™‡•à‡§ö‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§¨‡§∏‡•á ‡§µ‡•ç‡§Ø‡§æ‡§µ‡§π‡§æ‡§∞‡§ø‡§ï ‡§π‡•à‡•§ ‡§ó‡§≤‡§§ ‡§∏‡§Æ‡§Ø ‡§™‡§∞ ‡§ï‡•â‡§≤ ‡§ï‡§∞‡§®‡§æ = ‡§°‡•Ä‡§≤ ‡§Æ‡§ø‡§∏ = ‡§®‡•Å‡§ï‡§∏‡§æ‡§®‡•§</p>
        <div class="highlight-box">
          <strong>‡§≠‡§æ‡§∞‡§§ (IST) ‡§∏‡•á ‡§Ö‡§Æ‡•á‡§∞‡§ø‡§ï‡•Ä ‡§∏‡§Æ‡§Ø:</strong><br/>
          EST (‡§®‡•ç‡§Ø‡•Ç ‡§Ø‡•â‡§∞‡•ç‡§ï) = IST ‡§Æ‡•á‡§Ç ‡§∏‡•á 10 ‡§ò‡§Ç‡§ü‡•á 30 ‡§Æ‡§ø‡§®‡§ü ‡§ò‡§ü‡§æ‡§è‡§Ç<br/>
          CST (‡§∂‡§ø‡§ï‡§æ‡§ó‡•ã) = IST ‡§Æ‡•á‡§Ç ‡§∏‡•á 11 ‡§ò‡§Ç‡§ü‡•á 30 ‡§Æ‡§ø‡§®‡§ü ‡§ò‡§ü‡§æ‡§è‡§Ç<br/>
          PST (LA) = IST ‡§Æ‡•á‡§Ç ‡§∏‡•á 13 ‡§ò‡§Ç‡§ü‡•á 30 ‡§Æ‡§ø‡§®‡§ü ‡§ò‡§ü‡§æ‡§è‡§Ç
        </div>
        <div class="example-box">
          <strong>üïê ‡§â‡§¶‡§æ‡§π‡§∞‡§£:</strong> ‡§Ö‡§ó‡§∞ ‡§≠‡§æ‡§∞‡§§ ‡§Æ‡•á‡§Ç ‡§∂‡§æ‡§Æ 7:30 ‡§¨‡§ú‡•á ‡§π‡•à‡§Ç:<br/>
          ‚Üí ‡§®‡•ç‡§Ø‡•Ç ‡§Ø‡•â‡§∞‡•ç‡§ï ‡§Æ‡•á‡§Ç ‡§∏‡•Å‡§¨‡§π 9:00 ‡§¨‡§ú‡•á ‡§π‡•à‡§Ç ‚úÖ ‡§Ö‡§≠‡•Ä ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç!<br/>
          <strong>‡§¨‡•ç‡§∞‡•ã‡§ï‡§∞ ‡§ï‡•â‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§∏‡§Æ‡§Ø IST: ‡§∂‡§æ‡§Æ 6:30 ‚Äì ‡§∞‡§æ‡§§ 11:30</strong>
        </div>
      </div>
      <div class="topic-quiz" id="quiz_3_2">
        <div class="quiz-header"><span>üß†</span><h4>Quick Check ‚Äî Time Zones</h4><span style="margin-left:auto;" class="tag tag-orange">4 Questions</span></div>
        <div class="quiz-body" id="qb_3_2">
          <div class="q-item">
            <div class="q-text">1. It is 8:00 PM IST in India. What time is it in Chicago (CST)?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q1',false)">A. 6:30 AM CST</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q1',true)">B. 8:30 AM CST</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q1',false)">C. 9:30 AM CST</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q1',false)">D. 10:00 AM CST</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">2. What are the best IST hours to call US Eastern brokers?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q2',false)">A. 8:00 AM ‚Äì 12:00 PM IST</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q2',false)">B. 2:00 PM ‚Äì 5:00 PM IST</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q2',true)">C. 6:30 PM ‚Äì 11:30 PM IST</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q2',false)">D. 12:00 AM ‚Äì 4:00 AM IST</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">3. Dallas, Texas is in which US time zone?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q3',false)">A. Eastern (EST)</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q3',true)">B. Central (CST)</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q3',false)">C. Mountain (MST)</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q3',false)">D. Pacific (PST)</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">4. Why must a dispatcher check current US time on Google before calling?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q4',false)">A. To check the weather</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q4',true)">B. Because of Daylight Saving Time ‚Äî the offset changes twice a year</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q4',false)">C. Because India changes its time zone</button>
              <button class="q-opt" onclick="checkAns(this,'qb_3_2','q4',false)">D. It is not necessary ‚Äî the offset is always the same</button>
            </div>
          </div>
        </div>
        <div class="quiz-result" id="qr_3_2"><div class="quiz-score" id="qs_3_2"></div><div id="qmsg_3_2" style="font-size:14px;color:var(--grey);margin:6px 0;"></div><button class="btn btn-outline btn-sm quiz-retake" onclick="retakeQuiz('qb_3_2','qr_3_2','qs_3_2','qmsg_3_2')">‚Ü© Retake</button></div>
      </div>
    </div>
  </div>

  <div class="section-header" style="margin-top:32px;"><h3>‚ö° Practical Activities</h3><div class="section-line"></div></div>
  <div class="card" style="padding:24px;margin-bottom:20px;">
    <ul class="practical-list">
      <li><div class="p-num">1</div><div><strong>USA Map Activity</strong> ‚Äî Mark 10 US states and their major freight hub cities. Draw arrows showing the 5 key freight corridors. Colour-code by volume.</div></li>
      <li><div class="p-num">2</div><div><strong>Time Zone Drill</strong> ‚Äî Given 8 IST times, calculate EST, CST, MST and PST for each. Use the Tools page on your course website to verify your answers.</div></li>
      <li><div class="p-num">3</div><div><strong>Route Planning Exercise</strong> ‚Äî Plan a triangle route starting from Chicago. Find 3 connected lanes that create a loop with under 15% deadhead. Calculate estimated RPM for each leg.</div></li>
    </ul>
  </div>
  <div class="hw-box">
    <h4>üìù Tonight's Homework</h4>
    <p class="hw-text">Create your personal Time Zone Cheat Sheet ‚Äî a printed A5 card showing IST to all 4 US time zones with 5 example conversions each. Pin this above your workstation. You will reference it every single working day.</p>
  </div>
  <div class="day-nav">
    <button class="btn btn-ghost" onclick="showDay(2,document.querySelectorAll('.day-tab')[1])">‚Üê Day 2</button>
    <button class="btn btn-primary" onclick="markDayDone(3);showDay(4,document.querySelectorAll('.day-tab')[3])">Day 4 ‚Üí</button>
  </div>
</div>
<!-- END DAY 3 -->


<!-- ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó -->
<!-- ‚ïë  DAY 4 ‚Äî Hours of Service               ‚ïë -->
<!-- ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù -->
<div class="day-panel" id="day4">
  <div class="day-hero fade-up">
    <div class="day-num-big">D4</div>
    <div class="day-info">
      <h2>Hours of Service & Tachograph Rules</h2>
      <div class="hindi-title">‡§∏‡•á‡§µ‡§æ ‡§ï‡•á ‡§ò‡§Ç‡§ü‡•á ‡§î‡§∞ ‡§ü‡•á‡§ï‡•ã‡§ó‡•ç‡§∞‡§æ‡§´ ‡§®‡§ø‡§Ø‡§Æ</div>
      <div class="day-meta">
        <span class="tag tag-orange">2hrs Theory</span>
        <span class="tag tag-cyan">2hrs Practical</span>
        <span class="tag tag-green">2 Topics</span>
        <span class="tag tag-red">Compliance Day</span>
      </div>
    </div>
  </div>
  <div class="video-box fade-up delay-1">
    <div class="video-header">
      <div class="dot" style="background:#ef4444"></div><div class="dot" style="background:#fbbf24;margin:0 4px"></div><div class="dot" style="background:#22c55e"></div>
      <span style="font-size:13px;font-weight:600;margin-left:10px;">üìπ Day 4 ‚Äî HOS & Compliance</span>
      <span style="margin-left:auto;font-size:11px;color:var(--grey);font-family:var(--font-mono);">~14 min</span>
    </div>
    <div class="video-placeholder-box" onclick="loadVideo('d4','https://www.youtube.com/embed/YOUR_VIDEO_D4_ID')">
      <div class="play-circle">‚ñ∂</div>
      <div class="video-info"><div class="title">Day 4: Hours of Service & Compliance</div><div class="meta">üé¨ Add your YouTube video ID</div></div>
    </div>
    <div class="video-add-note">üí° Replace <code>YOUR_VIDEO_D4_ID</code></div>
  </div>

  <div class="section-header"><h3>üìñ Theory Topics</h3><div class="section-line"></div><span class="tag tag-orange">2 Topics</span></div>

  <div class="topic-card" id="tc_4_1">
    <button class="topic-toggle" onclick="toggleTopic('tc_4_1',this)">
      <div class="t-num">A</div>
      <div class="t-titles">
        <div class="t-en">UK Hours of Service (HOS) ‚Äî DVSA / EU Retained Law</div>
        <div class="t-hi">UK ‡§Æ‡•á‡§Ç ‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§ò‡§Ç‡§ü‡•á ‚Äî DVSA ‡§®‡§ø‡§Ø‡§Æ</div>
      </div>
      <span class="t-arrow">‚Ä∫</span>
    </button>
    <div class="topic-content" id="body_4_1">
      <div class="audio-bar">
        <span class="audio-label">üîä Listen:</span>
        <button class="a-btn a-en" id="btn_en_4_1" onclick="speakTopic('en','text_en_4_1','btn_en_4_1')">‚ñ∂ English</button>
        <button class="a-btn a-hi" id="btn_hi_4_1" onclick="speakTopic('hi','text_hi_4_1','btn_hi_4_1')">‚ñ∂ ‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
        <button class="a-btn a-stop" onclick="stopAudio('btn_en_4_1','btn_hi_4_1')">‚èπ Stop</button>
        <button class="a-btn" style="background:rgba(251,191,36,0.1);color:var(--gold);border:1px solid rgba(251,191,36,0.3);" onclick="toggleHindi('text_hi_4_1')">‡§π‡§ø‡§Ç Toggle</button>
      </div>
      <div class="content-en-block" id="text_en_4_1">
        <p>HOS rules exist to prevent driver fatigue accidents. As a dispatcher, you MUST know these rules ‚Äî if you pressure a driver to violate HOS, you can face federal fines. The ELD (Electronic Logging Device) automatically records all driving time ‚Äî there is no hiding violations.</p>
        <div class="highlight-box">
          <strong>Core USA HOS Rules (Memorise All 5):</strong><br/>
          <br/>
          <strong style="color:var(--orange)">1. 11-Hour Driving Rule:</strong> A driver may drive a maximum of 11 hours after 10 consecutive hours off duty.<br/>
          <br/>
          <strong style="color:var(--cyan)">2. 14-Hour Window Rule:</strong> A driver may not drive beyond the 14th hour after coming on duty. Once the 14-hour window starts, it cannot be paused ‚Äî even if the driver takes breaks.<br/>
          <br/>
          <strong style="color:var(--gold)">3. 30-Minute Break Rule:</strong> After 8 cumulative hours of driving, a 30-minute break is mandatory before continuing to drive.<br/>
          <br/>
          <strong style="color:var(--green)">4. 60/70-Hour Rule:</strong> A driver may not drive after accumulating 60 hours on duty in 7 consecutive days (or 70 hours in 8 days for carriers operating 7 days/week).<br/>
          <br/>
          <strong style="color:#a5b4fc">5. 10-Hour Off Duty:</strong> After the driving shift ends, the driver must have 10 consecutive hours off duty before driving again. This resets the 11-hour and 14-hour clocks.
        </div>
        <div class="warning-box">
          <strong>‚ö†Ô∏è ELD Mandate:</strong> All commercial vehicles over 10,000 lbs must have an ELD (Electronic Logging Device). Popular systems: Samsara, KeepTruckin (Motive), Omnitracs. The ELD automatically stops recording when HOS limits are reached. NEVER ask a driver to drive when their ELD shows 0 hours remaining.
        </div>
        <div class="example-box">
          <strong>üéØ HOS Scenario:</strong><br/>
          Driver starts at 6:00 AM. Drives 4 hours ‚Üí Picks up load ‚Üí Drives 4.5 hours ‚Üí Mandatory 30-min break (8hrs driving reached) ‚Üí Drives 2.5 more hours ‚Üí Stops at 9:00 PM (15 hrs after start ‚Äî but only 11 hrs driving ‚úÖ)<br/>
          <strong>Is driver in compliance?</strong> YES ‚Äî 11 hrs driving, 14-hr window not exceeded (6AM + 14hrs = 8PM... wait ‚Äî 9PM exceeds 14hr window! ‚ùå This driver is actually OUT of compliance!)
        </div>
        <div class="key-terms">
          <span class="key-term">HOS</span><span class="key-term">ELD</span><span class="key-term">11-Hour Rule</span>
          <span class="key-term">14-Hour Window</span><span class="key-term">30-Min Break</span><span class="key-term">60/70-Hour Rule</span>
          <span class="key-term">DVSA</span><span class="key-term">Off Duty</span>
        </div>
      </div>
      <div class="content-hi-block" id="text_hi_4_1">
        <p>HOS ‡§®‡§ø‡§Ø‡§Æ ‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§∞ ‡§ï‡•Ä ‡§•‡§ï‡§æ‡§® ‡§∏‡•á ‡§π‡•ã‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§π‡§æ‡§¶‡§∏‡•ã‡§Ç ‡§ï‡•ã ‡§∞‡•ã‡§ï‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•à‡§Ç‡•§ ‡§è‡§ï ‡§°‡§ø‡§∏‡•ç‡§™‡•à‡§ö‡§∞ ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡•ã ‡§Ø‡•á ‡§∏‡§≠‡•Ä ‡§®‡§ø‡§Ø‡§Æ ‡§Ø‡§æ‡§¶ ‡§π‡•ã‡§®‡•á ‡§ö‡§æ‡§π‡§ø‡§è‡•§</p>
        <div class="highlight-box">
          <strong>USA HOS ‡§ï‡•á 5 ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§®‡§ø‡§Ø‡§Æ:</strong><br/>
          1. <strong style="color:var(--orange)">11 ‡§ò‡§Ç‡§ü‡•á ‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§ø‡§Ç‡§ó:</strong> 10 ‡§ò‡§Ç‡§ü‡•á ‡§Ü‡§∞‡§æ‡§Æ ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§Ö‡§ß‡§ø‡§ï‡§§‡§Æ 11 ‡§ò‡§Ç‡§ü‡•á ‡§°‡•ç‡§∞‡§æ‡§á‡§µ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§<br/>
          2. <strong style="color:var(--cyan)">14 ‡§ò‡§Ç‡§ü‡•á ‡§ï‡•Ä ‡§µ‡§ø‡§Ç‡§°‡•ã:</strong> ‡§°‡•ç‡§Ø‡•Ç‡§ü‡•Ä ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã‡§®‡•á ‡§∏‡•á 14 ‡§ò‡§Ç‡§ü‡•á ‡§ï‡•á ‡§Ö‡§Ç‡§¶‡§∞ ‡§∏‡§≠‡•Ä ‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§ø‡§Ç‡§ó ‡§™‡•Ç‡§∞‡•Ä ‡§π‡•ã‡§®‡•Ä ‡§ö‡§æ‡§π‡§ø‡§è‡•§<br/>
          3. <strong style="color:var(--gold)">30 ‡§Æ‡§ø‡§®‡§ü ‡§¨‡•ç‡§∞‡•á‡§ï:</strong> 8 ‡§ò‡§Ç‡§ü‡•á ‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§¨‡§æ‡§¶ 30 ‡§Æ‡§ø‡§®‡§ü ‡§ï‡§æ ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§¨‡•ç‡§∞‡•á‡§ï‡•§<br/>
          4. <strong style="color:var(--green)">60/70 ‡§ò‡§Ç‡§ü‡•á ‡§®‡§ø‡§Ø‡§Æ:</strong> 7 ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç 60 ‡§ò‡§Ç‡§ü‡•á ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§°‡•ç‡§∞‡§æ‡§á‡§µ ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á‡•§<br/>
          5. <strong style="color:#a5b4fc">10 ‡§ò‡§Ç‡§ü‡•á ‡§ï‡§æ ‡§Ü‡§∞‡§æ‡§Æ:</strong> ‡§∂‡§ø‡§´‡•ç‡§ü ‡§ñ‡§§‡•ç‡§Æ ‡§π‡•ã‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ 10 ‡§≤‡§ó‡§æ‡§§‡§æ‡§∞ ‡§ò‡§Ç‡§ü‡•á ‡§ï‡§æ ‡§Ü‡§∞‡§æ‡§Æ ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§π‡•à‡•§
        </div>
        <div class="warning-box">
          <strong>‚ö†Ô∏è ELD ‡§Æ‡•à‡§Ç‡§°‡•á‡§ü:</strong> ‡§∏‡§≠‡•Ä 10,000 ‡§™‡§æ‡§â‡§Ç‡§° ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§ï‡•á ‡§µ‡§æ‡§π‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç ELD ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§π‡•à‡•§ ‡§ï‡§≠‡•Ä ‡§≠‡•Ä ‡§ê‡§∏‡•á ‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§∞ ‡§ï‡•ã ‡§ö‡§≤‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§® ‡§ï‡§π‡•á‡§Ç ‡§ú‡§ø‡§∏‡§ï‡§æ ELD 0 ‡§ò‡§Ç‡§ü‡•á ‡§¶‡§ø‡§ñ‡§æ‡§è‡•§
        </div>
      </div>
      <div class="topic-quiz" id="quiz_4_1">
        <div class="quiz-header"><span>üß†</span><h4>Quick Check ‚Äî USA HOS Rules</h4><span style="margin-left:auto;" class="tag tag-orange">5 Questions</span></div>
        <div class="quiz-body" id="qb_4_1">
          <div class="q-item">
            <div class="q-text">1. How many maximum driving hours does a US driver get after 10 hours off?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q1',false)">A. 8 hours</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q1',false)">B. 10 hours</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q1',true)">C. 11 hours</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q1',false)">D. 14 hours</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">2. After how many cumulative driving hours must a driver take a 30-minute break?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q2',false)">A. 4 hours</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q2',false)">B. 6 hours</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q2',true)">C. 8 hours</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q2',false)">D. 10 hours</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">3. The 14-hour window rule means:</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q3',false)">A. Driver can drive for 14 hours straight</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q3',true)">B. All driving must be completed within 14 hours of coming on duty</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q3',false)">C. Driver must rest every 14 hours</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q3',false)">D. Driver gets a 14-hour break after each trip</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">4. What does ELD stand for?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q4',false)">A. Electronic Load Document</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q4',true)">B. Electronic Logging Device</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q4',false)">C. Engine Limit Device</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q4',false)">D. Emergency Lane Detector</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">5. How many hours of consecutive off-duty time resets the 11-hour driving clock?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q5',false)">A. 6 hours</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q5',false)">B. 8 hours</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q5',true)">C. 10 hours</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_1','q5',false)">D. 12 hours</button>
            </div>
          </div>
        </div>
        <div class="quiz-result" id="qr_4_1"><div class="quiz-score" id="qs_4_1"></div><div id="qmsg_4_1" style="font-size:14px;color:var(--grey);margin:6px 0;"></div><button class="btn btn-outline btn-sm quiz-retake" onclick="retakeQuiz('qb_4_1','qr_4_1','qs_4_1','qmsg_4_1')">‚Ü© Retake</button></div>
      </div>
    </div>
  </div>

  <div class="topic-card" id="tc_4_2">
    <button class="topic-toggle" onclick="toggleTopic('tc_4_2',this)">
      <div class="t-num">B</div>
      <div class="t-titles">
        <div class="t-en">UK/EU Tachograph & Drivers' Hours Rules</div>
        <div class="t-hi">UK/EU ‡§ü‡•á‡§ï‡•ã‡§ó‡•ç‡§∞‡§æ‡§´ ‡§î‡§∞ ‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§∞ ‡§ï‡•á ‡§ò‡§Ç‡§ü‡•á ‡§ï‡•á ‡§®‡§ø‡§Ø‡§Æ</div>
      </div>
      <span class="t-arrow">‚Ä∫</span>
    </button>
    <div class="topic-content" id="body_4_2">
      <div class="audio-bar">
        <span class="audio-label">üîä Listen:</span>
        <button class="a-btn a-en" id="btn_en_4_2" onclick="speakTopic('en','text_en_4_2','btn_en_4_2')">‚ñ∂ English</button>
        <button class="a-btn a-hi" id="btn_hi_4_2" onclick="speakTopic('hi','text_hi_4_2','btn_hi_4_2')">‚ñ∂ ‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
        <button class="a-btn a-stop" onclick="stopAudio('btn_en_4_2','btn_hi_4_2')">‚èπ Stop</button>
        <button class="a-btn" style="background:rgba(251,191,36,0.1);color:var(--gold);border:1px solid rgba(251,191,36,0.3);" onclick="toggleHindi('text_hi_4_2')">‡§π‡§ø‡§Ç Toggle</button>
      </div>
      <div class="content-en-block" id="text_en_4_2">
        <p>If you are dispatching for UK or European carriers, the tachograph system applies instead of ELD. A tachograph automatically records speed, distance, driving time and rest periods. Tampering with a tachograph is a criminal offence in the UK.</p>
        <div class="highlight-box">
          <strong>UK/EU HGV Drivers' Hours Rules:</strong><br/>
          <strong style="color:var(--orange)">4.5-Hour Rule:</strong> Driver must take a 45-minute break (or 15+30 split) after every 4.5 hours of driving. This is the most frequently tested rule.<br/><br/>
          <strong style="color:var(--cyan)">Daily Driving:</strong> Maximum 9 hours per day. Can extend to 10 hours TWICE per week.<br/><br/>
          <strong style="color:var(--gold)">Weekly Driving:</strong> Maximum 56 hours in one week.<br/><br/>
          <strong style="color:var(--green)">Daily Rest:</strong> Minimum 11 hours off between shifts (can be reduced to 9 hours up to 3 times per week).<br/><br/>
          <strong style="color:#a5b4fc">Weekly Rest:</strong> Minimum 45 consecutive hours off every week (can be reduced to 24 hours every other week).
        </div>
        <div class="info-box">
          <strong style="color:var(--cyan)">Tachograph Modes ‚Äî Know All 4:</strong><br/>
          üöó <strong>Driving (D):</strong> Vehicle in motion<br/>
          üîß <strong>Other Work (H):</strong> Loading, paperwork, waiting<br/>
          ‚è∞ <strong>Availability (A):</strong> On-call but not working<br/>
          üõèÔ∏è <strong>Rest (X):</strong> Full rest period
        </div>
        <div class="key-terms">
          <span class="key-term">Tachograph</span><span class="key-term">4.5-Hour Rule</span><span class="key-term">HGV</span>
          <span class="key-term">Daily Rest 11hr</span><span class="key-term">Weekly 56hr</span><span class="key-term">DVSA</span>
        </div>
      </div>
      <div class="content-hi-block" id="text_hi_4_2">
        <p>UK ‡§î‡§∞ ‡§Ø‡•Ç‡§∞‡•ã‡§™ ‡§Æ‡•á‡§Ç ELD ‡§ï‡•Ä ‡§ú‡§ó‡§π ‡§ü‡•á‡§ï‡•ã‡§ó‡•ç‡§∞‡§æ‡§´ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§ó‡§§‡§ø, ‡§¶‡•Ç‡§∞‡•Ä ‡§î‡§∞ ‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§ø‡§Ç‡§ó ‡§∏‡§Æ‡§Ø ‡§∏‡•ç‡§µ‡§ö‡§æ‡§≤‡§ø‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ ‡§á‡§∏‡§ï‡•á ‡§∏‡§æ‡§• ‡§õ‡•á‡§°‡§º‡§õ‡§æ‡§°‡§º UK ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§∞‡§æ‡§ß‡§ø‡§ï ‡§Ö‡§™‡§∞‡§æ‡§ß ‡§π‡•à‡•§</p>
        <div class="highlight-box">
          <strong>UK/EU HGV ‡§ï‡•á ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§®‡§ø‡§Ø‡§Æ:</strong><br/>
          <strong style="color:var(--orange)">4.5 ‡§ò‡§Ç‡§ü‡•á ‡§ï‡§æ ‡§®‡§ø‡§Ø‡§Æ:</strong> ‡§π‡§∞ 4.5 ‡§ò‡§Ç‡§ü‡•á ‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§¨‡§æ‡§¶ 45 ‡§Æ‡§ø‡§®‡§ü ‡§ï‡§æ ‡§¨‡•ç‡§∞‡•á‡§ï ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø‡•§<br/>
          <strong style="color:var(--cyan)">‡§™‡•ç‡§∞‡§§‡§ø‡§¶‡§ø‡§® ‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§ø‡§Ç‡§ó:</strong> ‡§Ö‡§ß‡§ø‡§ï‡§§‡§Æ 9 ‡§ò‡§Ç‡§ü‡•á (‡§∏‡§™‡•ç‡§§‡§æ‡§π ‡§Æ‡•á‡§Ç ‡§¶‡•ã ‡§¨‡§æ‡§∞ 10 ‡§ò‡§Ç‡§ü‡•á ‡§§‡§ï)‡•§<br/>
          <strong style="color:var(--gold)">‡§∏‡§æ‡§™‡•ç‡§§‡§æ‡§π‡§ø‡§ï ‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§ø‡§Ç‡§ó:</strong> ‡§Ö‡§ß‡§ø‡§ï‡§§‡§Æ 56 ‡§ò‡§Ç‡§ü‡•á‡•§<br/>
          <strong style="color:var(--green)">‡§¶‡•à‡§®‡§ø‡§ï ‡§Ü‡§∞‡§æ‡§Æ:</strong> ‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ 11 ‡§ò‡§Ç‡§ü‡•á‡•§
        </div>
      </div>
      <div class="topic-quiz" id="quiz_4_2">
        <div class="quiz-header"><span>üß†</span><h4>Quick Check ‚Äî UK Tachograph</h4><span style="margin-left:auto;" class="tag tag-orange">3 Questions</span></div>
        <div class="quiz-body" id="qb_4_2">
          <div class="q-item">
            <div class="q-text">1. In UK/EU, how long must a driver break after 4.5 hours of driving?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_4_2','q1',false)">A. 30 minutes</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_2','q1',true)">B. 45 minutes (or 15+30 split)</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_2','q1',false)">C. 1 hour</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_2','q1',false)">D. 2 hours</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">2. What is the maximum weekly driving hours for UK/EU HGV drivers?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_4_2','q2',false)">A. 40 hours</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_2','q2',false)">B. 48 hours</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_2','q2',true)">C. 56 hours</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_2','q2',false)">D. 70 hours</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">3. Tampering with a tachograph in the UK is:</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_4_2','q3',false)">A. A minor infringement with a small fine</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_2','q3',false)">B. Allowed if the driver is running late</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_2','q3',true)">C. A criminal offence</button>
              <button class="q-opt" onclick="checkAns(this,'qb_4_2','q3',false)">D. Not regulated</button>
            </div>
          </div>
        </div>
        <div class="quiz-result" id="qr_4_2"><div class="quiz-score" id="qs_4_2"></div><div id="qmsg_4_2" style="font-size:14px;color:var(--grey);margin:6px 0;"></div><button class="btn btn-outline btn-sm quiz-retake" onclick="retakeQuiz('qb_4_2','qr_4_2','qs_4_2','qmsg_4_2')">‚Ü© Retake</button></div>
      </div>
    </div>
  </div>

  <div class="section-header" style="margin-top:32px;"><h3>‚ö° Practical Activities</h3><div class="section-line"></div></div>
  <div class="card" style="padding:24px;margin-bottom:20px;">
    <ul class="practical-list">
      <li><div class="p-num">1</div><div><strong>HOS Compliance Drill</strong> ‚Äî 8 driving scenarios with start times, driving hours, breaks. For each: Is the driver in compliance? What HOS rule applies?</div></li>
      <li><div class="p-num">2</div><div><strong>Tachograph Symbol Quiz</strong> ‚Äî 12 tachograph symbols shown. Identify each mode: Driving / Other Work / Availability / Rest.</div></li>
      <li><div class="p-num">3</div><div><strong>ELD Check Simulation</strong> ‚Äî Given a driver's ELD log showing 9 hours driven, calculate: How many hours remain? What time must they stop? Can they make this pickup in 2 hours?</div></li>
    </ul>
  </div>
  <div class="hw-box">
    <h4>üìù Tonight's Homework</h4>
    <p class="hw-text">Write a 1-page summary answering: Why is HOS compliance critical for a dispatcher, not just the driver? What are the consequences of HOS violations for carriers and dispatchers? Research one real case where a dispatcher faced consequences for HOS violations. This helps you understand the legal responsibility you carry as a dispatcher.</p>
  </div>
  <div class="day-nav">
    <button class="btn btn-ghost" onclick="showDay(3,document.querySelectorAll('.day-tab')[2])">‚Üê Day 3</button>
    <button class="btn btn-primary" onclick="markDayDone(4);showDay(5,document.querySelectorAll('.day-tab')[4])">Day 5 ‚Üí</button>
  </div>
</div>
<!-- END DAY 4 -->


<!-- ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó -->
<!-- ‚ïë  DAY 5 ‚Äî Load Boards, RPM & Red Flags   ‚ïë -->
<!-- ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù -->
<div class="day-panel" id="day5">
  <div class="day-hero fade-up">
    <div class="day-num-big">D5</div>
    <div class="day-info">
      <h2>Load Boards, RPM & Load Red Flags</h2>
      <div class="hindi-title">‡§≤‡•ã‡§° ‡§¨‡•ã‡§∞‡•ç‡§°, RPM ‡§î‡§∞ ‡§≤‡•ã‡§° ‡§∞‡•á‡§° ‡§´‡•ç‡§≤‡•à‡§ó‡•ç‡§∏</div>
      <div class="day-meta">
        <span class="tag tag-orange">2hrs Theory</span>
        <span class="tag tag-cyan">2hrs Practical</span>
        <span class="tag tag-green">3 Topics</span>
        <span class="tag tag-gold">Operations Day</span>
      </div>
    </div>
  </div>
  <div class="video-box fade-up delay-1">
    <div class="video-header">
      <div class="dot" style="background:#ef4444"></div><div class="dot" style="background:#fbbf24;margin:0 4px"></div><div class="dot" style="background:#22c55e"></div>
      <span style="font-size:13px;font-weight:600;margin-left:10px;">üìπ Day 5 ‚Äî Load Boards & RPM</span>
      <span style="margin-left:auto;font-size:11px;color:var(--grey);font-family:var(--font-mono);">~12 min</span>
    </div>
    <div class="video-placeholder-box" onclick="loadVideo('d5','https://www.youtube.com/embed/YOUR_VIDEO_D5_ID')">
      <div class="play-circle">‚ñ∂</div>
      <div class="video-info"><div class="title">Day 5: Load Boards, RPM & Red Flags</div><div class="meta">üé¨ Add your YouTube video ID</div></div>
    </div>
    <div class="video-add-note">üí° Replace <code>YOUR_VIDEO_D5_ID</code></div>
  </div>

  <div class="section-header"><h3>üìñ Theory Topics</h3><div class="section-line"></div><span class="tag tag-orange">3 Topics</span></div>

  <div class="topic-card" id="tc_5_1">
    <button class="topic-toggle" onclick="toggleTopic('tc_5_1',this)">
      <div class="t-num">A</div>
      <div class="t-titles">
        <div class="t-en">DAT Load Board ‚Äî America's #1 Load Board</div>
        <div class="t-hi">Courier Exchange (CX) ‚Äî UK ‡§ï‡§æ ‡§®‡§Ç‡§¨‡§∞ 1 ‡§≤‡•ã‡§° ‡§¨‡•ã‡§∞‡•ç‡§°</div>
      </div>
      <span class="t-arrow">‚Ä∫</span>
    </button>
    <div class="topic-content" id="body_5_1">
      <div class="audio-bar">
        <span class="audio-label">üîä Listen:</span>
        <button class="a-btn a-en" id="btn_en_5_1" onclick="speakTopic('en','text_en_5_1','btn_en_5_1')">‚ñ∂ English</button>
        <button class="a-btn a-hi" id="btn_hi_5_1" onclick="speakTopic('hi','text_hi_5_1','btn_hi_5_1')">‚ñ∂ ‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
        <button class="a-btn a-stop" onclick="stopAudio('btn_en_5_1','btn_hi_5_1')">‚èπ Stop</button>
        <button class="a-btn" style="background:rgba(251,191,36,0.1);color:var(--gold);border:1px solid rgba(251,191,36,0.3);" onclick="toggleHindi('text_hi_5_1')">‡§π‡§ø‡§Ç Toggle</button>
      </div>
      <div class="content-en-block" id="text_en_5_1">
        <p><strong style="color:var(--orange)">DAT Solutions</strong> is the number one freight matching marketplace in North America with over 500 million loads posted annually. As a dispatcher, DAT is your most important tool ‚Äî you will use it every single working day.</p>
        <div class="highlight-box">
          <strong>What Courier Exchange gives you:</strong><br/>
          ‚Ä¢ Real-time load postings ‚Äî search by origin, destination, trailer type, date<br/>
          ‚Ä¢ <strong>Rate history per lane</strong> ‚Äî see what loads paid last week, last month (use this to negotiate!)<br/>
          ‚Ä¢ <strong>Broker credit scores</strong> ‚Äî the single most important safety tool<br/>
          ‚Ä¢ Carrier reviews and load history<br/>
          ‚Ä¢ Mileage calculator<br/>
          ‚Ä¢ Market conditions ‚Äî is this lane hot or slow right now?
        </div>
        <div class="example-box">
          <strong>üéØ How to search on DAT:</strong><br/>
          1. Enter: Origin city/state (e.g., Chicago, IL)<br/>
          2. Enter: Destination city/state (e.g., Atlanta, GA)<br/>
          3. Select: Equipment type (Dry Van)<br/>
          4. Enter: Date available<br/>
          5. DAT shows all loads ‚Üí Sort by pay ‚Üí Check broker credit ‚Üí Call the highest-paying broker first
        </div>
        <div class="highlight-box" style="border-left-color:var(--cyan);">
          <strong>DAT Subscription Options:</strong><br/>
          DAT TruckersEdge: ~$45/month ‚Äî for carriers and dispatchers<br/>
          DAT Broker: For licensed freight brokers<br/>
          <strong>Pro tip:</strong> Start with the free trial. Then TruckersEdge is essential at $45/month ‚Äî treat it as a business investment. One well-negotiated load covers the monthly cost in commission.
        </div>
        <div class="key-terms">
          <span class="key-term">DAT Solutions</span><span class="key-term">Load Board</span><span class="key-term">Rate History</span>
          <span class="key-term">Broker Credit</span><span class="key-term">TruckersEdge</span><span class="key-term">Lane Rate</span>
        </div>
      </div>
      <div class="content-hi-block" id="text_hi_5_1">
        <p><strong style="color:var(--orange)">DAT Solutions</strong> ‡§â‡§§‡•ç‡§§‡§∞‡•Ä ‡§Ö‡§Æ‡•á‡§∞‡§ø‡§ï‡§æ ‡§ï‡§æ ‡§®‡§Ç‡§¨‡§∞ 1 ‡§´‡•ç‡§∞‡•á‡§ü ‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü‡§™‡•ç‡§≤‡•á‡§∏ ‡§π‡•à ‚Äî ‡§∏‡§æ‡§≤‡§æ‡§®‡§æ 50 ‡§ï‡§∞‡•ã‡§°‡§º ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§≤‡•ã‡§° ‡§™‡•ã‡§∏‡•ç‡§ü ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§ DAT ‡§Ü‡§™‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§¶‡•à‡§®‡§ø‡§ï ‡§â‡§™‡§ï‡§∞‡§£ ‡§π‡•à‡•§</p>
        <div class="highlight-box">
          <strong>DAT ‡§Ü‡§™‡§ï‡•ã ‡§ï‡•ç‡§Ø‡§æ ‡§¶‡•á‡§§‡§æ ‡§π‡•à:</strong><br/>
          ‚Ä¢ ‡§∞‡§ø‡§Ø‡§≤-‡§ü‡§æ‡§á‡§Æ ‡§≤‡•ã‡§° ‡§™‡•ã‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‚Äî ‡§∂‡§π‡§∞, ‡§ü‡•ç‡§∞‡•á‡§≤‡§∞, ‡§§‡§æ‡§∞‡•Ä‡§ñ ‡§∏‡•á ‡§ñ‡•ã‡§ú<br/>
          ‚Ä¢ ‡§≤‡•á‡§® ‡§∞‡•á‡§ü ‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‚Äî ‡§¨‡§æ‡§§‡§ö‡•Ä‡§§ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç<br/>
          ‚Ä¢ ‡§¨‡•ç‡§∞‡•ã‡§ï‡§∞ ‡§ï‡•ç‡§∞‡•á‡§°‡§ø‡§ü ‡§∏‡•ç‡§ï‡•ã‡§∞ ‚Äî ‡§∏‡§¨‡§∏‡•á ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§â‡§™‡§ï‡§∞‡§£
        </div>
        <div class="example-box">
          <strong>üéØ DAT ‡§™‡§∞ ‡§ñ‡•ã‡§ú ‡§ï‡•à‡§∏‡•á ‡§ï‡§∞‡•á‡§Ç:</strong><br/>
          1. ‡§Æ‡•Ç‡§≤ ‡§∂‡§π‡§∞ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç (‡§ú‡•à‡§∏‡•á ‡§∂‡§ø‡§ï‡§æ‡§ó‡•ã, IL)<br/>
          2. ‡§ó‡§Ç‡§§‡§µ‡•ç‡§Ø ‡§∂‡§π‡§∞ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç (‡§ú‡•à‡§∏‡•á ‡§Ö‡§ü‡§≤‡§æ‡§Ç‡§ü‡§æ, GA)<br/>
          3. ‡§â‡§™‡§ï‡§∞‡§£ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç (‡§°‡•ç‡§∞‡§æ‡§Ø ‡§µ‡•à‡§®)<br/>
          4. ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§§‡§æ‡§∞‡•Ä‡§ñ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç<br/>
          5. ‡§∏‡§∞‡•ç‡§µ‡•ã‡§ö‡•ç‡§ö ‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§µ‡§æ‡§≤‡•á ‡§¨‡•ç‡§∞‡•ã‡§ï‡§∞ ‡§ï‡•ã ‡§™‡§π‡§≤‡•á ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç
        </div>
      </div>
      <div class="topic-quiz" id="quiz_5_1">
        <div class="quiz-header"><span>üß†</span><h4>Quick Check ‚Äî DAT Load Board</h4><span style="margin-left:auto;" class="tag tag-orange">3 Questions</span></div>
        <div class="quiz-body" id="qb_5_1">
          <div class="q-item">
            <div class="q-text">1. What is the #1 load board in the USA?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_5_1','q1',false)">A. Courier Exchange</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_1','q1',true)">B. DAT Solutions</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_1','q1',false)">C. Transcore 360</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_1','q1',false)">D. 123LoadBoard</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">2. On DAT, what is the most important safety check BEFORE booking a load?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_5_1','q2',false)">A. Check the weather forecast</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_1','q2',false)">B. Check the carrier's truck age</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_1','q2',true)">C. Check the broker's DAT credit score</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_1','q2',false)">D. Check the distance on Google Maps</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">3. Approximately how much does DAT TruckersEdge cost per month?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_5_1','q3',false)">A. Free forever</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_1','q3',true)">B. ~$45/month</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_1','q3',false)">C. ~$200/month</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_1','q3',false)">D. ~$500/month</button>
            </div>
          </div>
        </div>
        <div class="quiz-result" id="qr_5_1"><div class="quiz-score" id="qs_5_1"></div><div id="qmsg_5_1" style="font-size:14px;color:var(--grey);margin:6px 0;"></div><button class="btn btn-outline btn-sm quiz-retake" onclick="retakeQuiz('qb_5_1','qr_5_1','qs_5_1','qmsg_5_1')">‚Ü© Retake</button></div>
      </div>
    </div>
  </div>

  <div class="topic-card" id="tc_5_2">
    <button class="topic-toggle" onclick="toggleTopic('tc_5_2',this)">
      <div class="t-num">B</div>
      <div class="t-titles">
        <div class="t-en">RPM Calculation & Targets ‚Äî Your Profitability Formula</div>
        <div class="t-hi">UK CPM ‡§ó‡§£‡§®‡§æ ‡§î‡§∞ ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‚Äî ‡§Ü‡§™‡§ï‡•Ä ‡§≤‡§æ‡§≠‡§™‡•ç‡§∞‡§¶‡§§‡§æ ‡§ï‡§æ ‡§∏‡•Ç‡§§‡•ç‡§∞</div>
      </div>
      <span class="t-arrow">‚Ä∫</span>
    </button>
    <div class="topic-content" id="body_5_2">
      <div class="audio-bar">
        <span class="audio-label">üîä Listen:</span>
        <button class="a-btn a-en" id="btn_en_5_2" onclick="speakTopic('en','text_en_5_2','btn_en_5_2')">‚ñ∂ English</button>
        <button class="a-btn a-hi" id="btn_hi_5_2" onclick="speakTopic('hi','text_hi_5_2','btn_hi_5_2')">‚ñ∂ ‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
        <button class="a-btn a-stop" onclick="stopAudio('btn_en_5_2','btn_hi_5_2')">‚èπ Stop</button>
        <button class="a-btn" style="background:rgba(251,191,36,0.1);color:var(--gold);border:1px solid rgba(251,191,36,0.3);" onclick="toggleHindi('text_hi_5_2')">‡§π‡§ø‡§Ç Toggle</button>
      </div>
      <div class="content-en-block" id="text_en_5_2">
        <p><strong style="color:var(--orange)">RPM (Revenue Per Mile)</strong> is the single most important metric in dispatching. It tells you whether a load is profitable for the carrier ‚Äî and therefore worth booking.</p>
        <div class="highlight-box">
          <strong>RPM Formula:</strong><br/>
          <span style="font-family:var(--font-mono);font-size:16px;color:var(--orange)">RPM = Total Load Rate √∑ Total Miles (Loaded + Deadhead)</span><br/><br/>
          <strong>Example:</strong> Load pays $2,400. Loaded miles: 750. Deadhead miles: 50. Total: 800 miles.<br/>
          CPM = ¬£840 √∑ 420 = <strong style="color:var(--green)">¬£2.00 ‚Äî GOOD! ‚úÖ</strong>
        </div>
        <div class="highlight-box" style="border-left-color:var(--cyan);">
          <strong>RPM Targets by Trailer Type:</strong><br/>
          üì¶ Dry Van:   <strong>$2.50‚Äì3.50</strong> (minimum: $2.50, aim for $3.00+)<br/>
          ‚ùÑÔ∏è Reefer:    <strong>$3.00‚Äì4.50</strong> (higher due to equipment cost)<br/>
          üèóÔ∏è Flatbed:   <strong>$3.00‚Äì5.00</strong> (higher due to complexity)<br/>
          üìê Step Deck: <strong>$3.50‚Äì5.50</strong><br/>
          üíß Tanker:    <strong>$2.80‚Äì4.00</strong><br/>
          ‚ö° Hotshot:   <strong>$2.00‚Äì3.50</strong>
        </div>
        <div class="warning-box">
          <strong>‚ö†Ô∏è Always include deadhead in RPM!</strong> A load that pays $2,800 for 900 loaded miles looks like $3.11 RPM. But if the truck is 100 miles away, total miles = 1,000. RPM = $2.80 ‚Äî still good, but you need the accurate number to negotiate properly.
        </div>
        <div class="example-box">
          <strong>üéØ RPM Drill ‚Äî Classify each load:</strong><br/>
          Load A: ¬£840 √∑ 420mi = ¬£2.00 CPM ‚Äî ‚úÖ Above minimum<br/>
          Load B: $3,500 √∑ 900mi = $3.89 RPM ‚Äî üèÜ Excellent<br/>
          Load C: $1,400 √∑ 600mi = $2.33 RPM ‚Äî ‚ùå Below target ‚Äî negotiate up or pass<br/>
          Load D: $4,200 √∑ 1,200mi = $3.50 RPM ‚Äî ‚úÖ Good
        </div>
        <div class="key-terms">
          <span class="key-term">RPM</span><span class="key-term">Revenue Per Mile</span><span class="key-term">Deadhead Miles</span>
          <span class="key-term">Loaded Miles</span><span class="key-term">Profitability</span><span class="key-term">Negotiation Floor</span>
        </div>
      </div>
      <div class="content-hi-block" id="text_hi_5_2">
        <p><strong style="color:var(--orange)">RPM (Revenue Per Mile)</strong> ‚Äî ‡§™‡•ç‡§∞‡§§‡§ø ‡§Æ‡•Ä‡§≤ ‡§Ü‡§Ø ‚Äî ‡§°‡§ø‡§∏‡•ç‡§™‡•à‡§ö‡§ø‡§Ç‡§ó ‡§Æ‡•á‡§Ç ‡§∏‡§¨‡§∏‡•á ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§Æ‡•á‡§ü‡•ç‡§∞‡§ø‡§ï ‡§π‡•à‡•§ ‡§Ø‡§π ‡§¨‡§§‡§æ‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§ï‡•ã‡§à ‡§≤‡•ã‡§° ‡§ï‡•à‡§∞‡§ø‡§Ø‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§≤‡§æ‡§≠‡§¶‡§æ‡§Ø‡§ï ‡§π‡•à ‡§Ø‡§æ ‡§®‡§π‡•Ä‡§Ç‡•§</p>
        <div class="highlight-box">
          <strong>RPM ‡§´‡•â‡§∞‡•ç‡§Æ‡•Ç‡§≤‡§æ:</strong><br/>
          <span style="font-family:var(--font-mono);color:var(--orange)">RPM = ‡§ï‡•Å‡§≤ ‡§≤‡•ã‡§° ‡§∞‡•á‡§ü √∑ ‡§ï‡•Å‡§≤ ‡§Æ‡•Ä‡§≤ (‡§≤‡•ã‡§°‡•á‡§° + ‡§°‡•á‡§°‡§π‡•á‡§°)</span><br/><br/>
          ‡§â‡§¶‡§æ‡§π‡§∞‡§£: ‡§≤‡•ã‡§° ‡§∞‡•á‡§ü ¬£840 | 400 ‡§≤‡•ã‡§°‡•á‡§° ‡§Æ‡•Ä‡§≤ + 20 ‡§°‡•á‡§°‡§π‡•á‡§° ‡§Æ‡•Ä‡§≤ = 420 ‡§ï‡•Å‡§≤ ‡§Æ‡•Ä‡§≤<br/>
          CPM = ¬£840 √∑ 420 = <strong style="color:var(--green)">¬£2.00 ‚Äî ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§π‡•à! ‚úÖ</strong>
        </div>
        <div class="highlight-box" style="border-left-color:var(--cyan);">
          <strong>‡§ü‡•ç‡§∞‡•á‡§≤‡§∞ ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ RPM ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø:</strong><br/>
          ‡§°‡•ç‡§∞‡§æ‡§Ø ‡§µ‡•à‡§®: $2.50‚Äì3.50 | ‡§∞‡•Ä‡§´‡§∞: $3.00‚Äì4.50 | ‡§´‡•ç‡§≤‡•à‡§ü‡§¨‡•á‡§°: $3.00‚Äì5.00
        </div>
      </div>
      <div class="topic-quiz" id="quiz_5_2">
        <div class="quiz-header"><span>üß†</span><h4>Quick Check ‚Äî RPM Calculation</h4><span style="margin-left:auto;" class="tag tag-orange">4 Questions</span></div>
        <div class="quiz-body" id="qb_5_2">
          <div class="q-item">
            <div class="q-text">1. What does RPM stand for?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q1',false)">A. Rate Per Month</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q1',true)">B. Revenue Per Mile</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q1',false)">C. Revenue Per Move</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q1',false)">D. Rate Per Mile</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">2. A dry van load pays $2,750 for 1,100 miles total. What is the RPM?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q2',false)">A. $2.25</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q2',true)">B. $2.50</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q2',false)">C. $2.75</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q2',false)">D. $3.00</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">3. A reefer load offers $2.20 RPM. What should you do?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q3',false)">A. Book it immediately</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q3',true)">B. Negotiate up ‚Äî $2.20 is below the $3.00 reefer minimum</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q3',false)">C. $2.20 is fine for reefer</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q3',false)">D. Ask the driver to decide</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">4. Why must deadhead miles be included in CPM calculation?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q4',false)">A. They are not needed ‚Äî only loaded miles count</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q4',true)">B. The carrier pays for deadhead fuel ‚Äî it reduces actual profitability</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q4',false)">C. DAT requires it for load posting</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_2','q4',false)">D. Only for flatbed loads</button>
            </div>
          </div>
        </div>
        <div class="quiz-result" id="qr_5_2"><div class="quiz-score" id="qs_5_2"></div><div id="qmsg_5_2" style="font-size:14px;color:var(--grey);margin:6px 0;"></div><button class="btn btn-outline btn-sm quiz-retake" onclick="retakeQuiz('qb_5_2','qr_5_2','qs_5_2','qmsg_5_2')">‚Ü© Retake</button></div>
      </div>
    </div>
  </div>

  <div class="topic-card" id="tc_5_3">
    <button class="topic-toggle" onclick="toggleTopic('tc_5_3',this)">
      <div class="t-num">C</div>
      <div class="t-titles">
        <div class="t-en">üö© Load Red Flags ‚Äî Never Book These Loads</div>
        <div class="t-hi">üö© ‡§≤‡•ã‡§° ‡§∞‡•á‡§° ‡§´‡•ç‡§≤‡•à‡§ó‡•ç‡§∏ ‚Äî ‡§á‡§® ‡§≤‡•ã‡§° ‡§ï‡•ã ‡§ï‡§≠‡•Ä ‡§¨‡•Å‡§ï ‡§® ‡§ï‡§∞‡•á‡§Ç</div>
      </div>
      <span class="t-arrow">‚Ä∫</span>
    </button>
    <div class="topic-content" id="body_5_3">
      <div class="audio-bar">
        <span class="audio-label">üîä Listen:</span>
        <button class="a-btn a-en" id="btn_en_5_3" onclick="speakTopic('en','text_en_5_3','btn_en_5_3')">‚ñ∂ English</button>
        <button class="a-btn a-hi" id="btn_hi_5_3" onclick="speakTopic('hi','text_hi_5_3','btn_hi_5_3')">‚ñ∂ ‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
        <button class="a-btn a-stop" onclick="stopAudio('btn_en_5_3','btn_hi_5_3')">‚èπ Stop</button>
        <button class="a-btn" style="background:rgba(251,191,36,0.1);color:var(--gold);border:1px solid rgba(251,191,36,0.3);" onclick="toggleHindi('text_hi_5_3')">‡§π‡§ø‡§Ç Toggle</button>
      </div>
      <div class="content-en-block" id="text_en_5_3">
        <p>Red flags are warning signs that a load or broker may cause non-payment, disputes, or legal issues. Learning to identify these will save your carrier from serious financial loss.</p>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin:14px 0;">
          <div class="warning-box" style="margin:0;">üö© <strong>Broker DAT credit below 70</strong><br/><span style="font-size:12px;">High non-payment risk. Always check before calling.</span></div>
          <div class="warning-box" style="margin:0;">üö© <strong>Payment terms over 30 days</strong><br/><span style="font-size:12px;">Carrier can't wait 45-60 days. Use factoring or avoid.</span></div>
          <div class="warning-box" style="margin:0;">üö© <strong>Rate far below market</strong><br/><span style="font-size:12px;">If lane pays $3.00 avg and they offer $1.80 ‚Äî something is wrong.</span></div>
          <div class="warning-box" style="margin:0;">üö© <strong>Pickup in under 2 hours</strong><br/><span style="font-size:12px;">Driver cannot legally make it. Sets up failure from the start.</span></div>
          <div class="warning-box" style="margin:0;">üö© <strong>No TONU clause in RC</strong><br/><span style="font-size:12px;">If load cancels after truck departs, carrier gets nothing.</span></div>
          <div class="warning-box" style="margin:0;">üö© <strong>Broker refuses to sign RC</strong><br/><span style="font-size:12px;">No signed Rate Confirmation = no legal contract. Never move a truck without it.</span></div>
          <div class="warning-box" style="margin:0;">üö© <strong>Rural delivery with no dock</strong><br/><span style="font-size:12px;">Driver may get stuck. Verify delivery address has a receiving dock.</span></div>
          <div class="warning-box" style="margin:0;">üö© <strong>New broker, zero history</strong><br/><span style="font-size:12px;">No DAT history, no reviews ‚Äî very high fraud risk. Verify on Carrier411 too.</span></div>
        </div>
        <div class="info-box">
          <strong>‚úÖ Before Every Load ‚Äî Your Safety Checklist:</strong><br/>
          ‚ñ° Broker DAT credit score ‚â• 70?<br/>
          ‚ñ° Payment terms 30 days or less?<br/>
          ‚ñ° Rate at or above market RPM?<br/>
          ‚ñ° Pickup time realistic for driver location?<br/>
          ‚ñ° TONU clause written in RC?<br/>
          ‚ñ° RC signed by BOTH parties?<br/>
          ‚ñ° MC number verified on FMCSA?
        </div>
        <div class="key-terms">
          <span class="key-term">Red Flag</span><span class="key-term">TONU</span><span class="key-term">Rate Confirmation</span>
          <span class="key-term">Carrier411</span><span class="key-term">Payment Terms</span><span class="key-term">Fraud Prevention</span>
        </div>
      </div>
      <div class="content-hi-block" id="text_hi_5_3">
        <p>‡§∞‡•á‡§° ‡§´‡•ç‡§≤‡•à‡§ó‡•ç‡§∏ ‡§ê‡§∏‡•á ‡§ö‡•á‡§§‡§æ‡§µ‡§®‡•Ä ‡§∏‡§Ç‡§ï‡•á‡§§ ‡§π‡•à‡§Ç ‡§ú‡•ã ‡§¨‡§§‡§æ‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§ï‡•ã‡§à ‡§≤‡•ã‡§° ‡§Ø‡§æ ‡§¨‡•ç‡§∞‡•ã‡§ï‡§∞ ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§™‡•à‡§¶‡§æ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§</p>
        <div class="warning-box">
          <strong>8 ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∞‡•á‡§° ‡§´‡•ç‡§≤‡•à‡§ó‡•ç‡§∏:</strong><br/>
          üö© DAT ‡§ï‡•ç‡§∞‡•á‡§°‡§ø‡§ü ‡§∏‡•ç‡§ï‡•ã‡§∞ 70 ‡§∏‡•á ‡§ï‡§Æ<br/>
          üö© 30 ‡§¶‡§ø‡§® ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§ï‡•Ä ‡§∂‡§∞‡•ç‡§§<br/>
          üö© ‡§¨‡§æ‡§ú‡§º‡§æ‡§∞ ‡§∞‡•á‡§ü ‡§∏‡•á ‡§¨‡§π‡•Å‡§§ ‡§ï‡§Æ ‡§¶‡§∞<br/>
          üö© 2 ‡§ò‡§Ç‡§ü‡•á ‡§∏‡•á ‡§ï‡§Æ ‡§Æ‡•á‡§Ç ‡§™‡§ø‡§ï‡§Ö‡§™<br/>
          üö© RC ‡§Æ‡•á‡§Ç TONU ‡§ï‡•ç‡§≤‡•â‡§ú ‡§®‡§π‡•Ä‡§Ç<br/>
          üö© ‡§¨‡•ç‡§∞‡•ã‡§ï‡§∞ RC ‡§™‡§∞ ‡§π‡§∏‡•ç‡§§‡§æ‡§ï‡•ç‡§∑‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞ ‡§∞‡§π‡§æ<br/>
          üö© ‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§™‡§§‡•á ‡§™‡§∞ ‡§°‡•â‡§ï ‡§®‡§π‡•Ä‡§Ç<br/>
          üö© ‡§®‡§Ø‡§æ ‡§¨‡•ç‡§∞‡•ã‡§ï‡§∞, ‡§ï‡•ã‡§à ‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§®‡§π‡•Ä‡§Ç
        </div>
      </div>
      <div class="topic-quiz" id="quiz_5_3">
        <div class="quiz-header"><span>üß†</span><h4>Quick Check ‚Äî Red Flags</h4><span style="margin-left:auto;" class="tag tag-orange">4 Questions</span></div>
        <div class="quiz-body" id="qb_5_3">
          <div class="q-item">
            <div class="q-text">1. A broker's DAT credit score is 65. Should you book the load?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q1',false)">A. Yes ‚Äî 65 is close enough to 70</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q1',false)">B. Yes ‚Äî if the rate is good</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q1',true)">C. No ‚Äî below 70 is a red flag. Do not book.</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q1',false)">D. Only if the broker agrees to quick pay</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">2. What is TONU?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q2',false)">A. Type Of Normal Use</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q2',true)">B. Truck Ordered Not Used ‚Äî compensation when load is cancelled after truck departs</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q2',false)">C. Time Of Normal Unloading</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q2',false)">D. Transfer Of Non-Urgent freight</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">3. A broker refuses to sign the Rate Confirmation. What should you do?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q3',false)">A. Move the truck anyway ‚Äî verbal agreement is fine</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q3',false)">B. Ask the driver to decide</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q3',true)">C. Do NOT move the truck ‚Äî no signed RC means no legal protection</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q3',false)">D. Send the truck but add extra charges later</button>
            </div>
          </div>
          <div class="q-item">
            <div class="q-text">4. Which website can you use alongside DAT to verify broker payment history?</div>
            <div class="q-opts">
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q4',false)">A. LinkedIn</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q4',true)">B. Carrier411</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q4',false)">C. Yelp</button>
              <button class="q-opt" onclick="checkAns(this,'qb_5_3','q4',false)">D. Google Maps</button>
            </div>
          </div>
        </div>
        <div class="quiz-result" id="qr_5_3"><div class="quiz-score" id="qs_5_3"></div><div id="qmsg_5_3" style="font-size:14px;color:var(--grey);margin:6px 0;"></div><button class="btn btn-outline btn-sm quiz-retake" onclick="retakeQuiz('qb_5_3','qr_5_3','qs_5_3','qmsg_5_3')">‚Ü© Retake</button></div>
      </div>
    </div>
  </div>

  <div class="section-header" style="margin-top:32px;"><h3>‚ö° Practical Activities</h3><div class="section-line"></div></div>
  <div class="card" style="padding:24px;margin-bottom:20px;">
    <ul class="practical-list">
      <li><div class="p-num">1</div><div><strong>RPM Calculation Race</strong> ‚Äî 10 loads given. Calculate RPM for each. Rank them from best to worst. Who finishes fastest with all correct? 10 minutes on the clock!</div></li>
      <li><div class="p-num">2</div><div><strong>Red Flag Hunt</strong> ‚Äî 8 load postings shown with broker details. Identify every red flag in each. How many did you spot? Compare with your partner.</div></li>
      <li><div class="p-num">3</div><div><strong>DAT Free Trial</strong> ‚Äî Create a free DAT account. Search Chicago ‚Üí Atlanta dry van loads. Find the top 3 by RPM. Check each broker's credit score. Report back to class.</div></li>
    </ul>
  </div>

  <!-- WEEK 1 FINAL REVIEW -->
  <div style="background:linear-gradient(135deg,rgba(244,121,32,0.12),rgba(30,27,139,0.3));border:1px solid rgba(244,121,32,0.3);border-radius:var(--radius-xl);padding:28px;margin:24px 0;">
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:16px;">
      <span style="font-size:28px;">üèÜ</span>
      <div>
        <div style="font-size:18px;font-weight:800;">Week 1 Complete!</div>
        <div style="font-size:13px;color:var(--orange);font-family:var(--font-hindi);">‡§∏‡§™‡•ç‡§§‡§æ‡§π 1 ‡§™‡•Ç‡§∞‡§æ ‡§π‡•Å‡§Ü! ‡§¨‡§π‡•Å‡§§ ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§ï‡§æ‡§Æ ‡§ï‡§ø‡§Ø‡§æ!</div>
      </div>
    </div>
    <p style="font-size:14px;color:rgba(255,255,255,0.8);line-height:1.8;margin-bottom:16px;">
      You have covered all 5 days of Week 1 Foundation. Now put your skills to the test on Eagle Exchange ‚Äî the live UK load board simulator. You now understand the industry structure, trailer types, US geography, time zones, HOS rules, DAT load boards, RPM calculation, and red flag identification. This is the foundation everything else builds on.
    </p>
    <div style="display:flex;gap:12px;flex-wrap:wrap;">
      <a href="week2.html" class="btn btn-primary btn-lg">Continue to Week 2 ‚Üí</a>
      <a href="tools.html" class="btn btn-secondary">üßÆ Practice with Tools</a>
      <a href="madam-ji.html" class="btn btn-ghost">üéì Ask Madam JI</a>
    </div>
  </div>

  <div class="hw-box">
    <h4>üìù Week 1 Final Homework</h4>
    <p class="hw-text">Review all 5 days of notes tonight. Create a one-page "Week 1 Cheat Sheet" covering: 5 trailer types + RPM, 5 HOS rules, 5 key US freight cities, 5 load red flags, DAT credit minimum, RPM formula. You will be tested on Week 1 content at the start of Week 2, Day 6.</p>
    <div style="margin-top:14px;padding:10px 14px;background:rgba(34,197,94,0.1);border-radius:var(--radius-md);font-size:12px;color:var(--green);">
      üéì Madam JI says: "Beta, you have completed Week 1! This foundation is what separates professional dispatchers from amateurs. Every topic you covered today will be used in your first real broker call. Study hard tonight ‚Äî Week 2 gets more exciting! üöõ"
    </div>
  </div>

  <div class="day-nav">
    <button class="btn btn-ghost" onclick="showDay(4,document.querySelectorAll('.day-tab')[3])">‚Üê Day 4</button>
    <a href="week2.html" class="btn btn-primary">Week 2 ‚Üí</a>
  </div>
</div>
<!-- END DAY 5 -->

</main>

<!-- FOOTER -->
<footer style="border-top:1px solid rgba(244,121,32,0.15);padding:20px 24px;text-align:center;margin-top:40px;">
  <div style="max-width:1200px;margin:0 auto;">
    <div style="display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:8px;">
      <img src="assets/logo.png" style="height:32px;background:white;padding:2px;border-radius:6px;" onerror="this.style.display='none'"/>
      <span style="font-weight:900;font-size:15px;letter-spacing:1px;">EAGLE ACADEMY</span>
    </div>
    <div style="font-size:12px;color:var(--grey);">International Freight Dispatcher Certification ‚Äî Week 1 of 4</div>
    <div style="font-size:11px;color:var(--grey-dark);margin-top:4px;">¬© Eagle Academy India. All rights reserved.</div>
  </div>
</footer>

<script src="assets/app.js"></script>
<script>
// ‚îÄ‚îÄ Page State ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let currentLang = 'en';
let quizAnswers = {}; // tracks answered questions per quiz

// ‚îÄ‚îÄ Day Navigation ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function showDay(num, tabEl) {
  document.querySelectorAll('.day-panel').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.day-tab').forEach(t => t.classList.remove('active'));
  const panel = document.getElementById('day' + num);
  if (panel) panel.classList.add('active');
  if (tabEl) tabEl.classList.add('active');
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// ‚îÄ‚îÄ Mark Day Done ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function markDayDone(num) {
  const check = document.getElementById('d' + num + '_check');
  if (check) check.style.display = 'inline';
  updateProgress();
  try {
    const prog = JSON.parse(localStorage.getItem('ea_w1_prog') || '{}');
    prog['day' + num] = true;
    localStorage.setItem('ea_w1_prog', JSON.stringify(prog));
  } catch(e) {}
}

function updateProgress() {
  const checks = document.querySelectorAll('.check');
  let done = 0;
  checks.forEach(c => { if (c.style.display !== 'none') done++; });
  const pct = Math.round((done / 5) * 100);
  const bar = document.getElementById('week_prog');
  const label = document.getElementById('week_pct');
  if (bar) bar.style.width = pct + '%';
  if (label) label.textContent = pct + '%';
}

// ‚îÄ‚îÄ Topic Toggle ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function toggleTopic(cardId, toggleBtn) {
  const card = document.getElementById(cardId);
  const bodyId = cardId.replace('tc_', 'body_');
  const body = document.getElementById(bodyId);
  if (!body) return;
  const isOpen = body.classList.contains('open');
  // Close all in same day
  document.querySelectorAll('.topic-content').forEach(b => b.classList.remove('open'));
  document.querySelectorAll('.topic-toggle').forEach(t => t.classList.remove('open'));
  if (!isOpen) {
    body.classList.add('open');
    toggleBtn.classList.add('open');
  }
}

// ‚îÄ‚îÄ Language Toggle ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function setLang(lang, btn) {
  currentLang = lang;
  document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  // Toggle all Hindi blocks
  document.querySelectorAll('.content-hi-block').forEach(el => {
    el.classList.toggle('show', lang === 'hi');
  });
}

function toggleHindi(hiBlockId) {
  const el = document.getElementById(hiBlockId);
  if (el) el.classList.toggle('show');
}

// ‚îÄ‚îÄ Audio / TTS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let currentUtterance = null;
let currentBtnId = null;
let audioLang = null;
let audioTextId = null;

// Load voices (needed on some browsers)
window.speechSynthesis.onvoiceschanged = () => { window.speechSynthesis.getVoices(); };

function speakTopic(lang, textId, btnId) {
  const isAlreadyPlaying = currentBtnId === btnId && window.speechSynthesis.speaking;

  // Stop anything currently playing
  stopAllAudio();

  // If we clicked the same button that was already playing ‚Äî it's a STOP action, done
  if (isAlreadyPlaying) return;

  const textEl = document.getElementById(textId);
  if (!textEl || !window.speechSynthesis) return;

  // Auto-show Hindi text when Hindi audio starts
  if (lang === 'hi') {
    const hiBlock = textEl.closest('.topic-card') && textEl.closest('.topic-card').querySelector('.content-hi-block');
    if (hiBlock) hiBlock.classList.add('show');
  }

  const text = textEl.innerText || textEl.textContent;
  const utt = new SpeechSynthesisUtterance(text.replace(/\s+/g, ' ').trim());
  utt.lang = lang === 'hi' ? 'hi-IN' : 'en-GB';
  utt.rate = lang === 'hi' ? 0.82 : 0.86;
  utt.pitch = lang === 'hi' ? 1.05 : 1.0;
  utt.volume = 1;

  // Professional voice priority selection
  const voices = window.speechSynthesis.getVoices();
  if (lang === 'hi') {
    const hiVoice =
      voices.find(v => v.lang === 'hi-IN' && v.name.includes('Google')) ||
      voices.find(v => v.lang === 'hi-IN' && !v.localService) ||
      voices.find(v => v.lang.startsWith('hi'));
    if (hiVoice) utt.voice = hiVoice;
  } else {
    const enVoice =
      voices.find(v => v.lang === 'en-GB' && v.name.includes('Google')) ||
      voices.find(v => v.lang === 'en-US' && v.name.includes('Google')) ||
      voices.find(v => v.lang.startsWith('en') && v.name.toLowerCase().includes('neural')) ||
      voices.find(v => v.lang.startsWith('en') && !v.localService) ||
      voices.find(v => v.lang === 'en-GB') ||
      voices.find(v => v.lang.startsWith('en'));
    if (enVoice) utt.voice = enVoice;
  }

  // Update button to STOP state
  const btn = document.getElementById(btnId);
  if (btn) {
    btn.classList.add('on');
    btn.innerHTML = lang === 'hi' ? '‚ñ† ‡§∞‡•ã‡§ï‡•á‡§Ç' : '‚ñ† Stop';
  }

  // Show now-playing bar
  showNowPlaying(lang, textId);

  utt.onend = () => resetBtn(btnId, lang);
  utt.onerror = () => resetBtn(btnId, lang);

  currentUtterance = utt;
  currentBtnId = btnId;
  audioLang = lang;
  audioTextId = textId;
  window.speechSynthesis.speak(utt);
}

function resetBtn(btnId, lang) {
  const btn = document.getElementById(btnId);
  if (btn) {
    btn.classList.remove('on');
    btn.innerHTML = lang === 'hi' ? '‚ñ∂ ‡§π‡§ø‡§Ç‡§¶‡•Ä' : '‚ñ∂ English';
  }
  hideNowPlaying();
  currentBtnId = null;
}

function stopAllAudio() {
  if (window.speechSynthesis) window.speechSynthesis.cancel();
  // Reset all buttons
  document.querySelectorAll('.a-btn.on').forEach(b => {
    b.classList.remove('on');
    if (b.classList.contains('a-hi')) b.innerHTML = '‚ñ∂ ‡§π‡§ø‡§Ç‡§¶‡•Ä';
    else b.innerHTML = '‚ñ∂ English';
  });
  hideNowPlaying();
  currentBtnId = null;
}

function showNowPlaying(lang, textId) {
  let bar = document.getElementById('now-playing-bar');
  if (!bar) {
    bar = document.createElement('div');
    bar.id = 'now-playing-bar';
    bar.style.cssText = `
      position:fixed; bottom:20px; left:50%; transform:translateX(-50%);
      background:#2B2BA8; border:1px solid rgba(244,121,32,0.5);
      border-radius:999px; padding:8px 20px; z-index:9999;
      display:flex; align-items:center; gap:10px;
      font-size:12px; font-weight:600; color:white;
      box-shadow:0 4px 24px rgba(244,121,32,0.25);
      backdrop-filter:blur(12px);
    `;
    document.body.appendChild(bar);
  }
  const label = lang === 'hi' ? 'üîä ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç ‡§∏‡•Å‡§® ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...' : 'üîä Listening in English...';
  bar.innerHTML = `
    <span style="display:inline-flex;gap:3px;align-items:center;">
      <span class="dot-pulse"></span><span class="dot-pulse" style="animation-delay:.15s"></span><span class="dot-pulse" style="animation-delay:.3s"></span>
    </span>
    <span>${label}</span>
    <button onclick="stopAllAudio()" style="
      background:rgba(239,68,68,0.2); border:1px solid rgba(239,68,68,0.4);
      color:#f87171; border-radius:999px; padding:3px 12px; cursor:pointer;
      font-size:11px; font-weight:700; font-family:inherit;
    ">‚ñ† Stop</button>
  `;
  bar.style.display = 'flex';
}

function hideNowPlaying() {
  const bar = document.getElementById('now-playing-bar');
  if (bar) bar.style.display = 'none';
}

function stopAudio(btn1Id, btn2Id) {
  stopAllAudio();
}

// ‚îÄ‚îÄ Video Loader ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function loadVideo(dayId, youtubeUrl) {
  const box = document.getElementById('video_' + dayId);
  if (!box) return;
  if (youtubeUrl.includes('YOUR_VIDEO')) {
    alert('üìπ Instructor: Add your YouTube video ID to the HTML to enable this video player.\n\nLook for: YOUR_VIDEO_D' + dayId.replace('d','') + '_ID\nReplace it with your actual YouTube video ID.');
    return;
  }
  box.outerHTML = `<div class="video-iframe-wrap"><iframe src="${youtubeUrl}?autoplay=1" allow="autoplay; fullscreen" allowfullscreen></iframe></div>`;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// EAGLE ACADEMY ‚Äî WEEK 1 GAME ENGINE
// XP ¬∑ Streaks ¬∑ T/F Blitz ¬∑ Speed Round ¬∑ Mini-Games ¬∑ Confetti
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// ‚îÄ‚îÄ XP SYSTEM ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const XP = {
  get() { try { return parseInt(localStorage.getItem('ea_xp_w1') || '0'); } catch(e) { return 0; } },
  add(amount, label) {
    const n = this.get() + amount;
    try { localStorage.setItem('ea_xp_w1', n); } catch(e) {}
    this.render(n);
    showToast('+' + amount + ' XP' + (label ? ' ¬∑ ' + label : ''), 'xp');
  },
  render(val) {
    val = val || this.get();
    const levels = [
      { name: 'Rookie',     min: 0,   max: 100,  color: '#94a3b8', icon: 'üìã' },
      { name: 'Dispatcher', min: 100, max: 300,  color: '#F47920', icon: 'üìû' },
      { name: 'Pro',        min: 300, max: 600,  color: '#06b6d4', icon: '‚ö°' },
      { name: 'Expert',     min: 600, max: 1000, color: '#22c55e', icon: 'üèÜ' },
      { name: 'Master',     min: 1000,max: 9999, color: '#f59e0b', icon: 'üëë' },
    ];
    const lv = levels.find(l => val >= l.min && val < l.max) || levels[levels.length-1];
    const pct = Math.min(100, Math.round(((val - lv.min) / (lv.max - lv.min)) * 100));
    const bar = document.getElementById('xp-fill');
    const lbl = document.getElementById('xp-label');
    const num = document.getElementById('xp-num');
    const ico = document.getElementById('xp-icon');
    if (bar) { bar.style.width = pct + '%'; bar.style.background = lv.color; }
    if (lbl) lbl.textContent = lv.icon + ' ' + lv.name;
    if (num) num.textContent = val + ' XP';
    if (ico) ico.textContent = lv.icon;
  }
};

// ‚îÄ‚îÄ STREAK SYSTEM ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const Streak = {
  count: 0,
  add(correct) {
    if (correct) {
      this.count++;
      if (this.count === 3) showToast('üî• On Fire! 3 in a row!', 'fire');
      if (this.count === 5) showToast('‚ö° Unstoppable! 5 streak!', 'gold');
      if (this.count === 10) showToast('üëë LEGENDARY! 10 streak!', 'gold');
    } else {
      this.count = 0;
    }
    const el = document.getElementById('streak-count');
    if (el) {
      el.textContent = this.count;
      el.parentElement.style.display = this.count > 0 ? 'flex' : 'none';
    }
  }
};

// ‚îÄ‚îÄ TOAST NOTIFICATIONS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function showToast(msg, type = 'xp') {
  const colors = {
    xp:   { bg: 'rgba(34,197,94,0.95)',   border: '#22c55e' },
    fire: { bg: 'rgba(244,121,32,0.95)',  border: '#F47920' },
    gold: { bg: 'rgba(245,158,11,0.95)',  border: '#f59e0b' },
    info: { bg: 'rgba(6,182,212,0.95)',   border: '#06b6d4' },
  };
  const c = colors[type] || colors.xp;
  const t = document.createElement('div');
  t.style.cssText = `
    position:fixed;bottom:100px;left:50%;transform:translateX(-50%) translateY(0);
    background:${c.bg};border:1px solid ${c.border};
    color:white;font-weight:700;font-size:13px;font-family:'DM Sans',sans-serif;
    padding:9px 20px;border-radius:999px;z-index:99999;
    box-shadow:0 4px 20px rgba(0,0,0,0.3);
    animation:toastUp 1.8s cubic-bezier(.22,1,.36,1) forwards;
    white-space:nowrap;pointer-events:none;
  `;
  t.textContent = msg;
  document.body.appendChild(t);
  setTimeout(() => t.remove(), 1900);
}

// ‚îÄ‚îÄ CONFETTI ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function fireConfetti() {
  const canvas = document.createElement('canvas');
  canvas.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;z-index:99998;pointer-events:none';
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  document.body.appendChild(canvas);
  const ctx = canvas.getContext('2d');
  const colors = ['#F47920','#f59e0b','#22c55e','#06b6d4','#f8fafc','#a855f7'];
  const particles = Array.from({length: 120}, () => ({
    x: Math.random() * canvas.width,
    y: -10,
    w: Math.random() * 10 + 5,
    h: Math.random() * 6 + 3,
    color: colors[Math.floor(Math.random() * colors.length)],
    vx: (Math.random() - 0.5) * 4,
    vy: Math.random() * 3 + 2,
    rot: Math.random() * 360,
    vrot: (Math.random() - 0.5) * 8,
  }));
  let frame = 0;
  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particles.forEach(p => {
      p.x += p.vx; p.y += p.vy; p.rot += p.vrot;
      ctx.save();
      ctx.translate(p.x, p.y);
      ctx.rotate(p.rot * Math.PI / 180);
      ctx.fillStyle = p.color;
      ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
      ctx.restore();
    });
    frame++;
    if (frame < 120) requestAnimationFrame(draw);
    else canvas.remove();
  }
  draw();
}

// ‚îÄ‚îÄ DAILY STREAK BANNER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function initDailyStreak() {
  try {
    const last = parseInt(localStorage.getItem('ea_last_visit') || '0');
    const today = new Date().toDateString();
    const lastDay = new Date(last).toDateString();
    let streak = parseInt(localStorage.getItem('ea_day_streak') || '0');
    if (lastDay === today) { /* same day, no change */ }
    else {
      const diff = (Date.now() - last) / (1000 * 60 * 60);
      streak = diff < 48 ? streak + 1 : 1;
      localStorage.setItem('ea_day_streak', streak);
      localStorage.setItem('ea_last_visit', Date.now());
    }
    if (streak >= 2) {
      const banner = document.getElementById('streak-banner');
      if (banner) {
        banner.style.display = 'flex';
        banner.querySelector('.streak-days').textContent = streak;
      }
    }
  } catch(e) {}
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TRUE/FALSE BLITZ DATA ‚Äî 4 questions per topic
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const TF_DATA = {
  '1_1': [
    { q: 'A freight dispatcher drives the truck themselves', a: false },
    { q: 'Dispatchers typically earn 5‚Äì10% commission on load value', a: true },
    { q: 'DAT is a UK-only load board', a: false },
    { q: 'Over 70% of US freight moves by truck', a: true },
  ],
  '1_2': [
    { q: 'The shipper pays the carrier directly without a broker', a: false },
    { q: 'A dispatcher works FOR the carrier, not the broker', a: true },
    { q: 'Brokers must have a valid MC number to operate', a: true },
    { q: 'The driver is at the top of the logistics payment chain', a: false },
  ],
  '1_3': [
    { q: 'A dispatcher can legally charge shippers directly', a: false },
    { q: 'A Dispatcher-Carrier Agreement must be signed before starting work', a: true },
    { q: 'Double brokering is perfectly legal in the USA', a: false },
    { q: 'You should always verify a carrier\'s MC number before working with them', a: true },
  ],
  '2_1': [
    { q: 'FTL means multiple shippers share one truck', a: false },
    { q: 'LTL loads are more complex to manage than FTL', a: true },
    { q: 'New dispatchers should focus on FTL loads first', a: true },
    { q: 'LTL always pays more per load than FTL', a: false },
  ],
  '2_2': [
    { q: 'A Dry Van trailer is temperature-controlled', a: false },
    { q: 'A Flatbed trailer has no roof or sides', a: true },
    { q: 'Reefer trailers are used for fresh produce and medicines', a: true },
    { q: 'Tanker trailers carry only solid cargo', a: false },
  ],
  '2_3': [
    { q: 'Intermodal freight uses only road transport', a: false },
    { q: 'A curtainsider trailer is the most common in UK freight', a: true },
    { q: 'Drayage means a short move from port to nearby warehouse', a: true },
    { q: 'A low loader trailer is used for light general parcels', a: false },
  ],
  '3_1': [
    { q: 'Chicago is the most important freight hub in the entire USA', a: true },
    { q: 'Los Angeles is the largest import port in the United States', a: true },
    { q: 'The Northeast USA is the easiest region for truck drivers to operate', a: false },
    { q: 'Dallas to Chicago is one of the top five US freight corridors', a: true },
  ],
  '3_2': [
    { q: 'India Standard Time is ahead of the USA in time', a: true },
    { q: 'IST is behind GMT', a: false },
    { q: 'When it is 9 AM in India, New York brokers are already at their desks', a: false },
    { q: 'A dispatcher in India can work US market hours during their evening', a: true },
  ],
  '4_1': [
    { q: 'A truck driver in the USA can drive a maximum of 11 hours per day', a: true },
    { q: 'The 30-minute break rule applies after 6 cumulative hours of driving', a: false },
    { q: 'An ELD automatically records the driver\'s driving time', a: true },
    { q: 'A dispatcher can legally ask a driver to push past HOS limits for urgent loads', a: false },
  ],
  '4_2': [
    { q: 'ELD stands for Electronic Logging Device', a: true },
    { q: 'Paper logs are still acceptable for all drivers since 2019', a: false },
    { q: 'A dispatcher should check the driver\'s ELD hours before booking a load', a: true },
    { q: 'DVSA officers cannot inspect ELD data at a roadside check', a: false },
  ],
  '5_1': [
    { q: 'DAT is the largest freight load board in the United States', a: true },
    { q: 'A broker credit score of 65 on DAT is considered safe to work with', a: false },
    { q: 'DAT shows historical lane rate data to help with negotiations', a: true },
    { q: 'Truckstop.com is a competitor load board to DAT', a: true },
  ],
  '5_2': [
    { q: 'RPM stands for Rate Per Mile', a: true },
    { q: 'A dry van RPM above $2.50 is generally considered good', a: true },
    { q: 'The broker\'s first offer is always the best rate available', a: false },
    { q: 'RPM is calculated by dividing miles by the load rate', a: false },
  ],
  '5_3': [
    { q: 'A legitimate broker always sends a Rate Confirmation before the truck moves', a: true },
    { q: 'Cryptocurrency payment requests are normal in professional US freight', a: false },
    { q: 'You should always verify a broker\'s MC number on the FMCSA website', a: true },
    { q: 'A rate far below the market average is always a good bargain', a: false },
  ],
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MINI-GAME DATA
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const MINI_GAMES = {
  // WORD SCRAMBLE topics
  '1_1': { type: 'scramble', word: 'DISPATCHER',  hint: 'The person who manages loads for a carrier' },
  '2_2': { type: 'scramble', word: 'FLATBED',     hint: 'Open trailer with no roof or sides' },
  '3_1': { type: 'scramble', word: 'CORRIDOR',    hint: 'A major freight route between two cities' },
  '4_1': { type: 'scramble', word: 'COMPLIANCE',  hint: 'Following all legal rules and regulations' },
  '5_1': { type: 'scramble', word: 'LOADBOARD',   hint: 'Platform where brokers post available freight' },
  '5_3': { type: 'scramble', word: 'DETENTION',   hint: 'Extra time at a shipper ‚Äî you can claim this pay' },

  // MATCH PAIRS topics
  '1_2': {
    type: 'match',
    pairs: [
      { term: 'Shipper',    def: 'Has goods to move' },
      { term: 'Broker',     def: 'Holds MC number' },
      { term: 'Dispatcher', def: 'Works for carrier' },
    ]
  },
  '2_1': {
    type: 'match',
    pairs: [
      { term: 'FTL',      def: 'One shipper fills truck' },
      { term: 'LTL',      def: 'Multiple shippers share' },
      { term: 'Dry Van',  def: 'Most common trailer' },
    ]
  },
  '3_2': {
    type: 'match',
    pairs: [
      { term: 'IST',  def: 'UTC + 5:30' },
      { term: 'EST',  def: 'UTC ‚àí 5:00' },
      { term: 'PST',  def: 'UTC ‚àí 8:00' },
    ]
  },
  '4_2': {
    type: 'match',
    pairs: [
      { term: 'ELD',  def: 'Records drive time' },
      { term: 'FMCSA', def: 'US transport authority' },
      { term: 'HOS',  def: 'Hours of Service rules' },
    ]
  },
  '5_2': {
    type: 'match',
    pairs: [
      { term: 'RPM', def: 'Rate Per Mile' },
      { term: 'BOL', def: 'Bill of Lading' },
      { term: 'DAT', def: 'Largest US load board' },
    ]
  },

  // SORT STEPS topics
  '1_3': {
    type: 'sort',
    title: 'Put the ICAR method in correct order:',
    items: ['Introduce yourself & carrier', 'Confirm the load details', 'Ask qualifying questions', 'Rate ‚Äî negotiate the price'],
    correct: [0, 1, 2, 3]
  },
  '2_3': {
    type: 'sort',
    title: 'Put the intermodal journey in correct order:',
    items: ['Container arrives at port', 'Rail journey across country', 'Drayage to local depot', 'Final road delivery'],
    correct: [0, 1, 2, 3]
  },
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// T/F BLITZ ENGINE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderTFBlitz(topicId) {
  const data = TF_DATA[topicId];
  const wrap = document.getElementById('tf_' + topicId);
  if (!data || !wrap || wrap.dataset.built) return;
  wrap.dataset.built = '1';

  const id = 'tfg_' + topicId;
  wrap.innerHTML = `
    <div class="tf-blitz" id="${id}">
      <div class="tf-header">
        <span class="tf-icon">‚ö°</span>
        <div>
          <div class="tf-title">True / False Blitz</div>
          <div class="tf-sub">4 quick questions ‚Äî test yourself first!</div>
        </div>
        <button class="tf-start-btn" onclick="startTFBlitz('${topicId}')">‚ñ∂ Start</button>
      </div>
      <div class="tf-body" id="tf-body-${topicId}" style="display:none"></div>
    </div>
  `;
}

function startTFBlitz(topicId) {
  const data = TF_DATA[topicId];
  const body = document.getElementById('tf-body-' + topicId);
  const header = document.querySelector('#tfg_' + topicId + ' .tf-header');
  if (!body) return;
  header.querySelector('.tf-start-btn').style.display = 'none';
  body.style.display = 'block';
  let idx = 0, score = 0;

  function showQ() {
    if (idx >= data.length) {
      // Done
      const pct = Math.round((score / data.length) * 100);
      body.innerHTML = `
        <div style="text-align:center;padding:16px 0">
          <div style="font-size:36px;font-weight:900;color:${pct>=75?'var(--green)':'var(--orange)'}">${score}/${data.length}</div>
          <div style="font-size:13px;color:var(--grey);margin-top:4px">${pct>=75?'Great instincts! Now do the full quiz ‚Üì':'Review the topic, then try the quiz ‚Üì'}</div>
        </div>
      `;
      XP.add(score * 3, 'T/F Blitz');
      return;
    }
    const q = data[idx];
    let timer = 5, interval;
    body.innerHTML = `
      <div class="tf-q-wrap">
        <div class="tf-progress"><span style="font-family:var(--font-mono);font-size:11px;color:var(--grey)">Q${idx+1} of ${data.length}</span><span id="tf-timer-${topicId}" style="font-family:var(--font-mono);font-size:12px;color:var(--orange);font-weight:700">5s</span></div>
        <div class="tf-timer-bar-wrap"><div class="tf-timer-bar" id="tf-tbar-${topicId}" style="width:100%"></div></div>
        <div class="tf-question">${q.q}</div>
        <div class="tf-btns">
          <button class="tf-btn tf-true" onclick="answerTF(this,'${topicId}',true,${q.a})">‚úÖ True</button>
          <button class="tf-btn tf-false" onclick="answerTF(this,'${topicId}',false,${q.a})">‚ùå False</button>
        </div>
        <div class="tf-feedback" id="tf-fb-${topicId}" style="display:none"></div>
      </div>
    `;
    interval = setInterval(() => {
      timer--;
      const tEl = document.getElementById('tf-timer-' + topicId);
      const tBar = document.getElementById('tf-tbar-' + topicId);
      if (tEl) tEl.textContent = timer + 's';
      if (tBar) tBar.style.width = (timer / 5 * 100) + '%';
      if (timer <= 0) {
        clearInterval(interval);
        // Time out
        document.querySelectorAll('.tf-btn').forEach(b => b.disabled = true);
        const fb = document.getElementById('tf-fb-' + topicId);
        if (fb) { fb.style.display = 'block'; fb.innerHTML = `‚è± Time up! Answer: <strong>${q.a ? 'TRUE ‚úÖ' : 'FALSE ‚ùå'}</strong>`; fb.style.color = 'var(--gold)'; }
        Streak.add(false);
        setTimeout(() => { idx++; showQ(); }, 1200);
      }
    }, 1000);

    window['tf_interval_' + topicId] = interval;
  }

  window['answerTF'] = function(btn, tId, answer, correct) {
    clearInterval(window['tf_interval_' + tId]);
    document.querySelectorAll('.tf-btn').forEach(b => b.disabled = true);
    const isRight = answer === correct;
    if (isRight) score++;
    btn.style.background = isRight ? 'rgba(34,197,94,0.3)' : 'rgba(239,68,68,0.3)';
    btn.style.borderColor = isRight ? 'var(--green)' : 'var(--red)';
    const fb = document.getElementById('tf-fb-' + tId);
    if (fb) {
      fb.style.display = 'block';
      fb.innerHTML = isRight ? '‚úÖ Correct!' : `‚ùå Incorrect ‚Äî answer was <strong>${correct ? 'TRUE' : 'FALSE'}</strong>`;
      fb.style.color = isRight ? 'var(--green)' : 'var(--red)';
    }
    Streak.add(isRight);
    setTimeout(() => { idx++; showQ(); }, 1100);
  };

  showQ();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SPEED ROUND ‚Äî wraps existing quiz with countdown timer
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let speedRoundActive = {};
let speedTimers = {};

function toggleSpeedRound(quizBodyId) {
  speedRoundActive[quizBodyId] = !speedRoundActive[quizBodyId];
  const btn = document.getElementById('speed-btn-' + quizBodyId);
  if (btn) {
    btn.textContent = speedRoundActive[quizBodyId] ? '‚ö° Speed ON' : '‚ö° Speed Round';
    btn.style.background = speedRoundActive[quizBodyId] ? 'rgba(244,121,32,0.3)' : 'rgba(244,121,32,0.1)';
    btn.style.borderColor = speedRoundActive[quizBodyId] ? 'var(--orange)' : 'rgba(244,121,32,0.3)';
  }
  const bar = document.getElementById('speed-bar-' + quizBodyId);
  if (bar) bar.style.display = speedRoundActive[quizBodyId] ? 'block' : 'none';
  if (speedRoundActive[quizBodyId]) startSpeedTimer(quizBodyId);
  else stopSpeedTimer(quizBodyId);
}

function startSpeedTimer(qbId) {
  stopSpeedTimer(qbId);
  let t = 10;
  const bar = document.getElementById('speed-fill-' + qbId);
  const lbl = document.getElementById('speed-lbl-' + qbId);
  if (bar) { bar.style.width = '100%'; bar.style.background = 'var(--orange)'; }
  speedTimers[qbId] = setInterval(() => {
    t--;
    if (bar) {
      bar.style.width = (t / 10 * 100) + '%';
      bar.style.background = t <= 3 ? 'var(--red)' : t <= 6 ? 'var(--gold)' : 'var(--orange)';
    }
    if (lbl) lbl.textContent = t + 's';
    if (t <= 0) {
      stopSpeedTimer(qbId);
      showToast('‚è± Too slow! Answer was shown', 'fire');
    }
  }, 1000);
  window['speed_start_' + qbId] = Date.now();
}

function stopSpeedTimer(qbId) {
  clearInterval(speedTimers[qbId]);
  const bar = document.getElementById('speed-fill-' + qbId);
  if (bar) bar.style.width = '100%';
}

function getSpeedBonus(qbId) {
  const elapsed = (Date.now() - (window['speed_start_' + qbId] || Date.now())) / 1000;
  stopSpeedTimer(qbId);
  if (!speedRoundActive[qbId]) return 0;
  return elapsed < 5 ? 3 : 0;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MINI-GAME ENGINE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderMiniGame(topicId) {
  const data = MINI_GAMES[topicId];
  const wrap = document.getElementById('mg_' + topicId);
  if (!data || !wrap || wrap.dataset.built) return;
  wrap.dataset.built = '1';

  wrap.innerHTML = `
    <div class="mg-unlock" id="mg-unlock-${topicId}">
      <button class="mg-unlock-btn" onclick="launchMiniGame('${topicId}')">
        üéÆ Play Mini-Game ‚Äî Earn +15 XP
        <span class="mg-type-badge">${data.type === 'scramble' ? 'üî§ Word Scramble' : data.type === 'match' ? 'üÉè Match Pairs' : '‚ÜïÔ∏è Sort Steps'}</span>
      </button>
    </div>
    <div class="mg-game-area" id="mg-area-${topicId}" style="display:none"></div>
  `;
}

function launchMiniGame(topicId) {
  const data = MINI_GAMES[topicId];
  const area = document.getElementById('mg-area-' + topicId);
  const unlock = document.getElementById('mg-unlock-' + topicId);
  if (!area || !data) return;
  unlock.style.display = 'none';
  area.style.display = 'block';
  if (data.type === 'scramble') buildScramble(topicId, data, area);
  else if (data.type === 'match')  buildMatch(topicId, data, area);
  else if (data.type === 'sort')   buildSort(topicId, data, area);
}

// ‚îÄ‚îÄ WORD SCRAMBLE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function buildScramble(topicId, data, area) {
  const shuffled = data.word.split('').sort(() => Math.random() - 0.5);
  let selected = [];
  let startTime = Date.now();

  function render() {
    area.innerHTML = `
      <div class="mg-card">
        <div class="mg-header"><span>üî§</span><span class="mg-title">Word Scramble</span><span class="mg-hint">${data.hint}</span></div>
        <div class="mg-answer-slots" id="sc-slots-${topicId}">
          ${selected.map((l,i) => `<div class="sc-slot filled" data-idx="${i}" onclick="removeScrambleLetter('${topicId}',${i})">${l}</div>`).join('')}
          ${Array(data.word.length - selected.length).fill('<div class="sc-slot empty">_</div>').join('')}
        </div>
        <div class="mg-letters" id="sc-letters-${topicId}">
          ${shuffled.map((l,i) => `<button class="sc-letter ${selected.filter((_,si) => window['sc_used_'+topicId] && window['sc_used_'+topicId][i]).length ? 'used' : ''}" 
            data-i="${i}" onclick="addScrambleLetter('${topicId}','${l}',${i})">${l}</button>`).join('')}
        </div>
        <div style="display:flex;gap:8px;margin-top:12px;justify-content:center">
          <button class="mg-btn-clear" onclick="clearScramble('${topicId}')">Clear</button>
          <button class="mg-btn-check" onclick="checkScramble('${topicId}','${data.word}')">Check ‚úì</button>
        </div>
        <div id="sc-result-${topicId}" style="margin-top:10px;text-align:center;font-weight:700;font-size:15px"></div>
      </div>
    `;
    window['sc_selected_' + topicId] = selected;
    window['sc_shuffled_' + topicId] = shuffled;
    window['sc_used_' + topicId] = window['sc_used_' + topicId] || {};
    window['sc_start_' + topicId] = startTime;
  }

  window['addScrambleLetter'] = function(tId, letter, idx) {
    const sel = window['sc_selected_' + tId] || [];
    const used = window['sc_used_' + tId] || {};
    if (used[idx] || sel.length >= data.word.length) return;
    used[idx] = true;
    sel.push(letter);
    window['sc_selected_' + tId] = sel;
    window['sc_used_' + tId] = used;
    render();
  };
  window['removeScrambleLetter'] = function(tId, slotIdx) {
    const sel = window['sc_selected_' + tId] || [];
    const used = window['sc_used_' + tId] || {};
    sel.splice(slotIdx, 1);
    // Rebuild used from remaining
    const newUsed = {};
    window['sc_shuffled_' + tId].forEach((l, i) => {
      let count = sel.filter(s => s === l).length;
      if (count > 0) { newUsed[i] = true; count--; }
    });
    window['sc_selected_' + tId] = sel;
    window['sc_used_' + tId] = newUsed;
    render();
  };
  window['clearScramble'] = function(tId) {
    window['sc_selected_' + tId] = [];
    window['sc_used_' + tId] = {};
    selected = [];
    render();
  };
  window['checkScramble'] = function(tId, word) {
    const sel = window['sc_selected_' + tId] || [];
    const attempt = sel.join('');
    const res = document.getElementById('sc-result-' + tId);
    if (attempt === word) {
      const elapsed = (Date.now() - window['sc_start_' + tId]) / 1000;
      const bonus = elapsed < 20 ? ' ‚ö°+5 SPEED BONUS!' : '';
      const xp = elapsed < 20 ? 20 : 15;
      if (res) { res.textContent = '‚úÖ Correct! ' + word + bonus; res.style.color = 'var(--green)'; }
      XP.add(xp, 'Word Scramble');
      Streak.add(true);
      fireConfetti();
      mgComplete(tId);
    } else {
      if (res) { res.textContent = '‚ùå Not quite ‚Äî try again!'; res.style.color = 'var(--red)'; }
      area.querySelector('.mg-card').style.animation = 'shake 0.4s ease';
      setTimeout(() => area.querySelector('.mg-card').style.animation = '', 500);
    }
  };
  render();
}

// ‚îÄ‚îÄ MATCH PAIRS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function buildMatch(topicId, data, area) {
  const pairs = data.pairs;
  const terms = pairs.map(p => ({ text: p.term, type: 'term', id: p.term }));
  const defs  = [...pairs].sort(() => Math.random() - 0.5).map(p => ({ text: p.def, type: 'def', id: p.term }));
  let selected = null, matched = {};
  let startTime = Date.now();

  function render() {
    area.innerHTML = `
      <div class="mg-card">
        <div class="mg-header"><span>üÉè</span><span class="mg-title">Match the Pairs</span><span class="mg-hint">Tap term then definition</span></div>
        <div class="match-grid">
          <div class="match-col">
            ${terms.map(t => `<button class="match-card ${matched[t.id] ? 'matched' : ''} ${selected && selected.id === t.id && selected.type === 'term' ? 'selected' : ''}" 
              onclick="selectMatch('${topicId}','term','${t.id}','${t.text}')" ${matched[t.id] ? 'disabled' : ''}>${t.text}</button>`).join('')}
          </div>
          <div class="match-col">
            ${defs.map(d => `<button class="match-card ${matched[d.id] ? 'matched' : ''} ${selected && selected.id === d.id && selected.type === 'def' ? 'selected' : ''}" 
              onclick="selectMatch('${topicId}','def','${d.id}','${d.text}')" ${matched[d.id] ? 'disabled' : ''}>${d.text}</button>`).join('')}
          </div>
        </div>
        <div id="match-result-${topicId}" style="text-align:center;margin-top:10px;font-weight:700;font-size:14px"></div>
      </div>
    `;
    window['match_selected_' + topicId] = selected;
    window['match_matched_' + topicId] = matched;
  }

  window['selectMatch'] = function(tId, type, id, text) {
    const sel = window['match_selected_' + tId];
    const mat = window['match_matched_' + tId] || {};
    if (mat[id]) return;

    if (!sel) {
      window['match_selected_' + tId] = { type, id, text };
      selected = { type, id, text };
      matched = mat;
      render();
      return;
    }

    // Check if matching opposite type
    if (sel.type !== type && sel.id === id) {
      // Correct match!
      mat[id] = true;
      window['match_matched_' + tId] = mat;
      window['match_selected_' + tId] = null;
      selected = null;
      matched = mat;
      render();
      Streak.add(true);
      const res = document.getElementById('match-result-' + tId);
      if (res) { res.textContent = '‚úÖ Matched! Keep going‚Ä¶'; res.style.color = 'var(--green)'; }

      // Check all matched
      if (Object.keys(mat).length === pairs.length) {
        const elapsed = (Date.now() - startTime) / 1000;
        const xp = elapsed < 30 ? 20 : 15;
        if (res) { res.textContent = 'üèÜ All matched! +' + xp + ' XP'; }
        XP.add(xp, 'Match Pairs');
        fireConfetti();
        mgComplete(tId);
      }
    } else {
      // Wrong
      window['match_selected_' + tId] = { type, id, text };
      selected = { type, id, text };
      matched = mat;
      render();
      const res = document.getElementById('match-result-' + tId);
      if (res) { res.textContent = '‚ùå No match ‚Äî try another'; res.style.color = 'var(--red)'; }
      Streak.add(false);
      const card = area.querySelector('.mg-card');
      if (card) { card.style.animation = 'shake 0.3s ease'; setTimeout(() => card.style.animation = '', 400); }
    }
  };

  render();
}

// ‚îÄ‚îÄ SORT THE STEPS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function buildSort(topicId, data, area) {
  let order = [...data.correct].sort(() => Math.random() - 0.5);

  function render() {
    area.innerHTML = `
      <div class="mg-card">
        <div class="mg-header"><span>‚ÜïÔ∏è</span><span class="mg-title">Sort the Steps</span><span class="mg-hint">${data.title}</span></div>
        <div class="sort-list" id="sort-list-${topicId}">
          ${order.map((idx, pos) => `
            <div class="sort-item" data-pos="${pos}">
              <span class="sort-num">${pos + 1}</span>
              <span class="sort-text">${data.items[idx]}</span>
              <div class="sort-arrows">
                <button onclick="moveSort('${topicId}',${pos},-1)" ${pos === 0 ? 'disabled' : ''}>‚ñ≤</button>
                <button onclick="moveSort('${topicId}',${pos},1)"  ${pos === order.length-1 ? 'disabled' : ''}>‚ñº</button>
              </div>
            </div>
          `).join('')}
        </div>
        <div style="display:flex;justify-content:center;margin-top:12px">
          <button class="mg-btn-check" onclick="checkSort('${topicId}')">Submit Order ‚úì</button>
        </div>
        <div id="sort-result-${topicId}" style="text-align:center;margin-top:10px;font-weight:700;font-size:14px"></div>
      </div>
    `;
    window['sort_order_' + topicId] = order;
  }

  window['moveSort'] = function(tId, pos, dir) {
    const ord = window['sort_order_' + tId];
    const newPos = pos + dir;
    if (newPos < 0 || newPos >= ord.length) return;
    [ord[pos], ord[newPos]] = [ord[newPos], ord[pos]];
    window['sort_order_' + tId] = ord;
    order = ord;
    render();
  };

  window['checkSort'] = function(tId) {
    const ord = window['sort_order_' + tId];
    const res = document.getElementById('sort-result-' + tId);
    const isCorrect = JSON.stringify(ord) === JSON.stringify(data.correct);
    if (isCorrect) {
      if (res) { res.textContent = 'üèÜ Perfect order! +15 XP'; res.style.color = 'var(--green)'; }
      XP.add(15, 'Sort the Steps');
      Streak.add(true);
      fireConfetti();
      mgComplete(tId);
    } else {
      // Show which ones are wrong
      const items = area.querySelectorAll('.sort-item');
      ord.forEach((idx, pos) => {
        if (data.correct[pos] !== idx) {
          items[pos].style.borderColor = 'var(--red)';
          items[pos].style.background = 'rgba(239,68,68,0.1)';
        } else {
          items[pos].style.borderColor = 'var(--green)';
          items[pos].style.background = 'rgba(34,197,94,0.1)';
        }
      });
      if (res) { res.textContent = '‚ùå Not quite ‚Äî adjust the highlighted steps'; res.style.color = 'var(--orange)'; }
      Streak.add(false);
    }
  };

  render();
}

// ‚îÄ‚îÄ MINI-GAME COMPLETE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function mgComplete(topicId) {
  // Add star to topic card
  const card = document.getElementById('tc_' + topicId);
  if (card && !card.querySelector('.mg-star')) {
    const star = document.createElement('span');
    star.className = 'mg-star';
    star.textContent = '‚≠ê';
    star.style.cssText = 'margin-left:6px;font-size:14px;animation:starPop 0.4s cubic-bezier(.22,1,.36,1)';
    const tNum = card.querySelector('.t-num');
    if (tNum) tNum.parentElement.querySelector('.t-en').appendChild(star);
  }
  try {
    const done = JSON.parse(localStorage.getItem('ea_mg_done') || '{}');
    done[topicId] = true;
    localStorage.setItem('ea_mg_done', JSON.stringify(done));
  } catch(e) {}
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DAY COMPLETION SUMMARY
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function checkDayComplete(dayNum) {
  // Check all quizzes for this day are done
  const dayTopics = {
    1: ['1_1','1_2','1_3'],
    2: ['2_1','2_2','2_3'],
    3: ['3_1','3_2'],
    4: ['4_1','4_2'],
    5: ['5_1','5_2','5_3'],
  };
  const topics = dayTopics[dayNum];
  if (!topics) return;
  try {
    const scores = JSON.parse(localStorage.getItem('ea_quiz_scores') || '{}');
    const allDone = topics.every(t => scores['qb_' + t]);
    if (!allDone) return;
    showDaySummary(dayNum, topics, scores);
  } catch(e) {}
}

function showDaySummary(dayNum, topics, scores) {
  const existing = document.getElementById('day-summary-' + dayNum);
  if (existing) return; // already shown

  const totalXP = XP.get();
  const dayNames = {1:'Welcome to Dispatch World', 2:'Freight & Trailer Types', 3:'Geography & Time Zones', 4:'Hours of Service', 5:'Load Boards & Red Flags'};

  const summary = document.createElement('div');
  summary.id = 'day-summary-' + dayNum;
  summary.className = 'day-summary';
  summary.innerHTML = `
    <div class="day-summary-inner">
      <div class="ds-badge">üéâ DAY ${dayNum} COMPLETE</div>
      <div class="ds-title">Day ${dayNum}: ${dayNames[dayNum]}</div>
      <div class="ds-scores">
        ${topics.map(t => {
          const s = scores['qb_' + t] || {};
          const pct = s.pct || 0;
          const r = 18; const c = 2 * Math.PI * r;
          const color = pct >= 90 ? '#22c55e' : pct >= 70 ? '#F47920' : '#ef4444';
          return `<div style="text-align:center">
            <svg width="48" height="48" viewBox="0 0 48 48" style="transform:rotate(-90deg)">
              <circle cx="24" cy="24" r="${r}" fill="none" stroke="rgba(255,255,255,0.07)" stroke-width="4"/>
              <circle cx="24" cy="24" r="${r}" fill="none" stroke="${color}" stroke-width="4"
                stroke-dasharray="${c}" stroke-dashoffset="${c - (pct/100*c)}" stroke-linecap="round"/>
            </svg>
            <div style="font-size:10px;color:var(--grey);margin-top:2px">Topic ${t.split('_')[1].toUpperCase()}</div>
          </div>`;
        }).join('')}
      </div>
      <div class="ds-xp">üèÜ Total XP: <strong>${totalXP}</strong></div>
      <div class="ds-msg">${totalXP >= 100 ? 'üî• Outstanding progress! You are ready for Day ' + (dayNum+1) + '!' : '‚úÖ Day complete! Keep building your skills.'}</div>
      <button class="ds-btn" onclick="this.closest('.day-summary').remove()">Continue ‚Üí</button>
    </div>
  `;
  const panel = document.getElementById('day' + dayNum);
  if (panel) { panel.appendChild(summary); }
  fireConfetti();
  XP.add(50, 'Day ' + dayNum + ' Complete! üéâ');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// INJECTION ‚Äî runs on DOMContentLoaded
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function injectGameElements() {
  // For each topic, inject T/F wrapper before quiz and mini-game wrapper after quiz-result
  const topics = ['1_1','1_2','1_3','2_1','2_2','2_3','3_1','3_2','4_1','4_2','5_1','5_2','5_3'];

  topics.forEach(tid => {
    const quizEl = document.getElementById('quiz_' + tid);
    if (!quizEl) return;

    // 1. Inject T/F before quiz
    if (!document.getElementById('tf_' + tid)) {
      const tfWrap = document.createElement('div');
      tfWrap.id = 'tf_' + tid;
      quizEl.parentElement.insertBefore(tfWrap, quizEl);
      renderTFBlitz(tid);
    }

    // 2. Add speed round controls inside quiz header
    const qHeader = quizEl.querySelector('.quiz-header');
    if (qHeader && !qHeader.querySelector('.speed-btn')) {
      const speedBtn = document.createElement('button');
      speedBtn.id = 'speed-btn-qb_' + tid;
      speedBtn.className = 'speed-btn';
      speedBtn.textContent = '‚ö° Speed Round';
      speedBtn.onclick = () => toggleSpeedRound('qb_' + tid);
      const speedBarWrap = document.createElement('div');
      speedBarWrap.id = 'speed-bar-qb_' + tid;
      speedBarWrap.style.cssText = 'display:none;height:4px;background:rgba(255,255,255,0.07);margin:0;';
      speedBarWrap.innerHTML = `<div id="speed-fill-qb_${tid}" style="height:100%;width:100%;background:var(--orange);transition:width 1s linear;border-radius:0"></div>`;
      qHeader.appendChild(speedBtn);
      quizEl.insertBefore(speedBarWrap, quizEl.querySelector('.quiz-body'));
    }

    // 3. Inject mini-game after quiz-result
    const qResult = document.getElementById('qr_' + tid);
    if (qResult && !document.getElementById('mg_' + tid)) {
      const mgWrap = document.createElement('div');
      mgWrap.id = 'mg_' + tid;
      qResult.parentElement.insertBefore(mgWrap, qResult.nextSibling);
    }
  });

  // Restore mini-game stars
  try {
    const done = JSON.parse(localStorage.getItem('ea_mg_done') || '{}');
    Object.keys(done).forEach(tid => mgComplete(tid));
  } catch(e) {}
}


// ‚îÄ‚îÄ Quiz Engine ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function checkAns(btn, quizBodyId, qKey, isCorrect) {
  if (!quizAnswers[quizBodyId]) quizAnswers[quizBodyId] = {};
  if (quizAnswers[quizBodyId][qKey]) return;
  quizAnswers[quizBodyId][qKey] = isCorrect;
  const qItem = btn.closest('.q-item');
  qItem.querySelectorAll('.q-opt').forEach(b => { b.disabled = true; });
  btn.classList.add(isCorrect ? 'correct' : 'wrong');
  if (!isCorrect) {
    qItem.querySelectorAll('.q-opt').forEach(b => {
      if (b.onclick && b.onclick.toString().includes('true')) b.classList.add('correct');
    });
  }
  // XP + Streak
  const speedBonus = getSpeedBonus(quizBodyId);
  if (isCorrect) {
    XP.add(10 + speedBonus, speedBonus > 0 ? '‚ö° Speed Bonus!' : null);
    Streak.add(true);
    if (speedRoundActive[quizBodyId]) startSpeedTimer(quizBodyId);
  } else {
    XP.add(0);
    Streak.add(false);
    if (speedRoundActive[quizBodyId]) startSpeedTimer(quizBodyId);
  }
  const allQItems = document.getElementById(quizBodyId).querySelectorAll('.q-item');
  const answered = Object.keys(quizAnswers[quizBodyId]).length;
  if (answered >= allQItems.length) {
    stopSpeedTimer(quizBodyId);
    showQuizResult(quizBodyId);
    // Unlock mini-game
    const tid = quizBodyId.replace('qb_','');
    const mg = document.getElementById('mg_' + tid);
    if (mg) renderMiniGame(tid);
    // Check day complete
    const dayNum = parseInt(tid.split('_')[0]);
    setTimeout(() => checkDayComplete(dayNum), 800);
  }
}

function showQuizResult(quizBodyId) {
  const answers = quizAnswers[quizBodyId] || {};
  const total = Object.keys(answers).length;
  const correct = Object.values(answers).filter(v => v).length;
  const pct = Math.round((correct / total) * 100);

  const resultId = quizBodyId.replace('qb_', 'qr_');
  const scoreId  = quizBodyId.replace('qb_', 'qs_');
  const msgId    = quizBodyId.replace('qb_', 'qmsg_');
  const resultEl = document.getElementById(resultId);
  const scoreEl  = document.getElementById(scoreId);
  const msgEl    = document.getElementById(msgId);

  const color = pct >= 90 ? '#22c55e' : pct >= 70 ? '#F47920' : pct >= 50 ? '#f59e0b' : '#ef4444';
  const label = pct >= 90 ? 'üèÜ Excellent!' : pct >= 70 ? '‚úÖ Good work!' : pct >= 50 ? 'üìö Review again' : '‚ö†Ô∏è Re-read topic';

  // Build SVG ring
  const r = 38; const circ = 2 * Math.PI * r;
  const dash = (pct / 100) * circ;

  if (scoreEl) {
    scoreEl.innerHTML = `
      <div style="display:flex;align-items:center;gap:18px;flex-wrap:wrap;">
        <div style="position:relative;width:90px;height:90px;flex-shrink:0">
          <svg width="90" height="90" viewBox="0 0 90 90" style="transform:rotate(-90deg)">
            <circle cx="45" cy="45" r="${r}" fill="none" stroke="rgba(255,255,255,0.07)" stroke-width="7"/>
            <circle cx="45" cy="45" r="${r}" fill="none" stroke="${color}" stroke-width="7"
              stroke-linecap="round" stroke-dasharray="${circ}"
              stroke-dashoffset="${circ}"
              id="ring_${scoreId}"
              style="transition:stroke-dashoffset 1s cubic-bezier(.22,1,.36,1)"/>
          </svg>
          <div style="position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center">
            <span style="font-size:20px;font-weight:900;color:${color};line-height:1">${pct}%</span>
            <span style="font-size:9px;color:rgba(255,255,255,0.4);font-family:var(--font-mono);letter-spacing:.5px">SCORE</span>
          </div>
        </div>
        <div>
          <div style="font-size:22px;font-weight:900;color:${color}">${correct}<span style="font-size:14px;color:rgba(255,255,255,0.4);font-weight:400"> / ${total} correct</span></div>
          <div style="font-size:13px;color: #4a4a8a;margin-top:4px">${label}</div>
        </div>
      </div>
    `;
    // Animate ring after brief delay
    requestAnimationFrame(() => {
      setTimeout(() => {
        const ring = document.getElementById('ring_' + scoreId);
        if (ring) ring.style.strokeDashoffset = circ - dash;
      }, 80);
    });
  }

  if (msgEl) msgEl.textContent = '';
  if (resultEl) resultEl.classList.add('show');

  // Save quiz score to progress
  try {
    const prog = JSON.parse(localStorage.getItem('ea_quiz_scores') || '{}');
    prog[quizBodyId] = { correct, total, pct, date: Date.now() };
    localStorage.setItem('ea_quiz_scores', JSON.stringify(prog));
  } catch(e) {}
}

function retakeQuiz(quizBodyId, resultId, scoreId, msgId) {
  quizAnswers[quizBodyId] = {};
  document.getElementById(quizBodyId).querySelectorAll('.q-opt').forEach(b => {
    b.disabled = false;
    b.classList.remove('correct', 'wrong');
  });
  const res = document.getElementById(resultId);
  if (res) res.classList.remove('show');
}

// ‚îÄ‚îÄ Init ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
document.addEventListener('DOMContentLoaded', () => {
  // Restore progress from localStorage
  try {
    const prog = JSON.parse(localStorage.getItem('ea_w1_prog') || '{}');
    for (let d = 1; d <= 5; d++) {
      if (prog['day' + d]) {
        const check = document.getElementById('d' + d + '_check');
        if (check) check.style.display = 'inline';
      }
    }
    updateProgress();
  } catch(e) {}
  // Load voices for TTS
  if (window.speechSynthesis) {
    window.speechSynthesis.onvoiceschanged = () => window.speechSynthesis.getVoices();
  }
  // Boot game systems
  XP.render();
  initDailyStreak();
  injectGameElements();
});
</script>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FLOATING FABs ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- Madam JI + Tools ‚Äî hardcoded, position:fixed  -->
<style>
#mj-fab {
  position: fixed !important; bottom: 88px !important; right: 20px !important;
  z-index: 99999 !important; width: 64px; height: 64px; border-radius: 50%;
  background: linear-gradient(135deg, #16166a, #2B2BA8);
  border: 2px solid rgba(168,85,247,0.5);
  outline: none; font-family: inherit;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
  overflow: hidden;
  animation: mjBounce 2.5s ease-in-out infinite, mjColorCycle 4s ease-in-out infinite;
  transition: transform .18s ease;
}
#mj-fab:hover {
  transform: scale(1.12) !important;
  animation: none !important;
  background: linear-gradient(135deg, #1e1e88, #3535c0) !important;
  box-shadow: 0 0 0 12px rgba(43,43,168,0.12), 0 8px 36px rgba(43,43,168,0.8) !important;
}
/* Cycle wrapper ‚Äî clips content to circle */
.mj-cycle-wrap {
  position: relative; width: 100%; height: 100%;
  display: flex; align-items: center; justify-content: center;
  pointer-events: none;
}
/* Each state */
.mj-state {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
  text-align: center; line-height: 1.2;
  opacity: 0; pointer-events: none;
}
/* üòï confused face */
.mj-s1 {
  font-size: 30px;
  animation: mjCycle1 5s ease-in-out infinite;
}
/* "Ask" */
.mj-s2 {
  font-size: 13px; font-weight: 900; color: rgba(255,255,255,0.9);
  letter-spacing: 1px; font-family: 'DM Sans', sans-serif;
  animation: mjCycle2 5s ease-in-out infinite;
}
/* "Madam JI" */
.mj-s3 {
  font-size: 10px; font-weight: 800; color: white;
  letter-spacing: .3px; font-family: 'DM Sans', sans-serif;
  animation: mjCycle3 5s ease-in-out infinite;
}
/* 
  5s total cycle:
  0.0‚Äì2.0s  ‚Üí üòï visible   (2s)
  2.0‚Äì2.5s  ‚Üí fade to Ask  (0.5s)
  2.5‚Äì3.5s  ‚Üí Ask visible  (1s)
  3.5‚Äì4.0s  ‚Üí fade to MJ   (0.5s)
  4.0‚Äì5.0s  ‚Üí Madam JI     (1s) then fades back to üòï
*/
@keyframes mjCycle1 {
  0%   { opacity:0; transform:scale(0.7); }
  5%   { opacity:1; transform:scale(1.1); }
  15%  { opacity:1; transform:scale(1); }
  40%  { opacity:1; transform:scale(1); }
  50%  { opacity:0; transform:scale(0.8); }
  100% { opacity:0; transform:scale(0.7); }
}
@keyframes mjCycle2 {
  0%   { opacity:0; transform:scale(0.5); }
  42%  { opacity:0; transform:scale(0.5); }
  50%  { opacity:1; transform:scale(1.15); }
  56%  { opacity:1; transform:scale(1); }
  66%  { opacity:1; transform:scale(1); }
  74%  { opacity:0; transform:scale(0.7); }
  100% { opacity:0; }
}
@keyframes mjCycle3 {
  0%   { opacity:0; transform:scale(0.5); }
  72%  { opacity:0; transform:scale(0.5); }
  80%  { opacity:1; transform:scale(1.1); }
  86%  { opacity:1; transform:scale(1); }
  94%  { opacity:1; transform:scale(1); }
  100% { opacity:0; transform:scale(0.8); }
}
/* Pause cycle on hover ‚Äî show owl instead */
#mj-fab:hover .mj-state { animation-play-state: paused !important; opacity:0 !important; }
#mj-fab:hover .mj-cycle-wrap::after {
  content: 'ü¶â';
  font-size: 28px;
  position: absolute;
  animation: popIn .2s cubic-bezier(.22,1,.36,1);
}
@keyframes popIn {
  from { transform: scale(0.5); opacity:0; }
  to   { transform: scale(1);   opacity:1; }
}
@keyframes mjBounce {
  0%,100% { transform: translateY(0); }
  50%      { transform: translateY(-7px); }
}
@keyframes mjColorCycle {
  0%,100% { box-shadow: 0 4px 24px rgba(43,43,168,0.5); border-color: rgba(168,85,247,0.6); }
  33%     { box-shadow: 0 4px 28px rgba(99,102,241,0.7), 0 0 0 6px rgba(99,102,241,0.1); border-color: rgba(99,102,241,0.8); }
  66%     { box-shadow: 0 4px 28px rgba(219,39,119,0.7), 0 0 0 6px rgba(219,39,119,0.1); border-color: rgba(219,39,119,0.8); }
}
#mj-popup {
  position: fixed !important; bottom: 156px !important; right: 20px !important;
  z-index: 99998 !important; width: 360px; max-height: 540px;
  background: rgba(14,14,74,0.98);
  border: 1px solid rgba(43,43,168,0.4); border-radius: 20px;
  box-shadow: 0 16px 56px rgba(0,0,0,0.6);
  display: flex; flex-direction: column;
  transform: translateY(20px) scale(0.95); opacity: 0; pointer-events: none;
  transition: all .25s cubic-bezier(.22,1,.36,1);
  backdrop-filter: blur(20px);
}
#mj-popup.open { transform: translateY(0) scale(1) !important; opacity: 1 !important; pointer-events: all !important; }
.mj-pop-head { padding: 14px 16px; border-bottom: 1px solid rgba(43,43,168,0.2); display: flex; align-items: center; gap: 10px; flex-shrink: 0; }
.mj-pop-orb { width: 36px; height: 36px; border-radius: 50%; background: linear-gradient(135deg,#7c3aed,#F47920); display: flex; align-items: center; justify-content: center; font-size: 18px; flex-shrink: 0; }
.mj-pop-name { font-weight: 700; font-size: 13px; color: #f0f2f8; }
.mj-pop-sub { font-size: 10px; color: rgba(168,85,247,0.9); font-family: monospace; letter-spacing: .5px; }
.mj-pop-close { margin-left: auto; background: none; border: none; color: rgba(255,255,255,0.4); font-size: 18px; cursor: pointer; padding: 4px; line-height: 1; }
.mj-pop-close:hover { color: white; }
.mj-pop-msgs { flex: 1; overflow-y: auto; padding: 12px; display: flex; flex-direction: column; gap: 8px; max-height: 300px; scrollbar-width: thin; }
.mj-msg { max-width: 85%; padding: 9px 12px; border-radius: 12px; font-size: 13px; line-height: 1.5; font-family: 'DM Sans',sans-serif; }
.mj-msg.bot  { background: rgba(43,43,168,0.15); border: 1px solid rgba(43,43,168,0.2); color: #e2d9f3; border-bottom-left-radius: 3px; align-self: flex-start; }
.mj-msg.user { background: rgba(244,121,32,0.15); border: 1px solid rgba(244,121,32,0.2); color: #fde8d8; border-bottom-right-radius: 3px; align-self: flex-end; }
.mj-msg.typing { display: flex; gap: 4px; align-items: center; padding: 12px; }
.mj-dot { width: 7px; height: 7px; border-radius: 50%; background: #a855f7; animation: mjDotB .8s ease-in-out infinite; }
.mj-dot:nth-child(2){animation-delay:.15s} .mj-dot:nth-child(3){animation-delay:.3s}
@keyframes mjDotB { 0%,80%,100%{transform:scale(.6);opacity:.4} 40%{transform:scale(1);opacity:1} }
.mj-pop-key { padding: 8px 12px; border-top: 1px solid rgba(43,43,168,0.15); flex-shrink: 0; }
.mj-pop-key input { width: 100%; padding: 7px 10px; background: rgba(255,255,255,0.05); border: 1px solid rgba(43,43,168,0.3); border-radius: 8px; color: white; font-family: monospace; font-size: 11px; outline: none; box-sizing: border-box; }
.mj-pop-key input::placeholder { color: rgba(255,255,255,0.25); }
.mj-pop-input { padding: 10px 12px; border-top: 1px solid rgba(43,43,168,0.15); display: flex; gap: 8px; flex-shrink: 0; }
.mj-pop-input input { flex: 1; padding: 9px 12px; background: #f4f6fb; border: 1px solid rgba(43,43,168,0.25); border-radius: 10px; color: white; font-size: 13px; font-family: 'DM Sans',sans-serif; outline: none; }
.mj-pop-input input:focus { border-color: rgba(43,43,168,0.6); }
.mj-pop-input input::placeholder { color: rgba(255,255,255,0.2); }
.mj-send { padding: 9px 14px; background: linear-gradient(135deg,#7c3aed,#4f46e5); border: none; border-radius: 10px; color: white; cursor: pointer; font-size: 15px; flex-shrink: 0; }
.mj-chips { display: flex; flex-wrap: wrap; gap: 5px; padding: 2px 0 6px; }
.mj-chip { padding: 5px 11px; border-radius: 999px; border: 1px solid rgba(43,43,168,0.35); background: rgba(43,43,168,0.1); color: #c4b5fd; font-size: 11px; cursor: pointer; font-family: 'DM Sans',sans-serif; transition: all .15s; }
.mj-chip:hover { background: rgba(43,43,168,0.3); transform: scale(1.04); }
.mj-chip-hi { border-color: rgba(244,121,32,0.4) !important; background: rgba(244,121,32,0.08) !important; color: #fed7aa !important; font-family: 'Noto Sans Devanagari', 'DM Sans', sans-serif !important; }
.mj-chip-hi:hover { background: rgba(244,121,32,0.2) !important; }
.mj-chip-label { font-size: 10px; font-weight: 700; color: rgba(255,255,255,0.35); letter-spacing: .8px; text-transform: uppercase; padding: 4px 0 2px; font-family: 'DM Sans', sans-serif; }
#tools-fab {
  position: fixed !important; bottom: 20px !important; left: 20px !important;
  z-index: 99999 !important; width: 64px; height: 64px; border-radius: 50%;
  background: linear-gradient(135deg, #F47920, #d4661a);
  border: 2px solid rgba(244,121,32,0.5);
  outline: none; font-family: inherit; overflow: hidden;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
  animation: toolsBounce 2.5s ease-in-out 1.2s infinite, toolsColorCycle 4s ease-in-out 0.8s infinite;
  transition: transform .18s ease;
}
#tools-fab:hover {
  transform: scale(1.12) !important;
  animation: none !important;
  background: linear-gradient(135deg, #f79240, #F47920) !important;
  box-shadow: 0 0 0 12px rgba(244,121,32,0.1), 0 8px 36px rgba(244,121,32,0.8) !important;
}
.tools-inner {
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 1px; pointer-events: none;
}
/* Gear ‚Äî spins slowly, speeds up on hover */
.tools-gear-icon {
  font-size: 20px; line-height: 1;
  display: block;
  animation: gearSpin 5s linear infinite;
  filter: drop-shadow(0 1px 3px rgba(0,0,0,0.3));
  transition: font-size .2s;
}
#tools-fab:hover .tools-gear-icon {
  animation: gearSpin .5s linear infinite !important;
  font-size: 24px;
}
/* "Toolkit" ‚Äî breathes: tiny ‚Üí big ‚Üí tiny */
.tools-word {
  font-size: 6px; font-weight: 900; color: white; letter-spacing: .5px;
  font-family: 'DM Sans', sans-serif; white-space: nowrap;
  text-shadow: 0 1px 3px rgba(0,0,0,0.3);
  animation: toolkitBreathe 2.2s ease-in-out infinite;
  transform-origin: center;
}
#tools-fab:hover .tools-word {
  animation: none !important;
  font-size: 9px !important;
  letter-spacing: 1px;
}
@keyframes gearSpin {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}
@keyframes toolkitBreathe {
  0%,100% { transform: scale(0.5); opacity: 0.5; font-size: 6px; }
  50%     { transform: scale(1);   opacity: 1;   font-size: 9px; }
}
@keyframes toolsBounce {
  0%,100% { transform: translateY(0); }
  50%      { transform: translateY(-7px); }
}
@keyframes toolsColorCycle {
  0%,100% { box-shadow: 0 4px 24px rgba(244,121,32,0.5); border-color: rgba(244,121,32,0.6); }
  33%     { box-shadow: 0 4px 28px rgba(245,158,11,0.7), 0 0 0 6px rgba(245,158,11,0.1); border-color: rgba(245,158,11,0.8); }
  66%     { box-shadow: 0 4px 28px rgba(239,68,68,0.7), 0 0 0 6px rgba(239,68,68,0.1); border-color: rgba(239,68,68,0.8); }
}
#tools-popup {
  position: fixed !important; bottom: 88px !important; left: 20px !important;
  z-index: 99998 !important; width: 320px;
  background: rgba(14,14,74,0.98);
  border: 1px solid rgba(244,121,32,0.3); border-radius: 20px;
  box-shadow: 0 16px 56px rgba(0,0,0,0.6);
  transform: translateY(20px) scale(0.95); opacity: 0; pointer-events: none;
  transition: all .25s cubic-bezier(.22,1,.36,1);
  backdrop-filter: blur(20px); overflow: hidden;
}
#tools-popup.open { transform: translateY(0) scale(1) !important; opacity: 1 !important; pointer-events: all !important; }
.tp-head { padding: 13px 16px; border-bottom: 1px solid rgba(244,121,32,0.15); display: flex; align-items: center; justify-content: space-between; }
.tp-head-title { font-weight: 700; font-size: 13px; color: #f0f2f8; display: flex; align-items: center; gap: 7px; }
.tp-close { background: none; border: none; color: rgba(255,255,255,0.4); font-size: 17px; cursor: pointer; }
.tp-close:hover { color: white; }
.tp-link { display: flex; align-items: center; gap: 12px; padding: 11px 16px; text-decoration: none; color: #f0f2f8; transition: background .15s; border-bottom: 1px solid rgba(255,255,255,0.05); }
.tp-link:last-of-type { border-bottom: none; }
.tp-link:hover { background: rgba(244,121,32,0.08); }
.tp-icon { width: 34px; height: 34px; border-radius: 9px; display: flex; align-items: center; justify-content: center; font-size: 16px; flex-shrink: 0; }
.tp-name { font-size: 13px; font-weight: 600; }
.tp-desc { font-size: 10px; color: rgba(255,255,255,0.35); margin-top: 1px; font-family: monospace; }
.tp-all { display: block; text-align: center; padding: 10px; font-size: 12px; font-weight: 600; color: #F47920; text-decoration: none; background: rgba(244,121,32,0.06); }
.tp-all:hover { background: rgba(244,121,32,0.12); }
.fab-tooltip {
  position: fixed !important; z-index: 99999 !important;
  background: rgba(14,14,74,0.96); border-radius: 999px;
  font-size: 12px; font-weight: 700; font-family: 'DM Sans',sans-serif;
  padding: 6px 14px; white-space: nowrap; pointer-events: none;
  opacity: 0; transition: opacity .2s;
}
#mj-tooltip  { right: 84px; bottom: 100px; border: 1px solid rgba(43,43,168,0.5); color: #e9d5ff; }
#tools-tooltip { left: 84px; bottom: 32px; border: 1px solid rgba(244,121,32,0.5); color: #fed7aa; }
#mj-fab:hover    ~ #mj-tooltip    { opacity: 1; }
#tools-fab:hover ~ #tools-tooltip { opacity: 1; }
@media(max-width:480px){
  #mj-fab    { bottom: 80px !important; right: 16px !important; width:50px; height:50px; font-size:22px; }
  #tools-fab { bottom: 80px !important; left: 16px !important;  width:50px; height:50px; font-size:20px; }
  #mj-popup  { width: calc(100vw - 24px) !important; right: 12px !important; bottom: 144px !important; }
  #tools-popup { width: calc(100vw - 24px) !important; left: 12px !important; bottom: 144px !important; }
}
</style>

<!-- Madam JI Button + Popup -->
<button id="mj-fab" onclick="mjToggle()" title="Confused? Ask Madam JI" type="button">
  <span class="mj-cycle-wrap">
    <span class="mj-state mj-s1">üòï</span>
    <span class="mj-state mj-s2">Ask</span>
    <span class="mj-state mj-s3">Madam<br>JI</span>
  </span>
</button>
<div id="mj-tooltip" class="fab-tooltip">Confused? Ask Madam JI ü¶â</div>
<div id="mj-popup">
  <div class="mj-pop-head">
    <div class="mj-pop-orb">ü¶â</div>
    <div>
      <div class="mj-pop-name">Madam JI</div>
      <div class="mj-pop-sub">AI TUTOR ¬∑ ENGLISH & ‡§π‡§ø‡§Ç‡§¶‡•Ä ¬∑ EAGLE ACADEMY</div>
    </div>
    <button class="mj-pop-close" onclick="mjToggle()" type="button">‚úï</button>
  </div>
  <div class="mj-pop-msgs" id="mj-msgs">
    <div class="mj-msg bot">‡§®‡§Æ‡§∏‡•ç‡§§‡•á! üôè Hi! I'm Madam JI ‚Äî your Eagle Academy AI tutor.<br><span style="font-size:11px;opacity:0.7">Ask in English ‡§Ø‡§æ ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ‡•á‡§Ç üáÆüá≥</span></div>
    <div class="mj-chip-label">üá¨üáß English</div>
    <div class="mj-chips">
      <button class="mj-chip" onclick="mjChip('What is an O-Licence?')" type="button">O-Licence?</button>
      <button class="mj-chip" onclick="mjChip('How do UK drivers hours work?')" type="button">UK Hours?</button>
      <button class="mj-chip" onclick="mjChip('What is the ICAR method?')" type="button">ICAR?</button>
      <button class="mj-chip" onclick="mjChip('What is a tachograph?')" type="button">Tachograph?</button>
    </div>
    <div class="mj-chip-label">üáÆüá≥ ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ‡•á‡§Ç</div>
    <div class="mj-chips">
      <button class="mj-chip mj-chip-hi" onclick="mjChip('O-Licence ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à?')" type="button">O-Licence ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?</button>
      <button class="mj-chip mj-chip-hi" onclick="mjChip('UK ‡§Æ‡•á‡§Ç ‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§∞ ‡§ï‡•á ‡§ï‡§æ‡§Æ ‡§ï‡•á ‡§ò‡§Ç‡§ü‡•á ‡§ï‡§ø‡§§‡§®‡•á ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç?')" type="button">UK ‡§°‡•ç‡§∞‡§æ‡§á‡§µ‡§∞ ‡§ò‡§Ç‡§ü‡•á?</button>
      <button class="mj-chip mj-chip-hi" onclick="mjChip('ICAR method ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à? ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§ù‡§æ‡§è‡§Ç')" type="button">ICAR ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?</button>
      <button class="mj-chip mj-chip-hi" onclick="mjChip('Tachograph ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§Ø‡§π ‡§ï‡•ç‡§Ø‡•ã‡§Ç ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à?')" type="button">Tachograph?</button>
      <button class="mj-chip mj-chip-hi" onclick="mjChip('Freight dispatcher ‡§ï‡§æ ‡§ï‡§æ‡§Æ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à?')" type="button">Dispatcher ‡§ï‡§æ‡§Æ?</button>
      <button class="mj-chip mj-chip-hi" onclick="mjChip('BOL ‡§Ø‡§æ‡§®‡•Ä Bill of Lading ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?')" type="button">BOL ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?</button>
    </div>
  </div>
  <div class="mj-pop-key" id="mj-key-row" style="display:none">
    <div style="font-size:11px;color: #8888aa;margin-bottom:6px;line-height:1.5;">
      üîë Get your free API key at <strong style="color:#c4b5fd">console.anthropic.com</strong> ‚Äî costs ~¬£2/month for a class
    </div>
    <input id="mj-api-input" type="password" placeholder="sk-ant-‚Ä¶ paste your API key here" oninput="mjSaveKey(this.value)" style="font-size:11px;"/>
  </div>
  <div class="mj-pop-input">
    <input id="mj-q" type="text" placeholder="Ask in English ‡§Ø‡§æ ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ‡•á‡§Ç‚Ä¶" onkeydown="if(event.key==='Enter')mjSend()"/>
    <button class="mj-send" onclick="mjSend()" type="button">‚û§</button>
  </div>
</div>

<!-- Tools Button + Popup -->
<button id="tools-fab" onclick="toolsToggle()" title="Toolkit" type="button">
  <span class="tools-inner">
    <span class="tools-gear-icon">‚öô</span>
    <span class="tools-word">Toolkit</span>
  </span>
</button>
<div id="tools-tooltip" class="fab-tooltip">Toolkit üîß</div>
<div id="tools-popup">
  <!-- Header with tab bar -->
  <div class="tp-head">
    <div class="tp-head-title">üõ†Ô∏è Toolkit</div>
    <a href="tools.html" class="tp-all-link">All Tools ‚Üí</a>
    <button class="tp-close" onclick="toolsToggle()" type="button">‚úï</button>
  </div>
  <!-- Tab buttons -->
  <div class="tp-tabs">
    <button class="tp-tab active" onclick="tpTab(this,'tp-hours')">‚è± Hours</button>
    <button class="tp-tab" onclick="tpTab(this,'tp-rate')">üí∑ Rate</button>
    <button class="tp-tab" onclick="tpTab(this,'tp-time')">üåç Time</button>
  </div>
  <!-- PANEL 1: Drivers Hours -->
  <div class="tp-panel" id="tp-hours">
    <div class="tp-field-row">
      <label>Driving (hrs)</label>
      <input type="number" id="tp-drive" placeholder="e.g. 9" min="0" max="15" step="0.5"/>
    </div>
    <div class="tp-field-row">
      <label>On duty (hrs)</label>
      <input type="number" id="tp-duty" placeholder="e.g. 11" min="0" max="16" step="0.5"/>
    </div>
    <div class="tp-field-row">
      <label>Rest (hrs)</label>
      <input type="number" id="tp-rest" placeholder="e.g. 11" min="0" max="24" step="0.5"/>
    </div>
    <button class="tp-calc-btn" onclick="tpCalcHours()">Check Compliance</button>
    <div class="tp-result" id="tp-hours-result"></div>
  </div>
  <!-- PANEL 2: Rate Calculator -->
  <div class="tp-panel" id="tp-rate" style="display:none">
    <div class="tp-field-row">
      <label>Load rate (¬£/$)</label>
      <input type="number" id="tp-loadrate" placeholder="e.g. 2800" min="0"/>
    </div>
    <div class="tp-field-row">
      <label>Miles</label>
      <input type="number" id="tp-miles" placeholder="e.g. 400" min="0"/>
    </div>
    <div class="tp-field-row">
      <label>Fee %</label>
      <input type="number" id="tp-feepct" placeholder="8" min="1" max="20" value="8"/>
    </div>
    <button class="tp-calc-btn" onclick="tpCalcRate()">Calculate</button>
    <div class="tp-result" id="tp-rate-result"></div>
  </div>
  <!-- PANEL 3: Time Zone -->
  <div class="tp-panel" id="tp-time" style="display:none">
    <div class="tp-field-row">
      <label>IST time (24h)</label>
      <input type="time" id="tp-ist" value="09:00"/>
    </div>
    <button class="tp-calc-btn" onclick="tpCalcTime()">Convert</button>
    <div class="tp-result" id="tp-time-result"></div>
  </div>
</div>
<style>
.tp-tabs { display:flex; gap:0; border-bottom:1px solid rgba(244,121,32,0.15); }
.tp-tab { flex:1; padding:8px 4px; background:none; border:none; color:rgba(255,255,255,0.4); font-size:11px; font-weight:700; cursor:pointer; font-family:'DM Sans',sans-serif; transition:all .15s; border-bottom:2px solid transparent; }
.tp-tab.active { color:var(--orange,#F47920); border-bottom-color:var(--orange,#F47920); }
.tp-tab:hover { color:rgba(255,255,255,0.8); }
.tp-panel { padding:14px 16px; }
.tp-field-row { display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; gap:8px; }
.tp-field-row label { font-size:12px; color:rgba(255,255,255,0.6); white-space:nowrap; }
.tp-field-row input { width:110px; padding:6px 10px; background:rgba(255,255,255,0.07); border:1px solid rgba(255,255,255,0.15); border-radius:8px; color:white; font-size:13px; font-family:'DM Sans',sans-serif; outline:none; text-align:right; }
.tp-field-row input:focus { border-color:rgba(244,121,32,0.5); }
.tp-calc-btn { width:100%; padding:9px; background:linear-gradient(135deg,#F47920,#d4661a); border:none; border-radius:10px; color:white; font-size:13px; font-weight:700; cursor:pointer; font-family:'DM Sans',sans-serif; margin-top:4px; transition:filter .15s; }
.tp-calc-btn:hover { filter:brightness(1.1); }
.tp-result { margin-top:10px; padding:10px 12px; border-radius:10px; font-size:12px; font-weight:600; line-height:1.6; display:none; }
.tp-result.ok  { background:rgba(34,197,94,0.12); border:1px solid rgba(34,197,94,0.3); color:#86efac; display:block; }
.tp-result.bad { background:rgba(239,68,68,0.12); border:1px solid rgba(239,68,68,0.3); color:#fca5a5; display:block; }
.tp-result.info { background:rgba(6,182,212,0.1); border:1px solid rgba(6,182,212,0.25); color:#67e8f9; display:block; }
.tp-all-link { font-size:11px; color:rgba(244,121,32,0.8); text-decoration:none; margin-left:auto; margin-right:8px; font-weight:600; }
.tp-all-link:hover { color:#F47920; }
</style>
<script>
function tpTab(btn, panelId) {
  document.querySelectorAll('.tp-tab').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.tp-panel').forEach(p => p.style.display = 'none');
  btn.classList.add('active');
  var p = document.getElementById(panelId);
  if (p) p.style.display = 'block';
}
function tpCalcHours() {
  var drive = parseFloat(document.getElementById('tp-drive').value) || 0;
  var duty  = parseFloat(document.getElementById('tp-duty').value)  || 0;
  var rest  = parseFloat(document.getElementById('tp-rest').value)  || 0;
  var r = document.getElementById('tp-hours-result');
  var issues = [];
  if (drive > 10) issues.push('‚õî Driving exceeds 10hr max (extension)');
  else if (drive > 9) issues.push('‚ö†Ô∏è Using 10hr extension ‚Äî max 2√ó/week');
  if (duty > 13) issues.push('‚õî On-duty exceeds 13hr max');
  if (rest < 9)  issues.push('‚õî Rest below 9hr minimum');
  else if (rest < 11) issues.push('‚ö†Ô∏è Reduced rest (9hr) ‚Äî max 3√ó/week');
  if (issues.length === 0) {
    r.className = 'tp-result ok';
    r.textContent = '‚úÖ COMPLIANT ‚Äî Drive ' + drive + 'h ¬∑ Duty ' + duty + 'h ¬∑ Rest ' + rest + 'h';
  } else {
    r.className = 'tp-result bad';
    r.innerHTML = issues.join('<br>');
  }
}
function tpCalcRate() {
  var rate  = parseFloat(document.getElementById('tp-loadrate').value) || 0;
  var miles = parseFloat(document.getElementById('tp-miles').value)    || 0;
  var fee   = parseFloat(document.getElementById('tp-feepct').value)   || 8;
  var r = document.getElementById('tp-rate-result');
  if (!rate || !miles) { r.className='tp-result bad'; r.textContent='Enter load rate and miles'; return; }
  var rpm = (rate / miles).toFixed(2);
  var feeAmt = (rate * fee / 100).toFixed(2);
  var sym = '¬£';
  r.className = 'tp-result info';
  r.innerHTML = 'RPM: <strong>' + sym + rpm + '/mile</strong><br>Fee (' + fee + '%): <strong>' + sym + feeAmt + '</strong><br>Carrier nets: <strong>' + sym + (rate - feeAmt).toFixed(2) + '</strong>';
}
function tpCalcTime() {
  var ist = document.getElementById('tp-ist').value;
  if (!ist) return;
  var parts = ist.split(':');
  var h = parseInt(parts[0]), m = parseInt(parts[1]);
  var totalMins = h * 60 + m;
  function fmt(mins) {
    mins = ((mins % 1440) + 1440) % 1440;
    var hh = Math.floor(mins/60), mm = mins%60;
    return (hh<10?'0':'')+hh+':'+(mm<10?'0':'')+mm;
  }
  var gmtMins  = totalMins - 330;
  var estMins  = totalMins - 630;
  var cstMins  = totalMins - 690;
  var pstMins  = totalMins - 810;
  var r = document.getElementById('tp-time-result');
  r.className = 'tp-result info';
  r.innerHTML = 'IST ' + ist + '<br>GMT/UK: <strong>' + fmt(gmtMins) + '</strong><br>EST (NY): <strong>' + fmt(estMins) + '</strong><br>CST (Chicago): <strong>' + fmt(cstMins) + '</strong><br>PST (LA): <strong>' + fmt(pstMins) + '</strong>';
}
</script>

<script>
// ‚îÄ‚îÄ Madam JI Knowledge Base + Chat ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
(function(){

  // ‚îÄ‚îÄ EMBEDDED KNOWLEDGE BASE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MADAM JI ‚Äî PRE-LOADED KNOWLEDGE BASE
// 200 Q&A pairs covering the full Eagle Academy course
// English + Hindi questions, English answers
// Fuzzy keyword matching ‚Äî score 0-100, threshold 40
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê


// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// FUZZY SEARCH ENGINE
// Scores each KB entry against the query
// Returns best match if score >= threshold
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function mjSearch(query) {
  if (!query) return null;
  var q = query.toLowerCase()
    .replace(/[?!‡•§,]/g,'')
    .replace(/\s+/g,' ')
    .trim();
  var words = q.split(' ').filter(function(w){ return w.length > 2; });
  
  var best = null;
  var bestScore = 0;

  for (var i = 0; i < MJ_KB.length; i++) {
    var entry = MJ_KB[i];
    var score = 0;

    for (var k = 0; k < entry.k.length; k++) {
      var kw = entry.k[k].toLowerCase();
      // Exact phrase match = very high score
      if (q.indexOf(kw) !== -1) {
        score = Math.max(score, kw.length > 6 ? 90 : 70);
      }
      // Keyword phrase words match
      var kwWords = kw.split(' ');
      var matchedKwWords = 0;
      for (var kw2 = 0; kw2 < kwWords.length; kw2++) {
        if (q.indexOf(kwWords[kw2]) !== -1) matchedKwWords++;
      }
      if (kwWords.length > 0) {
        score = Math.max(score, Math.round((matchedKwWords / kwWords.length) * 75));
      }
    }

    // Also check individual query words against keywords
    for (var w = 0; w < words.length; w++) {
      var word = words[w];
      if (word.length < 3) continue;
      for (var k2 = 0; k2 < entry.k.length; k2++) {
        if (entry.k[k2].indexOf(word) !== -1) {
          score = Math.max(score, 45);
          break;
        }
      }
    }

    if (score > bestScore) {
      bestScore = score;
      best = entry;
    }
  }

  // Threshold: 40+ = good enough match
  return bestScore >= 40 ? { entry: best, score: bestScore } : null;
}


  // ‚îÄ‚îÄ EMBEDDED KNOWLEDGE BASE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  var MJ_KB = [
  {k:['what is freight dispatch','freight dispatcher','dispatch kya','dispatcher kya karta','dispatcher job'],
  a:'A freight dispatcher connects truck carriers with shippers who need loads moved. You find loads on load boards, negotiate rates, handle paperwork, and keep communication between all parties.\n\nDispatcher carriers ko shippers se connect karta hai ‚Äî jo loads move karna chahte hain.'},
  
  {k:['shipper broker carrier','logistics chain','who is shipper','who is broker','broker kya hota','shipper kya hota','three players'],
  a:'The logistics chain has 3 key players:\n\nShipper ‚Äî the company with goods to move\nBroker ‚Äî middle person connecting shippers with carriers, licensed with FMCSA\nCarrier ‚Äî the trucking company that moves the freight\n\nPayment: Shipper pays Broker, Broker pays Carrier, Carrier pays Dispatcher fee'},
  
  {k:['mc number','motor carrier','fmcsa','dot number','mc number check'],
  a:'MC Number is a licence issued by FMCSA in the USA. Every carrier must have one to legally haul freight for hire.\n\nAlways verify a carrier MC number before booking a load ‚Äî check at safer.fmcsa.dot.gov ‚Äî look for "Authorized for Hire" status.\n\nNever book with a carrier whose MC is not active!'},
  
  {k:['o licence','operators licence','o-licence kya','operator licence uk','goods vehicle','transport manager'],
  a:'O-Licence (Operators Licence) is the UK legal requirement to operate commercial goods vehicles over 3.5 tonnes.\n\nThree types:\n- Standard National ‚Äî UK only\n- Standard International ‚Äî UK and Europe\n- Restricted ‚Äî own goods only\n\nRequirements: Transport Manager (CPC qualified), safe operating centre, maintenance records. DVSA enforces it. Operating without one = criminal offence!'},
  
  {k:['double brokering','re-brokering','broker fraud','load fraud'],
  a:'Double brokering is when a broker secretly re-brokers your load to another carrier without permission. It is illegal and serious fraud.\n\nWarning signs: Carrier asks to re-assign the load, different carrier shows up than on Rate Con, carrier cannot show their own MC authority.\n\nProtection: Always verify carrier MC before dispatch, get signed Rate Confirmation immediately.'},
  
  {k:['icar','icar method','icar kya hai','introduce confirm authorise rate','dispatch call','carrier call script','how to call carrier'],
  a:'ICAR is the 4-step call structure every dispatcher uses:\n\nI - Introduce: "Hi, this is [Name] dispatching for [Carrier Name], MC# [number]"\nC - Confirm: Confirm load details ‚Äî pickup, delivery, weight, equipment\nA - Authorise: Verify broker MC number, check credit score on DAT\nR - Rate: Negotiate the rate per mile, get agreement before ending call\n\nPractice this until it is automatic!'},
  
  {k:['dispatcher agreement','dispatch contract','service agreement','agreement kya hota','legal agreement'],
  a:'A Dispatcher Service Agreement is the contract between you and your carrier client.\n\nKey clauses it must include:\n- Your fee percentage (typically 5-10%)\n- Services you provide\n- Payment terms\n- Termination notice period\n- Independent contractor status (not employee)\n\nNever start dispatching without a signed agreement!'},
  
  {k:['dry van','dry van kya','dry van trailer','box trailer','most common trailer','standard trailer'],
  a:'Dry Van is the most common trailer type ‚Äî an enclosed box trailer that protects cargo from weather.\n\nWhat it carries: Packaged goods, boxes, pallets, non-perishable items\nStandard size: 53 feet long\nMax payload: around 44,000 lbs\n\nBest for beginners ‚Äî most loads on load boards are dry van.\n\nDry van = band enclosed trailer jo sabse common hai'},
  
  {k:['flatbed','flatbed trailer','flatbed kya','flat bed','open trailer','step deck'],
  a:'Flatbed trailers have no walls or roof ‚Äî cargo is exposed and must be strapped and tarped.\n\nWhat it carries: Steel, lumber, machinery, construction equipment, oversized loads\nRequires: Proper strapping, tarping skills, securement knowledge\nPays more than dry van due to skill required\n\nFlatbed mein koi side wall nahi hoti ‚Äî cargo khula hota hai'},
  
  {k:['reefer','refrigerated','temperature controlled','cold chain','reefer kya','refrigerated trailer','frozen loads','perishable'],
  a:'Reefer (Refrigerated trailer) maintains temperature-controlled environment for perishable cargo.\n\nTemperature ranges:\n- Frozen: -10F to 0F\n- Fresh: 34F to 40F\n\nWhat it carries: Meat, produce, dairy, pharmaceuticals\n\nMust monitor temperature logs ‚Äî any temperature deviation = rejected load. Pays premium rates.'},
  
  {k:['tanker','tanker trailer','liquid freight','bulk liquid','tanker kya','hazmat','hazardous material'],
  a:'Tanker trailers carry liquid or bulk cargo ‚Äî food grade or chemical.\n\nTypes:\n- Food grade: Milk, juice, liquid sugar, edible oils\n- Chemical: Acids, solvents, fuel (requires HAZMAT endorsement)\n- Dry bulk: Cement, grain, sand\n\nSpecial requirements: CDL with Tanker endorsement, HAZMAT for chemicals'},
  
  {k:['ftl ltl','full truck load','less than truck load','ftl kya','ltl kya','full load','partial load','ftl vs ltl'],
  a:'FTL vs LTL key difference:\n\nFTL (Full Truck Load): One shipper fills the whole trailer, direct pickup to delivery, simpler to manage, best for beginners\n\nLTL (Less Than Truck Load): Multiple shippers share one trailer, multiple pickups and deliveries, more complex\n\nStart with FTL ‚Äî master it before moving to LTL!'},
  
  {k:['intermodal','intermodal kya','container','rail freight','port freight','drayage'],
  a:'Intermodal freight uses multiple transport modes ‚Äî typically ocean ship + rail + truck.\n\nThe journey: Container arrives at port by ship, drayage truck moves it to rail yard, rail carries it across country, local truck delivers to destination.\n\nDrayage = short local truck move connecting transport modes (port to rail, rail to warehouse)'},
  
  {k:['curtainsider','curtain trailer','tautliner','uk trailer','side curtain'],
  a:'Curtainsider (Tautliner) is the most common trailer type in UK and Europe ‚Äî not common in USA.\n\nThe sides are made of sliding curtain fabric instead of solid walls.\n\nAdvantages: Easy forklift loading from sides, faster loading\nCarries: Palletised goods, building materials, retail deliveries\n\nVery common in UK pallet network deliveries!'},
  
  {k:['low loader','low bed','heavy haulage','oversized load','abnormal load','wide load'],
  a:'Low loader trailers are used for very tall or heavy cargo that will not fit standard trailers.\n\nWhat it carries: Construction machinery, cranes, industrial equipment, transformers\n\nRequires: Special permits, police escorts for wide loads, route surveys\n\nUK term: Abnormal load ‚Äî requires DVSA notification and sometimes road closures'},
  
  {k:['chicago','chicago hub','chicago freight','midwest','chicago why important','logistics hub'],
  a:'Chicago is the most important freight hub in North America.\n\nWhy Chicago matters:\n- Intersection of 6 major interstate highways\n- Largest rail hub in USA ‚Äî 25% of all US rail freight\n- Central location connecting East, West, South\n- Home to major distribution centres for most retailers\n\nMany of your loads will start, end, or pass through Chicago!'},
  
  {k:['dallas','texas freight','dallas hub','southern freight','texas lanes'],
  a:'Dallas-Fort Worth is the second biggest freight hub in the USA.\n\nWhy Dallas matters:\n- Central location connecting all four US regions\n- Massive manufacturing and distribution activity\n- Houston nearby = huge port freight connection\n- Dallas-Chicago corridor is one of the highest paying lanes\n\nKey routes: I-35 North to Chicago, I-20 East to Atlanta, I-10 West to LA'},
  
  {k:['northeast','new york','boston','difficult lanes','congestion','northeast freight'],
  a:'The Northeast (NY, NJ, Boston, Philadelphia) is the hardest region to dispatch.\n\nWhy it is difficult:\n- Heavy traffic and congestion = slow deliveries\n- City restrictions on truck sizes and hours\n- Tolls are expensive\n- Parking extremely limited\n- Higher rates but much harder to find willing carriers\n\nNewer dispatchers should avoid Northeast loads until experienced!'},
  
  {k:['hot lane','high paying lane','best lanes','good lane','profitable lane'],
  a:'Hot lanes are routes with high demand and good paying rates.\n\nConsistently hot lanes:\n- Dallas to Chicago (I-35 North) ‚Äî always high demand\n- LA to Chicago (I-40/I-80) ‚Äî long haul, great RPM\n- Atlanta to Northeast ‚Äî retail distribution\n- Texas to Southeast ‚Äî manufacturing freight\n\nHow to spot a hot lane: Compare DAT rate history. If current rate is 20% above average = hot lane!'},
  
  {k:['deadhead','deadhead miles','empty miles','deadhead kya','empty truck'],
  a:'Deadhead miles = miles driven with an empty trailer (no load, no revenue).\n\nEvery deadhead mile costs fuel but earns nothing.\n\nGood dispatcher target: Keep deadhead under 15% of total miles.\n\nHow to minimise deadhead:\n- Find backhaul loads near delivery point\n- Search load boards for loads within 50 miles of delivery\n- Build relationships with brokers at popular delivery areas\n\nDeadhead = khali truck ka safar ‚Äî koi payment nahi milti'},
  
  {k:['hours of service','hos','driving hours','11 hour rule','14 hour rule','70 hour rule','hos kya','driving limit'],
  a:'USA Hours of Service (HOS) Rules:\n\n- 11 hours max driving after 10hr off duty\n- 14 hours max on-duty window (driving + other work)\n- 30 minute break required after 8 hours driving\n- 70 hours max in 8 consecutive days\n- 34-hour restart resets the 70hr clock\n\nIf driver hits limits they MUST stop. Dispatcher cannot pressure driver to violate HOS!'},
  
  {k:['uk drivers hours','eu drivers hours','9 hours','10 hours','45 minute break','uk driving limit'],
  a:'UK/EU Drivers Hours Rules:\n\nDaily limits:\n- 9 hours normal daily driving\n- 10 hours extended limit ‚Äî max 2 times per week\n- 45-minute break after 4.5 hours driving\n- 11 hours normal daily rest\n\nWeekly limits:\n- 56 hours max per week\n- 90 hours max per fortnight\n- 45 hours weekly rest required'},
  
  {k:['eld','electronic logging device','eld kya','eld mandate','hours of service log','paper log','logbook'],
  a:'ELD (Electronic Logging Device) ‚Äî mandatory in USA since 2017.\n\nWhat it does:\n- Automatically records driving time via vehicle engine connection\n- Cannot be edited unlike paper logs\n- Syncs with FMCSA database\n- Officers can check it roadside\n\nNEVER ask a driver to violate their ELD hours!'},
  
  {k:['tachograph','tacho','tachograph kya','digital tachograph','tacho rules','dvsa tacho'],
  a:'Tachograph is the UK/EU equivalent of ELD ‚Äî records driver hours and speed automatically.\n\nTwo types:\n- Analogue ‚Äî uses paper disc (older vehicles)\n- Digital ‚Äî stores data on driver smartcard\n\nDriver must insert personal smartcard before driving and select correct mode.\n\nDVSA can request 28 days of records at roadside. Infringements = fines and O-Licence risk!'},
  
  {k:['wtd','working time directive','48 hour week','working hours uk','wtd kya'],
  a:'WTD (Working Time Directive) ‚Äî UK law on maximum working hours.\n\nKey limits:\n- 48 hours average per week (averaged over 17 weeks)\n- Break required after 6 hours work\n- Night workers limited to 10 hours per night shift\n\nFor transport workers: Driving time + loading + waiting + admin all count as working time. WTD and drivers hours rules BOTH apply simultaneously!'},
  
  {k:['dvsa','driver vehicle standards agency','dvsa kya','roadside check','vehicle inspection','prohibition'],
  a:'DVSA (Driver and Vehicle Standards Agency) ‚Äî UK transport enforcement agency.\n\nWhat they do:\n- Roadside vehicle and driver checks\n- Issue immediate prohibitions for dangerous vehicles\n- Investigate O-Licence holders\n- Check tachograph records\n- Enforce drivers hours compliance\n\nClean DVSA record = good reputation, easier O-Licence renewal'},
  
  {k:['cmr','cmr note','consignment note','cmr kya','international freight document'],
  a:'CMR Note is the standard international road freight consignment document.\n\nRequired for all international road freight in Europe.\n\nContains: Sender and receiver details, description of goods, weight, carrier details, vehicle registration, signatures at collection and delivery.\n\nCMR acts as proof of collection AND contract between shipper and carrier. Keep copies for 7 years!'},
  
  {k:['dat','dat load board','dat kya','dat freight','load board','where to find loads','find loads'],
  a:'DAT is the largest load board in the USA with over 1.4 million loads posted daily.\n\nWhat you can do on DAT:\n- Search loads by origin, destination, equipment type\n- See real-time rate data\n- Check carrier credit scores before booking\n- Access historical rate trends\n\nDAT = USA ka sabse bada load board hai'},
  
  {k:['rpm','rate per mile','rpm kya','calculate rpm','good rpm','rate calculation','how to calculate rate'],
  a:'RPM (Rate Per Mile) = Total load rate divided by Total miles\n\nExample: 1800 load / 400 miles = 4.50 per mile\n\nTarget RPMs (USA averages):\n- Dry Van: $2.50-3.50/mile is good\n- Reefer: $3.00-4.00/mile\n- Flatbed: $3.00-4.50/mile\n\nUK rates per mile:\n- General haulage: 1.80-2.80/mile\n- Temperature controlled: 2.50-3.50/mile\n\nAlways calculate RPM before accepting any load!'},
  
  {k:['rate confirmation','rate con','rate confirmation kya','load contract','what is rate con','dispatch paperwork'],
  a:'Rate Confirmation (Rate Con) is the official contract between broker and carrier for a specific load.\n\nMust contain: Load number, broker details and MC number, pickup and delivery addresses, agreed rate, payment terms, special instructions.\n\nRules:\n- ALWAYS get signed Rate Con BEFORE truck arrives at shipper\n- Never dispatch without a signed Rate Con\n- If rate changes, get a new Rate Con ‚Äî verbal changes mean nothing legally!'},
  
  {k:['credit score','broker credit score','dat credit score','check broker','broker verify','safe broker'],
  a:'Broker credit score tells you if a broker pays carriers on time.\n\nDAT Credit Score ranges:\n- 90-100: Excellent, pay reliably and quickly\n- 70-89: Good, occasional slow payment\n- 50-69: Risky, check payment terms carefully\n- Below 50: AVOID ‚Äî serious payment history issues\n\nAlways check credit score on DAT before booking with a new broker!\n\nDAT par broker ka credit score check karo ‚Äî 80+ safe hai'},
  
  {k:['bol','bill of lading','bill of lading kya','bol kya','pickup document','proof of delivery','pod'],
  a:'BOL (Bill of Lading) is the most important freight document ‚Äî proof the load was picked up.\n\nBOL contains: Shipper name and address, receiver name and address, commodity, weight, piece count, driver signature and date at pickup.\n\nThree key moments:\n1. At pickup ‚Äî driver signs BOL\n2. In transit ‚Äî BOL travels with the load\n3. At delivery ‚Äî receiver signs as POD (Proof of Delivery)\n\nNo signed BOL = no proof load was collected!'},
  
  {k:['detention','detention pay','waiting time','layover','detention kya','shipper delay'],
  a:'Detention pay = payment to carrier when shipper or receiver causes excessive waiting time.\n\nStandard terms:\n- First 2 hours of waiting = free\n- After 2 hours = detention, typically $50-75 per hour USA\n\nAs dispatcher:\n- Note arrival time when driver arrives\n- Notify broker immediately if detention starts\n- Get detention approval from broker in writing\n- Add detention to the invoice\n\nDetention MUST be pre-approved by broker!'},
  
  {k:['quickpay','quick pay','fast payment','payment terms','net 30','factoring','when do i get paid'],
  a:'Payment terms in freight dispatching:\n\nStandard: Net-30 ‚Äî broker pays carrier 30 days after delivery\nQuickPay: Pay extra fee (1.5-5%) to get paid in 1-3 days\nFactoring: Third-party company buys your invoices, pays same day (takes 2-4% fee)\n\nRecommend QuickPay to your carriers ‚Äî better cash flow for everyone.'},
  
  {k:['courier exchange','cx','haulage exchange','uk load board','uk freight exchange'],
  a:'Courier Exchange (CX) is the largest UK freight exchange platform.\n\nHow it works:\n- Haulage companies post available capacity (empty trucks)\n- Members post loads needing transport\n- All members are vetted and insured\n- Real-time load tracking available\n\nFor UK freight dispatching, CX membership is essential. Most UK owner-operators are on it.'},
  
  {k:['pallet network','palletforce','pall-ex','tpn','uk pallet','pallet delivery'],
  a:'UK Pallet Networks are systems where hauliers collaborate to deliver pallets nationally.\n\nMain networks:\n- Palletforce ‚Äî premium, highest standards\n- Pall-Ex ‚Äî good coverage, competitive\n- TPN (The Pallet Network) ‚Äî large membership\n- Palletline ‚Äî strong in Midlands/North\n\nHow it works: Local haulier collects pallets, takes to regional hub overnight, hub distributes to local hauliers near destination, they deliver last mile.'},
  
  {k:['time zone','ist','gmt','est','pst','india time','usa time','time difference','ist to est','ist to gmt'],
  a:'Time zone chart for Indian freight dispatchers:\n\nIST (India) is the reference:\n- IST = GMT/UK + 5:30 hours\n- IST = EST New York + 10:30 hours\n- IST = CST Chicago + 11:30 hours\n- IST = PST Los Angeles + 13:30 hours\n\nPractical example:\n- 9:00 AM IST = 3:30 AM GMT = 10:30 PM EST previous day\n- To reach Chicago brokers at 9 AM their time, you call at 8:30 PM IST\n\nUSA business hours (8AM-6PM local) = your evening/night shift!'},
  
  {k:['working hours dispatcher','shift timing','dispatcher shift','india dispatcher schedule','night shift'],
  a:'Working schedule for Indian dispatchers working USA loads:\n\nUSA East Coast (EST) loads:\n- Brokers active 8AM-6PM EST = 6:30PM-4:30AM IST\n- Your working window: around 7PM-2AM IST covers peak hours\n\nUSA West Coast (PST) loads:\n- Your working window: around 10PM-4AM IST\n\nUK loads:\n- UK working hours: 7AM-6PM GMT = 12:30PM-11:30PM IST\n- Much more comfortable afternoon/evening IST shift!'},
  
  {k:['how to negotiate','negotiation','rate negotiation','negotiate with broker','how to get better rate'],
  a:'Rate negotiation tips:\n\nOpening move: Never accept the first offer. Always counter.\n\nScript: "The market rate on DAT for this lane is $X. We can do this for $[higher amount]."\n\nTactics:\n- Quote 10-15% above what you would accept\n- Reference DAT rate data ‚Äî makes you sound professional\n- Be willing to walk away ‚Äî brokers often come back\n- Build relationships ‚Äî repeat brokers give better rates'},
  
  {k:['dispatcher fee','commission','percentage','how much charge','fee structure'],
  a:'Dispatcher fees typically range from 5% to 10% of gross load rate.\n\nCommon structures:\n- 5-7%: Standard for high volume, long-term carriers\n- 8-10%: Standard for newer relationships or complex freight\n- Flat fee: Some charge per load instead of percentage\n\nExample: $3,000 load at 8% = $240 dispatcher fee\n\nFee is always specified in Dispatcher Service Agreement and invoiced separately.'},
  
  {k:['how to start','how to become dispatcher','dispatcher kaise bane','start dispatching','new dispatcher','first step'],
  a:'How to start your freight dispatching career:\n\nStep 1: Complete your training (you are doing it now!)\nStep 2: Prepare your documents ‚Äî Dispatcher Service Agreement template\nStep 3: Set up your tools ‚Äî DAT account, email, phone\nStep 4: Find your first carrier ‚Äî Facebook trucking groups, LinkedIn, cold outreach\nStep 5: Sign them up, verify their MC details\nStep 6: Find their first load using ICAR call method\nStep 7: Deliver and invoice ‚Äî build the relationship\n\nStart with 1-2 carriers, master the process, then grow!'},
  
  {k:['dispatcher tools','software','crm','tools needed','what software','dispatcher software'],
  a:'Essential tools for a freight dispatcher:\n\nMust have:\n- DAT Load Board ‚Äî find loads and check rates\n- Google Sheets/Excel ‚Äî track loads, carriers, invoices\n- Professional email ‚Äî all communication\n- Phone ‚Äî calling brokers and carriers\n\nRecommended:\n- Truckstop.com ‚Äî second load board\n- QuickBooks ‚Äî accounting and invoicing\n- WhatsApp ‚Äî quick updates with carriers\n\nStart free with Google Sheets for tracking ‚Äî upgrade as you grow'},
  
  {k:['what is eagle academy','eagle academy','about this course','course kya hai','what will i learn'],
  a:'Eagle Academy is a UK Freight Dispatcher Certification course designed for Indian students.\n\nThe 4-week programme covers:\n- Week 1: Dispatch foundations, freight types, logistics chain\n- Week 2: Geography, lanes, USA and UK markets\n- Week 3: Hours of service, tachographs, DVSA, UK regulations\n- Week 4: Load boards, rate calculation, invoicing, career launch\n\nBy the end you will be job-ready to work as a UK-based freight coordinator or remote dispatcher!'},
  
  {k:['madam ji','who are you','aap kaun ho','who is madam ji','about madam ji'],
  a:'Namaste! I am Madam JI ‚Äî your AI study assistant for Eagle Academy!\n\nI am here to help you understand freight dispatching. Ask me anything about:\n- UK transport law and regulations\n- USA freight operations\n- Load boards and rate calculation\n- Tachographs, drivers hours, DVSA\n- ICAR method and dispatcher calls\n- BOL, Rate Confirmation, CMR documents\n\nAsk in English ya Hindi mein ‚Äî koi bhi sawaal pucho!'},
  
  {k:['dispatcher kya hota hai','dispatcher ka kaam','freight dispatcher hindi'],
  a:'Freight Dispatcher ek aisa professional hota hai jo truck carriers ko shippers se connect karta hai.\n\nAapka kaam hoga:\n- Load boards par loads dhundhna (DAT, Truckstop)\n- Brokers se rate negotiate karna\n- Drivers ke saath coordination karna\n- Sabhi documents handle karna (BOL, Rate Con)\n- Carrier ko on time delivery ensure karna\n\nYeh kaam ghar se bhi ho sakta hai ‚Äî laptop aur phone se!'},
  
  {k:['uk mein kaise kaam kare','uk freight','uk mein job','uk job kaise milegi'],
  a:'UK mein Freight Dispatcher ke roop mein kaam karne ke do tarike hain:\n\nOption 1: UK jakar kaam karna\n- Freight coordinator/administrator ke roop mein apply karein\n- Job boards: Indeed UK, Reed.co.uk, Totaljobs\n- Companies: DHL, XPO Logistics, Eddie Stobart\n\nOption 2: India se UK ke liye remote work\n- UK-based hauliers ke liye remote dispatcher banein\n- LinkedIn par UK transport companies connect karein\n\nEagle Academy certification aapko dono ke liye taiyaar karti hai!'},
  
  {k:['exam','test','quiz','pass karna','final exam','certificate kaise milega','exam kaise pass kare'],
  a:'Eagle Academy Final Exam ke baare mein:\n\nStructure:\n- Multiple choice questions covering all 4 weeks\n- Time limit: 60 minutes\n- Pass mark: 70%\n\nBest preparation:\n- Complete all week quizzes first\n- Review topics where you scored low\n- Use these Q&A chips to revise key concepts\n- Practice ICAR method out loud\n\nPass karne par Eagle Academy Freight Dispatcher Certificate milega ‚Äî ise LinkedIn par add karein!'},
  
  {k:['invoice','carrier invoice','how to invoice','billing','freight invoice'],
  a:'How to invoice after a load delivers:\n\nCarrier invoice must include: Carrier name, MC number, address, load number, origin and destination, delivery date, agreed rate from Rate Con, any extras like detention.\n\nAttach these documents: Signed Rate Confirmation, Signed BOL, Signed POD (Proof of Delivery)\n\nSend to broker accounts payable email within 48 hours of delivery. Late invoicing = late payment!'}
  
  ]; // end MJ_KB
  
  function mjSearch(query) {
    if (!query) return null;
    var q = query.toLowerCase().replace(/[?!,‡•§]/g,'').trim();
    var words = q.split(' ').filter(function(w){ return w.length > 2; });
    var best = null, bestScore = 0;
    for (var i = 0; i < MJ_KB.length; i++) {
      var entry = MJ_KB[i], score = 0;
      for (var k = 0; k < entry.k.length; k++) {
        var kw = entry.k[k].toLowerCase();
        if (q.indexOf(kw) !== -1) { score = Math.max(score, kw.length > 6 ? 90 : 70); }
        var kww = kw.split(' '), matched = 0;
        for (var j = 0; j < kww.length; j++) { if (q.indexOf(kww[j]) !== -1) matched++; }
        if (kww.length > 0) score = Math.max(score, Math.round((matched / kww.length) * 75));
      }
      for (var w = 0; w < words.length; w++) {
        for (var k2 = 0; k2 < entry.k.length; k2++) {
          if (entry.k[k2].indexOf(words[w]) !== -1) { score = Math.max(score, 45); break; }
        }
      }
      if (score > bestScore) { bestScore = score; best = entry; }
    }
    return bestScore >= 40 ? {entry: best, score: bestScore} : null;
  }
  
  // end MJ_KB marker

  var mjHistory = [];
  var mjApiKey = '';
  try { mjApiKey = localStorage.getItem('ea_mj_key') || ''; } catch(e){}
  if (!mjApiKey) document.getElementById('mj-key-row').style.display = 'block';

  var MJ_SYSTEM = 'You are Madam JI ‚Äî the AI study assistant for Eagle Academy UK Freight Dispatcher Certification. Help students understand UK and international freight dispatch. Be friendly, encouraging, concise. Topics: UK transport law, O-Licence, DVSA, tachographs, CMR notes, drivers hours, WTD, Courier Exchange, pallet networks, USA HOS rules, ICAR method, load boards, BOL, Rate Confirmation. Never mention earnings or income promises. Respond in Hindi if asked.';

  window.mjToggle = function(){
    var p = document.getElementById('mj-popup');
    var t = document.getElementById('tools-popup');
    if(t) t.classList.remove('open');
    p.classList.toggle('open');
    if(p.classList.contains('open')) setTimeout(function(){ var q=document.getElementById('mj-q'); if(q) q.focus(); },300);
  };
  window.toolsToggle = function(){
    var p = document.getElementById('tools-popup');
    var m = document.getElementById('mj-popup');
    if(m) m.classList.remove('open');
    p.classList.toggle('open');
  };
  window.mjChip = function(q){ if(!q) return; var i=document.getElementById('mj-q'); if(i) i.value=q; window.mjSend(); };
  window.mjSaveKey = function(v){ mjApiKey=v.trim(); try{localStorage.setItem('ea_mj_key',mjApiKey);}catch(e){} if(mjApiKey) document.getElementById('mj-key-row').style.display='none'; };
  window.mjSend = async function(){
    var inp=document.getElementById('mj-q'); var q=inp?inp.value.trim():''; if(!q) return; if(inp) inp.value='';

    mjAdd(q,'user');

    // ‚îÄ‚îÄ STEP 1: Search knowledge base first ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    var match = mjSearch(q);
    if (match) {
      // Found a good match ‚Äî answer instantly, no API needed
      var answer = match.entry.a;
      // Format markdown-style bold
      answer = answer.replace(/\*\*(.*?)\*\*/g, '$1');
      setTimeout(function(){ mjAddFormatted(answer,'bot'); }, 300);
      mjHistory.push({role:'user',content:q});
      mjHistory.push({role:'assistant',content:answer});
      return;
    }

    // ‚îÄ‚îÄ STEP 2: No KB match ‚Äî try API if available ‚îÄ
    mjHistory.push({role:'user',content:q});

    if (!mjApiKey){
      document.getElementById('mj-key-row').style.display='block';
      var msgs=document.getElementById('mj-msgs');
      var lastMsg=msgs?msgs.querySelector('.mj-msg.bot:last-child'):null;
      if(!lastMsg||!lastMsg.textContent.includes('API key')){
        setTimeout(function(){
          mjAdd('I do not have a pre-loaded answer for that. Add an API key below to ask anything ‚Äî or try rephrasing!','bot');
        },300);
      }
      return;
    }

    var t=document.createElement('div'); t.className='mj-msg bot typing'; t.id='mj-typing';
    t.innerHTML='<div class="mj-dot"></div><div class="mj-dot"></div><div class="mj-dot"></div>';
    document.getElementById('mj-msgs').appendChild(t); mjScroll();
    try {
      var r=await fetch('https://api.anthropic.com/v1/messages',{method:'POST',headers:{'Content-Type':'application/json','x-api-key':mjApiKey,'anthropic-version':'2023-06-01','anthropic-dangerous-direct-browser-access':'true'},body:JSON.stringify({model:'claude-haiku-4-5-20251001',max_tokens:500,system:MJ_SYSTEM,messages:mjHistory})});
      var d=await r.json(); var reply=d.content&&d.content[0]?d.content[0].text:'Sorry, try again.';
      mjHistory.push({role:'assistant',content:reply});
      var ty=document.getElementById('mj-typing'); if(ty) ty.remove();
      mjAdd(reply,'bot');
    } catch(e){ var ty=document.getElementById('mj-typing'); if(ty) ty.remove(); mjAdd('Connection error ‚Äî check your internet or API key.','bot'); }
  };
  function mjAdd(text,role){ var d=document.createElement('div'); d.className='mj-msg '+role; d.textContent=text; document.getElementById('mj-msgs').appendChild(d); mjScroll(); }
  function mjAddFormatted(text,role){
    var d=document.createElement('div'); d.className='mj-msg '+role;
    var html = text.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n/g,'<br>');
    d.innerHTML = html;
    document.getElementById('mj-msgs').appendChild(d); mjScroll();
  }
  function mjScroll(){ var m=document.getElementById('mj-msgs'); if(m) m.scrollTop=m.scrollHeight; }
  document.addEventListener('click',function(e){
    var mf=document.getElementById('mj-fab'), mp=document.getElementById('mj-popup');
    var tf=document.getElementById('tools-fab'), tp=document.getElementById('tools-popup');
    if(mp&&mp.classList.contains('open')&&!mp.contains(e.target)&&e.target!==mf) mp.classList.remove('open');
    if(tp&&tp.classList.contains('open')&&!tp.contains(e.target)&&e.target!==tf) tp.classList.remove('open');
  });
})();
</script>
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê END FABs ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
</body>
</html>
